(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{346:function(e,a,t){e.exports=t(401)},399:function(e,a,t){},401:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(19),o=t.n(l),c=t(55),i=t(26),s=(t(355),t(72)),u=t(143),m=t(14),d=t(17),p={users:{},loading:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USER_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,users:a.payload});case"GET_USER_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"UPDATE_USER":var t=a.payload.person_no;return Object(d.a)(Object(d.a)({},e),{},{users:Object(d.a)(Object(d.a)({},e.users),{},Object(m.a)({},t,a.payload))});case"UPDATE_USERS":var n,r={},l=Object(u.a)(a.payload);try{for(l.s();!(n=l.n()).done;){var o=n.value;r[o.person_no]=o}}catch(c){l.e(c)}finally{l.f()}return Object(d.a)(Object(d.a)({},e),{},{users:Object(d.a)(Object(d.a)({},e.users),r)});default:return e}},f={error:null,isError:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ERROR":return Object(d.a)(Object(d.a)({},e),{},{isError:!0,error:a.payload.msg});case"HIDE_ERROR":return Object(d.a)(Object(d.a)({},e),{},{isError:!1,error:null});default:return e}},g={loggedIn:!1,user:{},jwt:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_SUCCESS":var t=a.payload,n=t.token,r=t.user;return localStorage.setItem("kmmms-token",n),Object(d.a)(Object(d.a)({},e),{},{jwt:n,loggedIn:!0,user:r});case"LOGOUT":return localStorage.removeItem("kmmms-token"),Object(d.a)(Object(d.a)({},e),{},{user:{},jwt:"",loggedIn:!1});default:return e}},_=Object(s.c)({user:E,error:h,auth:b}),y=[t(330).a],v=s.a.apply(void 0,y),O=Object(s.d)(_,v),j=t(31),S=t(331),w=t.n(S),C=function(e){return e.split(" ").join("")},x=function(e,a){e=C(e.toLowerCase()),a=C(a.toLowerCase());for(var t=0,n=0;n<a.length&&t<e.length;n++)e[t]===a[n]&&t++;return t===e.length},I={download:!1,print:!1,viewColumns:!1,selectableRows:"none",responsive:"standard",rowsPerPage:50,rowsPerPageOptions:[10,20,50,100],customSearch:function(e,a){return x(e,a[0])}},k=function(e){var a=e.columns,t=e.data,n=e.options,l=void 0===n?{}:n;return l=Object(d.a)(Object(d.a)({},l),I),r.a.createElement(w.a,{columns:a,options:l,data:t})},P=t(297),M=t(425),N=function(e){var a,t=e.user,n=t.mobile_1,l=t.mobile_2,o=!1;return n?a=n:l?a=l:o=!0,r.a.createElement(M.a,{onClick:o?void 0:function(){return document.location.href="tel:".concat(a)},color:"primary","aria-label":"Call person",style:{pointer:"cursor",margin:5,opacity:o?.5:1}})},T=t(18),D=t(322),B=t(295),U=t(296),R=t(300),F=t(91),A=t(427),G=t(299),L=t(298),Y=t(301),K=t(302),V=t(141),q=t(196),z=t.n(q),H=function(){return r.a.createElement("div",{style:{width:"100%",height:"5px",backgroundColor:"#007BFF",margin:"10px 0px 10px 0px",opacity:.5}})},J=function(e){var a=e.text;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,null),r.a.createElement("center",null,r.a.createElement("h4",null,a.toUpperCase())),r.a.createElement(H,null))},W=t(426),Q=Object(i.b)((function(e,a){return{familyMembers:Object.values(e.user.users).filter((function(e){return e.family_no===a.family_no}))}}))((function(e){var a=Object(n.useState)(!1),t=Object(T.a)(a,2),l=t[0],o=t[1],c=function(){o(!l)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{color:"primary","aria-label":"View Family",style:{margin:5,cursor:"pointer"},onClick:c}),r.a.createElement(D.a,{isOpen:l,toggle:c,scrollable:!0},r.a.createElement(B.a,{toggle:c},"Family Members"),r.a.createElement(U.a,null,e.familyMembers.map((function(e){return r.a.createElement(P.a,{key:e._id},r.a.createElement(L.a,null,r.a.createElement(G.a,null,r.a.createElement(L.a,null,e.fullname)),r.a.createElement(G.a,null,r.a.createElement("center",null,e.relationship_with_family_head)),r.a.createElement(G.a,{xs:"3"},r.a.createElement(N,{user:e}),r.a.createElement(Z,{user:e}))),r.a.createElement("hr",null))}))),r.a.createElement(R.a,null,r.a.createElement(F.a,{color:"danger",onClick:c},"Close"))))})),$=function(e){return e>10001?O.getState().user.users[e]:null},X=function(e){var a,t=e.user,l=Object(n.useState)(!0),o=Object(T.a)(l,2),c=o[0],i=o[1],s=Object(n.useState)(!0),u=Object(T.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(!0),E=Object(T.a)(p,2),f=E[0],h=E[1],g=function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,e),r.a.createElement(G.a,{xs:"6"},a))},b=function(e,a){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,g(e,a)),t&&r.a.createElement("hr",null))},_=function(e,a){var t=$(e);return r.a.createElement(L.a,null,r.a.createElement(G.a,null,a),r.a.createElement(G.a,null,t.fullname),r.a.createElement(G.a,null,r.a.createElement("center",null,r.a.createElement(Z,{user:t}),r.a.createElement(Q,{family_no:t.family_no}))))},y=function(e){var a=$(e);return r.a.createElement(L.a,{key:a._id},r.a.createElement(G.a,null,a.fullname),r.a.createElement(G.a,null,r.a.createElement("center",null,r.a.createElement(Z,{user:a}),r.a.createElement(Q,{family_no:a.family_no}))))},v=function(e){return r.a.createElement("a",{href:"tel:".concat(e)},e)},O=t.person_no,j=t.family_no,S=t.name,w=t.surname,C=t.father_or_husband_name,x=t.relationship_with_family_head,I=t.native_place,k=t.blood_group,M=t.gender,N=t.date_of_birth,D=t.marital_status,B=t.marriage_date,U=t.father_in_law_name,R=t.mobile_1,F=t.mobile_2,A=t.email_address,q=t.education,W=t.education_specialisation,X=t.stream,ee=t.profession,ae=t.residential_address_line_1,te=t.residential_address_state,ne=t.residential_address_city,re=t.pin_code,le=t.residential_landline,oe=t.office_address,ce=t.office_address_state,ie=t.office_address_city,se=t.office_address_pin,ue=t.landline_office,me=t.relationships;return r.a.createElement(P.a,null,r.a.createElement(J,{text:"System Information"}),b("Person number",O),b("Family number",j),r.a.createElement(J,{text:"Profile"}),b("First Name",S),b("Middle Name",C),b("Last Name",w),b("Relation",x),b("Native",I,!1),r.a.createElement(H,null),b("Blood Group",k),b("Gender",M),b("Date of Birth",r.a.createElement(z.a,{format:"DD/MM/YYYY"},N)),r.a.createElement(L.a,null,g("Marital Status",D),B?r.a.createElement(z.a,{format:"DD/MM/YYYY"},B):null),r.a.createElement("hr",null),b("Father in Law",U,!1),r.a.createElement(J,{text:"Communication"}),R?b("Mobile #1",v(R)):null,F?b("Mobile #2",v(F)):null,A?b("Email",(a=A,r.a.createElement("a",{href:"mailto:".concat(a)},a))):null,r.a.createElement(J,{text:"Education"}),b("Education",q),b("Specialisation",W),b("Stream",X),b("Profession",ee,!1),r.a.createElement(J,{text:"Residence"}),b("Address",ae),b("City",ne),b("State",te),b("Pin Code",re),le?b("Landline",v(le)):null,r.a.createElement(J,{text:"Office"}),b("Address",oe),b("City",ie),b("State",ce),b("Pin Code",se),ue?b("Landline",v(ue)):null,r.a.createElement(J,{text:"Relationships"}),r.a.createElement(Y.a,null,me.father?r.a.createElement(K.a,{style:{cursor:"pointer"},action:!0},_(me.father,"Father")):null,me.mother?r.a.createElement(K.a,{style:{cursor:"pointer"},action:!0},_(me.mother,"Mother")):null,me.brothers&&me.brothers.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{style:{cursor:"pointer"},onClick:function(){return i(!c)},action:!0},"Brothers"),r.a.createElement(V.a,{isOpen:c},me.brothers?r.a.createElement(P.a,null,me.brothers.map((function(e){return y(e)}))):null)):null,me.sisters&&me.sisters.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{style:{cursor:"pointer"},onClick:function(){return d(!m)},action:!0},"Sisters"),r.a.createElement(V.a,{isOpen:m},me.sisters?r.a.createElement(P.a,null,me.sisters.map((function(e){return y(e)}))):null)):null,me.children&&me.children.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{style:{cursor:"pointer"},onClick:function(){return h(!f)},action:!0},"Children"),r.a.createElement(V.a,{isOpen:f},me.children?r.a.createElement(P.a,null,me.children.map((function(e){return y(e)}))):null)):null))},Z=Object(i.b)((function(e,a){return a.user?{}:{user:e.user.users[a.userId]}}),null)((function(e){var a=e.user,t=a.fullname,l=Object(n.useState)(!1),o=Object(T.a)(l,2),c=o[0],i=o[1],s=function(){i(!c)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{color:"primary","aria-label":"View person",style:{margin:5,cursor:"pointer"},onClick:s}),r.a.createElement(D.a,{isOpen:c,toggle:s,scrollable:!0},r.a.createElement(B.a,{toggle:s},t),r.a.createElement(U.a,null,r.a.createElement(X,{user:a})),r.a.createElement(R.a,null,r.a.createElement(F.a,{color:"danger",onClick:s},"Close"))))})),ee=function(e){var a=e.call,t=void 0===a||a,n=e.person,l=void 0===n||n,o=e.family,c=void 0===o||o,i=e.user;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(N,{user:i}):null,l?r.a.createElement(Z,{user:i}):null,c?r.a.createElement(Q,{family_no:i.family_no}):null)},ae=t(62),te=t.n(ae),ne=t(84),re=function(e){return{type:"GET_USER_SUCCESS",payload:e}},le=function(){return function(){var e=Object(ne.a)(te.a.mark((function e(a){var t,n,r,l,o,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"GET_USER_REQUEST"}),e.prev=1,e.next=4,fetch("/api/users/");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r={},l=Object(u.a)(n);try{for(l.s();!(o=l.n()).done;)c=o.value,r[c.person_no]=c}catch(i){l.e(i)}finally{l.f()}a(re(r)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),alert(e.t0.msg);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(a){return e.apply(this,arguments)}}()},oe=Object(i.b)((function(e){return{users:e.user.users,loading:e.user.loading}}),{getUsers:le})((function(e){var a=e.getUsers,t=e.users;Object(n.useEffect)((function(){0===t.length&&a()}),[]);var l={filter:!0,sort:!1,display:!1,filterType:"dropdown"},o=Object(d.a)(Object(d.a)({},l),{},{filterType:"multiselect"}),c=[{name:"fullname",label:"Name",options:{filter:!1,sort:!0,sortThirdClickReset:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1,download:!1}},{name:"gender",label:"Gender",options:l},{name:"surname",label:"Surname",options:o},{name:"relationship_with_family_head",label:"Family Status",options:o},{name:"marital_status",label:"Marital Status",options:o},{name:"blood_group",label:"Blood Group",options:o},{name:"native_place",label:"Native Place",options:o},{name:"residential_address_city",label:"City",options:o},{name:"residential_address_state",label:"State",options:o}],i=Object.values(t).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{actions:r.a.createElement(ee,{user:e})})}));return r.a.createElement(P.a,null,r.a.createElement(k,{columns:c,data:i}))})),ce=Object(i.b)((function(e){return{loggedIn:e.auth.loggedIn}}),null)((function(e){var a=e.Component,t=e.loggedIn;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(a,null):r.a.createElement(j.a,{to:"/"}))})),ie=Object(i.b)((function(e){return{count:Object.values(e.user.users).length}}),{getUsers:le})((function(e){return Object(n.useEffect)((function(){0===e.count&&e.getUsers()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null,r.a.createElement(L.a,{className:"my-2"},r.a.createElement(G.a,null,r.a.createElement(c.b,{to:"/members"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Members List"))))),r.a.createElement(G.a,null,r.a.createElement(c.b,{to:"/birthdays"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Birthdays")))))),r.a.createElement(L.a,null,r.a.createElement(G.a,null,r.a.createElement(c.b,{to:"/family"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"View / Edit family"))))),r.a.createElement(G.a,null,r.a.createElement(c.b,{to:"/changepassword"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Change Password"))))))),r.a.createElement("footer",{style:{position:"fixed",left:"0px",bottom:"0px",width:"100%",fontSize:"1.2em",color:"black",textAlign:"center"}},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},"Proof of Concept by ",r.a.createElement("br",null),"Yash Narendra Shah"))))})),se=t(303),ue=t(304),me=t(305),de=t(306),pe=function(e){return{type:"LOGIN_SUCCESS",payload:e}},Ee=Object(i.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{login:function(e,a){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var r,l,o;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={username:e,password:a},t.prev=1,t.next=4,fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:if(200===(l=t.sent).status){t.next=9;break}return t.next=8,l.json();case 8:throw t.sent;case 9:return t.next=11,l.json();case 11:o=t.sent,n(pe(o)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),alert(t.t0.msg);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var a=e.login,t=e.loggedIn,l=Object(n.useState)(""),o=Object(T.a)(l,2),c=o[0],i=o[1],s=Object(n.useState)(""),u=Object(T.a)(s,2),m=u[0],d=u[1];return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(j.a,{to:"/home"}):r.a.createElement(P.a,{className:"App"},r.a.createElement("center",null,r.a.createElement("h2",null,"Sign In")),r.a.createElement(se.a,{className:"form"},r.a.createElement(G.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,null,"Username"),r.a.createElement(de.a,{type:"text",name:"username",value:c,onChange:function(e){return i(e.target.value)},required:!0}))),r.a.createElement(G.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"examplePassword"},"Password"),r.a.createElement(de.a,{type:"password",name:"password",value:m,onChange:function(e){return d(e.target.value)},required:!0}))),r.a.createElement(G.a,null,r.a.createElement("center",null,r.a.createElement(F.a,{type:"submit",color:"success",onClick:function(e){e.preventDefault(),a(c,m),d("")}},"Login"))))))})),fe=t(318),he=t(33),ge=t(428),be=t(199),_e=t.n(be),ye=["Mall","Mandan","Bhutada","Navdhare","Mundada","Ladhad","Sharda","Sheth","Gagdani","Rathi","Bhedakiya","Karwa","Bhutda","Somani","Chandak","Kothari","Gingal","Maniyar","Shah","Gilda","Savar","Jhaveri","Bathar","Bhopa","Jeswani"],ve=["A+","A-","B+","B-","O+","O-","AB+","AB-","N/a"],Oe=["Adipur","Ahmedabad","Airoli","Anand","Anjar","Bargarh","Bavla","Belapur (CBD)","Belgaum","Bellary","Bengaluru","Bhadra","Bhadreshwar","Bharuch","Bhiwandi","Bhuj","Bitta","Chandrapur","Chiplun","Dayapar","Dharwad","Dolatpar","Dombivali","Gadag","Gandhidham","Gandhinagar","Germany","Ghadani","Ghaduli","Goyla","Gulburga","Hoogli","Hubli","Indore","Jakhau","Jamnagar","Kalamboli","Kalwa","Kamothe","Kapadvanj","Kharghar","Khedoi","Khopoli","Kolhapur","Kotada","Kotada Jadodar","Kothara","Laxmipar","Madhapar","Mandvi","Mangalore","Margoa","Matana Madh","Meghpar","Mehsana","Morbi","Moti Khavdi","Moti Virani","Mumbai","Mundra","Nagpur","Nakhatrana","Nakhtrana","Naliya","Nani Virani","Nashik","Nerul","New Panvel","Nundhatad","Ozar","Panvel","Pen","Pune","Ravapar","Sachin","Sambhalpur","Sangli","Satara","Sea Woods","Shahapur","Shenoi","Shivmoga","Shrirampur","Surat","Switzerland","Tera","Thane","Tumkur","Udaipur","Udhana","United Arab Emirates","United Kingdom","United States of America","Uran","Vadkhal","Vadodara","Valsad","Varma Nagar","Vasai","Vashi","Other"],je=["Goa","Gujarat","International","Karnataka","Madhya Pradesh","Maharashtra","Orissa","Rajasthan","West Bengal","Other"],Se=Object(i.b)((function(e,a){var t=a.user;return{users:Object.values(e.user.users).map((function(e){return{person_no:e.person_no,fullname:e.fullname}})),user:Object(d.a)(Object(d.a)({},t),{},{relationships:Object(d.a)(Object(d.a)({},t.relationships),{},{father:$(t.relationships.father),mother:$(t.relationships.mother),brothers:t.relationships.brothers.map((function(e){var a=$(e);return{person_no:a.person_no,fullname:a.fullname}})),sisters:t.relationships.sisters.map((function(e){var a=$(e);return{person_no:a.person_no,fullname:a.fullname}})),children:t.relationships.children.map((function(e){var a=$(e);return{person_no:a.person_no,fullname:a.fullname}}))})})}}),{updateUser:function(e){return function(){var a=Object(ne.a)(te.a.mark((function a(t){var n,r,l;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={user:e},a.prev=1,a.next=4,fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return r=a.sent,a.next=7,r.json();case 7:if(l=a.sent,200===r.status){a.next=10;break}throw l;case 10:l.push(e),t({type:"UPDATE_USERS",payload:l}),alert("Done"),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(1),console.log(a.t0),alert(a.t0.msg);case 19:case"end":return a.stop()}}),a,null,[[1,15]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var a,t=Object(n.useState)(e.user),l=Object(T.a)(t,2),o=l[0],c=l[1],i=Object(n.useState)(!1),s=Object(T.a)(i,2),u=s[0],p=s[1],E=Object(n.useState)(!1),f=Object(T.a)(E,2),h=f[0],g=f[1],b=Object(n.useState)(e.users),_=Object(T.a)(b,2),y=_[0],v=_[1],O=Object(n.useState)(e.users),j=Object(T.a)(O,2),S=j[0],w=j[1],C=Object(n.useState)(""),I=Object(T.a)(C,2),k=I[0],P=I[1],M=Object(n.useState)(""),N=Object(T.a)(M,2),A=N[0],Y=N[1],K=Object(n.useState)(""),V=Object(T.a)(K,2),q=V[0],z=V[1],H=function(e,a,t){return e.filter((function(e){return a.indexOf(e.fullname)<0&&x(t,e.fullname)}))},W=Object(he.a)({items:y,onInputValueChange:function(a){var t=a.inputValue;v(e.users.filter((function(e){return x(t,e.fullname)}))),g(!0)},itemToString:function(e){return e?e.fullname:""},initialSelectedItem:o.relationships.father}),Q=Object(he.a)({items:S,onInputValueChange:function(a){var t=a.inputValue;w(e.users.filter((function(e){return x(t,e.fullname)}))),g(!0)},itemToString:function(e){return e?e.fullname:""},initialSelectedItem:o.relationships.mother}),$=Object(he.b)({initialSelectedItems:o.relationships.brothers,itemToString:function(e){return e?e.fullname:""}}),X=Object(he.a)({brotherInput:k,items:H(e.users,$.selectedItems,k),onStateChange:function(e){var a=e.inputValue,t=e.type,n=e.selectedItem;switch(t){case he.a.stateChangeTypes.InputChange:g(!0),P(a);break;case he.a.stateChangeTypes.InputKeyDownEnter:case he.a.stateChangeTypes.ItemClick:case he.a.stateChangeTypes.InputBlur:n&&(P(""),g(!0),$.addSelectedItem(n),X.selectItem(null))}},itemToString:function(e){return e||""}}),Z=Object(he.b)({initialSelectedItems:o.relationships.sisters,itemToString:function(e){return e?e.fullname:""}}),ee=Object(he.a)({sisterInput:A,items:H(e.users,Z.selectedItems,A),onStateChange:function(e){var a=e.inputValue,t=e.type,n=e.selectedItem;switch(t){case he.a.stateChangeTypes.InputChange:g(!0),Y(a);break;case he.a.stateChangeTypes.InputKeyDownEnter:case he.a.stateChangeTypes.ItemClick:case he.a.stateChangeTypes.InputBlur:n&&(g(!0),Y(""),Z.addSelectedItem(n),ee.selectItem(null))}},itemToString:function(e){return e||""}}),ae=Object(he.b)({initialSelectedItems:o.relationships.children,itemToString:function(e){return e?e.fullname:""}}),te=Object(he.a)({childInput:q,items:H(e.users,ae.selectedItems,q),onStateChange:function(e){var a=e.inputValue,t=e.type,n=e.selectedItem;switch(t){case he.a.stateChangeTypes.InputChange:g(!0),z(a);break;case he.a.stateChangeTypes.InputKeyDownEnter:case he.a.stateChangeTypes.ItemClick:case he.a.stateChangeTypes.InputBlur:n&&(g(!0),z(""),ae.addSelectedItem(n),te.selectItem(null))}},itemToString:function(e){return e||""}}),ne=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},re=function(e){return 0!==e.trim().length},le=function(){return p(!u)},oe=function(e){e.persist(),c((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(m.a)({},e.target.name,e.target.value))})),g(!0)},ce=function(a){if(a.persist(),a.preventDefault(),h){var t=ne(o.name),n=ne(o.father_or_husband_name),r=ne(o.surname),l=ne(o.father_in_law_name),c=ne(o.stream),i=ne(o.profession),s=ne(o.education_specialisation),u="".concat(t," ").concat(n," ").concat(r),m=Object(d.a)(Object(d.a)({},o),{},{name:t,father_or_husband_name:n,surname:r,father_in_law_name:l,stream:c,profession:i,education_specialisation:s,fullname:u,relationships:Object(d.a)(Object(d.a)({},o.relationships),{},{brothers:$.selectedItems.map((function(e){return e.person_no})),sisters:Z.selectedItems.map((function(e){return e.person_no})),children:ae.selectedItems.map((function(e){return e.person_no})),father:1===y.length?y[0].person_no:o.relationships.father.person_no,mother:1===S.length?S[0].person_no:o.relationships.mother.person_no})});e.updateUser(m),le()}else le()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{color:"primary","aria-label":"View person",style:{margin:5,cursor:"pointer"},onClick:le}),r.a.createElement(D.a,{isOpen:u,toggle:le,scrollable:!0},r.a.createElement(B.a,{toggle:le},o.fullname),r.a.createElement(U.a,null,r.a.createElement(J,{text:"Basic Information"}),r.a.createElement(se.a,{onSubmit:ce},r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"name"},"Name"),r.a.createElement(de.a,{type:"text",name:"name",placeholder:"Name",style:{textTransform:"capitalize"},onChange:oe,value:o.name,invalid:!re(o.name),required:!0}),r.a.createElement(fe.a,null,"Please Enter a Name")),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"father_or_husband_name"},"Middle Name"),r.a.createElement(de.a,{type:"text",name:"father_or_husband_name",placeholder:"Middle Name",style:{textTransform:"capitalize"},onChange:oe,value:o.father_or_husband_name,invalid:!re(o.father_or_husband_name),required:!0}),r.a.createElement(fe.a,null,"Please Enter a Name")),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"surname"},"Last Name"),r.a.createElement(de.a,{type:"select",name:"surname",value:o.surname,onChange:oe,required:!0},ye.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))),r.a.createElement(L.a,null,r.a.createElement(G.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"relationship_with_family_head"},"Relation"),r.a.createElement(de.a,{type:"select",name:"relationship_with_family_head",value:o.relationship_with_family_head,onChange:oe,required:!0},r.a.createElement("option",{value:"Self"},"Self"),r.a.createElement("option",{value:"Wife"},"Wife"),r.a.createElement("option",{value:"Son"},"Son"),r.a.createElement("option",{value:"Daghter"},"Daughter")))),r.a.createElement(G.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"blood_group"},"Blood Group"),r.a.createElement(de.a,{type:"select",name:"blood_group",value:o.blood_group,onChange:oe,required:!0},ve.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))))),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"gender"},"Gender"),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"Male",name:"gender",checked:"Male"===o.gender,onChange:oe})," ","Male",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"Female",name:"gender",checked:"Female"===o.gender,onChange:oe})," ","Female"),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"date_of_birth"},"Date of Birth"),r.a.createElement(_e.a,{value:o.date_of_birth,onChange:function(e){return c((function(a){return Object(d.a)(Object(d.a)({},a),{},{date_of_birth:e})}))},dateFormat:"DD/MM/YYYY",weekStartsOn:1})),r.a.createElement(ue.a,null,r.a.createElement(L.a,null,r.a.createElement(G.a,null,r.a.createElement(me.a,{for:"marital_status"},"Marital Status"),r.a.createElement(de.a,{type:"select",name:"marital_status",value:o.marital_status,onChange:oe,required:!0},r.a.createElement("option",{value:"Married"},"Married"),r.a.createElement("option",{value:"Unmarried"},"Unmarried"),r.a.createElement("option",{value:"Widow"},"Widow"),r.a.createElement("option",{value:"Divorcee"},"Divorcee"),r.a.createElement("option",{value:"Engaged"},"Engaged"))),["Married","Widow"].includes(o.marital_status)&&r.a.createElement(G.a,null,r.a.createElement(me.a,{for:"marriage_date"},"Marriage Date"),r.a.createElement(_e.a,{value:o.marriage_date,onChange:function(e){return c((function(a){return Object(d.a)(Object(d.a)({},a),{},{marriage_date:e})}))},dateFormat:"DD/MM/YYYY",weekStartsOn:1})))),["Married","Widow"].includes(o.marital_status)&&r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"father_in_law_name"},"Father in Law"),r.a.createElement(de.a,{type:"text",name:"father_in_law_name",placeholder:"Middle Name",style:{textTransform:"capitalize"},onChange:oe,value:o.father_in_law_name,invalid:!re(o.father_in_law_name),required:!0})),r.a.createElement(J,{text:"Communication"}),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"mobile_1"},"Mobile #1"),r.a.createElement(de.a,{type:"text",name:"mobile_1",placeholder:"Mobile #1",onChange:oe,value:o.mobile_1,required:!0})),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"mobile_2"},"Mobile #2"),r.a.createElement(de.a,{type:"text",name:"mobile_2",placeholder:"Mobile #2",onChange:oe,value:o.mobile_2})),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"name"},"Email Address"),r.a.createElement(de.a,{type:"text",name:"email_address",placeholder:"Email",onChange:oe,value:o.email_address,invalid:(a=o.email_address,!a.match(/^$|^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/))}),r.a.createElement(fe.a,null,"Please enter a valid email")),r.a.createElement(J,{text:"Education"}),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"education"},"Education"),r.a.createElement(de.a,{type:"select",name:"education",value:o.education,onChange:oe,required:!0},r.a.createElement("option",{value:"N/a"},"N/a"),r.a.createElement("option",{value:"School"},"School"),r.a.createElement("option",{value:"Graduate"},"Graduate"),r.a.createElement("option",{value:"High school"},"High school"),r.a.createElement("option",{value:"Post graduate"},"Post graduate"),r.a.createElement("option",{value:"College"},"College"),r.a.createElement("option",{value:"Ph d"},"Ph d"))),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"education_specialisation"},"Education Specialisation"),r.a.createElement(de.a,{type:"text",name:"education_specialisation",placeholder:"Education Specialisation (eg: BCom, BTech)",onChange:oe,value:o.education_specialisation})),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"stream"},"Stream"),r.a.createElement(de.a,{type:"text",name:"stream",placeholder:"Stream",onChange:oe,value:o.stream})),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"profession"},"Profession"),r.a.createElement(de.a,{type:"text",name:"profession",placeholder:"Profession",onChange:oe,value:o.profession})),r.a.createElement(J,{text:"Residence"}),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"residential_address_line_1"},"Address Line 1"),r.a.createElement(de.a,{type:"text",name:"residential_address_line_1",placeholder:"Residential Address",onChange:oe,value:o.residential_address_line_1})),r.a.createElement(L.a,null,r.a.createElement(G.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"residential_address_city"},"City"),r.a.createElement(de.a,{type:"select",name:"residential_address_city",value:o.residential_address_city,onChange:oe,required:!0},Oe.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)}))))),r.a.createElement(G.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"residential_address_state"},"State"),r.a.createElement(de.a,{type:"select",name:"residential_address_state",value:o.residential_address_state,onChange:oe,required:!0},je.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))))),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"residential_landline"},"Landline"),r.a.createElement(de.a,{type:"text",name:"residential_landline",placeholder:"Residential Landline",onChange:oe,value:o.residential_landline||null})),r.a.createElement(J,{text:"Office"}),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"office_address"},"Office Address"),r.a.createElement(de.a,{type:"text",name:"office_address",placeholder:"Office Address",onChange:oe,value:o.office_address})),r.a.createElement(L.a,null,r.a.createElement(G.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"office_address_city"},"City"),r.a.createElement(de.a,{type:"select",name:"office_address_city",value:o.office_address_city||"Other",onChange:oe,required:!0},Oe.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)}))))),r.a.createElement(G.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"office_address_state"},"State"),r.a.createElement(de.a,{type:"select",name:"office_address_state",value:o.office_address_state||"Other",onChange:oe,required:!0},je.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))))),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"landline_office"},"Landline"),r.a.createElement(de.a,{type:"text",name:"landline_office",placeholder:"Office Landline",onChange:oe,value:o.landline_office||null})),r.a.createElement(J,{text:"Relationships"}),r.a.createElement(ue.a,null,r.a.createElement(me.a,W.getLabelProps(),"Father"),r.a.createElement(de.a,W.getInputProps()),r.a.createElement("ul",Object.assign({},W.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",width:"300px",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),W.isOpen&&y.map((function(e,a){return r.a.createElement("li",Object.assign({style:W.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},W.getItemProps({item:e,index:a})),e.fullname)})))),r.a.createElement(ue.a,null,r.a.createElement(me.a,Q.getLabelProps(),"Mother"),r.a.createElement(de.a,Q.getInputProps()),r.a.createElement("ul",Object.assign({},Q.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",width:"300px",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),Q.isOpen&&S.map((function(e,a){return r.a.createElement("li",Object.assign({style:Q.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},Q.getItemProps({item:e,index:a})),e.fullname)})))),r.a.createElement(ue.a,null,r.a.createElement(me.a,X.getLabelProps(),"Brothers"),r.a.createElement("div",null,$.selectedItems.map((function(e,a){return r.a.createElement("span",Object.assign({key:"selected-item-".concat(a)},$.getSelectedItemProps({selectedItem:e,index:a})),e.fullname,r.a.createElement("span",{onClick:function(){$.removeSelectedItem(e),g(!0)},style:{cursor:"pointer"}},"\u2715"))})),r.a.createElement("div",X.getComboboxProps(),r.a.createElement(de.a,X.getInputProps($.getDropdownProps({preventKeyAction:X.isOpen}))))),r.a.createElement("ul",Object.assign({},X.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),X.isOpen&&H(e.users,$.selectedItems,k).map((function(e,a){return r.a.createElement("li",Object.assign({style:X.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},X.getItemProps({item:e,index:a})),e.fullname)})))),r.a.createElement(ue.a,null,r.a.createElement(me.a,ee.getLabelProps(),"Sisters"),r.a.createElement("div",null,Z.selectedItems.map((function(e,a){return r.a.createElement("span",Object.assign({key:"selected-item-".concat(a)},Z.getSelectedItemProps({selectedItem:e,index:a})),e.fullname,r.a.createElement("span",{onClick:function(){Z.removeSelectedItem(e),g(!0)},style:{cursor:"pointer"}},"\u2715"))})),r.a.createElement("div",ee.getComboboxProps(),r.a.createElement(de.a,ee.getInputProps(Z.getDropdownProps({preventKeyAction:ee.isOpen}))))),r.a.createElement("ul",Object.assign({},ee.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),ee.isOpen&&H(e.users,Z.selectedItems,A).map((function(e,a){return r.a.createElement("li",Object.assign({style:ee.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},ee.getItemProps({item:e,index:a})),e.fullname)})))),r.a.createElement(ue.a,null,r.a.createElement(me.a,te.getLabelProps(),"Children"),r.a.createElement("div",null,ae.selectedItems.map((function(e,a){return r.a.createElement("span",Object.assign({key:"selected-item-".concat(a)},ae.getSelectedItemProps({selectedItem:e,index:a})),e.fullname,r.a.createElement("span",{onClick:function(){ae.removeSelectedItem(e),g(!0)},style:{cursor:"pointer"}},"\u2715"))})),r.a.createElement("div",te.getComboboxProps(),r.a.createElement(de.a,te.getInputProps(ae.getDropdownProps({preventKeyAction:te.isOpen}))))),r.a.createElement("ul",Object.assign({},te.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),te.isOpen&&H(e.users,ae.selectedItems,q).map((function(e,a){return r.a.createElement("li",Object.assign({style:te.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},te.getItemProps({item:e,index:a})),e.fullname)})))))),r.a.createElement(R.a,null,r.a.createElement(L.a,null,r.a.createElement(G.a,{className:"mb-2"},r.a.createElement("center",null,r.a.createElement(F.a,{color:"primary",type:"submit",onClick:ce},r.a.createElement("strong",null,"Save"))," ",r.a.createElement(F.a,{color:"danger",onClick:le},r.a.createElement("strong",null,"Cancel"))))))))})),we=Object(i.b)((function(e){return{familyMembers:Object.values(e.user.users).filter((function(a){return a.family_no===e.auth.user.family_no}))}}))((function(e){return r.a.createElement(P.a,null,e.familyMembers.map((function(e){return r.a.createElement(P.a,{key:e._id},r.a.createElement(L.a,null,r.a.createElement(G.a,null,r.a.createElement(L.a,null,e.fullname)),r.a.createElement(G.a,null,r.a.createElement("center",null,e.relationship_with_family_head)),r.a.createElement(G.a,{xs:"3"},r.a.createElement(Z,{user:e}),r.a.createElement(Se,{user:e}))),r.a.createElement("hr",null))})))})),Ce=t(162),xe=t.n(Ce),Ie=Object(i.b)((function(e){return{count:Object.values(e.user.users).length,birthdays:Object.values(e.user.users).filter((function(e){return xe()().format("DDMM")===xe()(e.date_of_birth).format("DDMM")}))}}),{getUsers:le})((function(e){var a=e.getUsers,t=e.count,l=e.birthdays;Object(n.useEffect)((function(){0===t&&a()}),[]);var o=l.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{actions:r.a.createElement(ee,{user:e})})}));return r.a.createElement(P.a,null,r.a.createElement(k,{columns:[{name:"fullname",label:"Name",options:{filter:!1,sort:!0,sortThirdClickReset:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}}],data:o}))})),ke=t(307),Pe=t(308),Me=t(429),Ne=t(430),Te=Object(i.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{logOut:function(){return{type:"LOGOUT"}}})((function(e){var a=e.loggedIn,t=e.logOut;return r.a.createElement("div",null,r.a.createElement(ke.a,{light:!0},r.a.createElement(Pe.a,{tag:c.b,to:"/",style:{textDecoration:"none"}},r.a.createElement("span",{className:"navbar-text"},r.a.createElement(Me.a,null))),a&&r.a.createElement(Pe.a,{onClick:t,style:{textDecoration:"none",cursor:"pointer"}},r.a.createElement("span",{className:"navbar-text"},r.a.createElement(Ne.a,null)))))})),De=function(){return r.a.createElement("h1",null,"Not yet built")},Be=Object(i.b)((function(e){return{username:e.auth.user.person_no.toString()}}),null)((function(e){var a=Object(n.useState)(""),t=Object(T.a)(a,2),l=t[0],o=t[1],c=Object(n.useState)(""),i=Object(T.a)(c,2),s=i[0],u=i[1],m=Object(n.useState)(""),d=Object(T.a)(m,2),p=d[0],E=d[1],f=function(){var a=Object(ne.a)(te.a.mark((function a(t){var n,r,c;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.persist(),t.preventDefault(),n={username:e.username,oldPassword:l,newPassword:s},a.next=5,fetch("/api/auth/changePassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return r=a.sent,a.next=8,r.json();case 8:c=a.sent,alert(c.msg),o(""),u(""),E("");case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),h=function(e){return 0!==e.trim().length};return r.a.createElement(P.a,null,r.a.createElement(se.a,{onSubmit:f},r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"oldPassword"},"Old Password"),r.a.createElement(de.a,{type:"password",name:"oldPassword",placeholder:"Old Password",onChange:function(e){return o(e.target.value)},value:l,invalid:!h(l),required:!0}),r.a.createElement(fe.a,null,"Please Enter your old password")),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"newPassword"},"New Password"),r.a.createElement(de.a,{type:"password",name:"newPassword",placeholder:"New Password",onChange:function(e){return u(e.target.value)},value:s,required:!0})),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"repeatNewPassword"},"Repeat New Password"),r.a.createElement(de.a,{type:"password",name:"repeatNewPassword",placeholder:"Repeat New Password",onChange:function(e){return E(e.target.value)},value:p,invalid:s!==p,required:!0}),r.a.createElement(fe.a,null,"Passwords don't match")),r.a.createElement("center",null,r.a.createElement(F.a,{color:"primary",type:"submit",disabled:!h(l)||s!==p},r.a.createElement("strong",null,"Submit")))))}));t(399);var Ue=function(){return console.log("You probably shouldn't be here"),r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,null),r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/",component:Ee}),r.a.createElement(j.b,{exact:!0,path:"/home",render:function(e){return r.a.createElement(ce,Object.assign({},e,{Component:ie}))}}),r.a.createElement(j.b,{exact:!0,path:"/members",render:function(e){return r.a.createElement(ce,Object.assign({},e,{Component:oe}))}}),r.a.createElement(j.b,{exact:!0,path:"/birthdays",render:function(e){return r.a.createElement(ce,Object.assign({},e,{Component:Ie}))}}),r.a.createElement(j.b,{exact:!0,path:"/family",render:function(e){return r.a.createElement(ce,Object.assign({},e,{Component:we}))}}),r.a.createElement(j.b,{exact:!0,path:"/changepassword",render:function(e){return r.a.createElement(ce,Object.assign({},e,{Component:Be}))}}),r.a.createElement(j.b,{exact:!0,path:"/workinprogress",component:De})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:O},r.a.createElement(c.a,null,r.a.createElement(Ue,null)))),document.getElementById("root"))}},[[346,1,2]]]);
//# sourceMappingURL=main.c9f09d81.chunk.js.map