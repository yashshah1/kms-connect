(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{346:function(e,a,t){e.exports=t(401)},399:function(e,a,t){},401:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(19),o=t.n(l),c=t(55),s=t(26),i=(t(355),t(72)),u=t(143),m=t(14),d=t(17),p={users:{},loading:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USER_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,users:a.payload});case"GET_USER_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"UPDATE_USER":var t=a.payload.person_no;return Object(d.a)(Object(d.a)({},e),{},{users:Object(d.a)(Object(d.a)({},e.users),{},Object(m.a)({},t,a.payload))});case"UPDATE_USERS":var n,r={},l=Object(u.a)(a.payload);try{for(l.s();!(n=l.n()).done;){var o=n.value;r[o.person_no]=o}}catch(c){l.e(c)}finally{l.f()}return Object(d.a)(Object(d.a)({},e),{},{users:Object(d.a)(Object(d.a)({},e.users),r)});default:return e}},f={error:null,isError:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ERROR":return Object(d.a)(Object(d.a)({},e),{},{isError:!0,error:a.payload.msg});case"HIDE_ERROR":return Object(d.a)(Object(d.a)({},e),{},{isError:!1,error:null});default:return e}},g={loggedIn:!1,user:{},jwt:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_SUCCESS":var t=a.payload,n=t.token,r=t.user;return localStorage.setItem("kmmms-token",n),Object(d.a)(Object(d.a)({},e),{},{jwt:n,loggedIn:!0,user:r});case"LOGOUT":return localStorage.removeItem("kmmms-token"),Object(d.a)(Object(d.a)({},e),{},{user:{},jwt:"",loggedIn:!1});default:return e}},_=Object(i.c)({user:E,error:h,auth:b}),y=[t(330).a],v=i.a.apply(void 0,y),O=Object(i.d)(_,v),j=t(31),S=t(331),w=t.n(S),C=function(e,a){if(e=e.toLowerCase().split(" "),a=a.toLowerCase().split(" "),e.length>a.length)return!1;for(var t=!0,n=0;n<e.length;n++){for(var r=!1,l=n;l<a.length;l++)if(a[l].startsWith(e[n])){r=!0;break}if(!r){t=!1;break}}return t},x={download:!1,print:!1,viewColumns:!1,selectableRows:"none",responsive:"standard",rowsPerPage:50,rowsPerPageOptions:[10,20,50,100],customSearch:function(e,a){return C(e,a[0])}},I=function(e){var a=e.columns,t=e.data,n=e.options,l=void 0===n?{}:n;return l=Object(d.a)(Object(d.a)({},l),x),r.a.createElement(w.a,{columns:a,options:l,data:t})},k=t(297),P=t(425),M=function(e){var a,t=e.user,n=t.mobile_1,l=t.mobile_2,o=!1;return n?a=n:l?a=l:o=!0,r.a.createElement(P.a,{onClick:o?void 0:function(){return document.location.href="tel:".concat(a)},color:"primary","aria-label":"Call person",style:{pointer:"cursor",margin:5,opacity:o?.5:1}})},N=t(18),T=t(322),D=t(295),B=t(296),U=t(300),R=t(91),F=t(427),A=t(299),G=t(298),L=t(301),Y=t(302),K=t(141),V=t(196),q=t.n(V),z=function(){return r.a.createElement("div",{style:{width:"100%",height:"5px",backgroundColor:"#007BFF",margin:"10px 0px 10px 0px",opacity:.5}})},H=function(e){var a=e.text;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement("center",null,r.a.createElement("h4",null,a.toUpperCase())),r.a.createElement(z,null))},J=t(426),W=Object(s.b)((function(e,a){return{familyMembers:Object.values(e.user.users).filter((function(e){return e.family_no===a.family_no}))}}))((function(e){var a=Object(n.useState)(!1),t=Object(N.a)(a,2),l=t[0],o=t[1],c=function(){o(!l)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{color:"primary","aria-label":"View Family",style:{margin:5,cursor:"pointer"},onClick:c}),r.a.createElement(T.a,{isOpen:l,toggle:c,scrollable:!0},r.a.createElement(D.a,{toggle:c},"Family Members"),r.a.createElement(B.a,null,e.familyMembers.map((function(e){return r.a.createElement(k.a,{key:e._id},r.a.createElement(G.a,null,r.a.createElement(A.a,null,r.a.createElement(G.a,null,e.fullname)),r.a.createElement(A.a,null,r.a.createElement("center",null,e.relationship_with_family_head)),r.a.createElement(A.a,{xs:"3"},r.a.createElement(M,{user:e}),r.a.createElement(X,{user:e}))),r.a.createElement("hr",null))}))),r.a.createElement(U.a,null,r.a.createElement(R.a,{color:"danger",onClick:c},"Close"))))})),Q=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e>10001?O.getState().user.users[e]:null;if(!t)return t;if(a){var n={};return n.fullname=t.fullname,n.person_no=t.person_no,n}return t},$=function(e){var a,t=e.user,l=Object(n.useState)(!0),o=Object(N.a)(l,2),c=o[0],s=o[1],i=Object(n.useState)(!0),u=Object(N.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(!0),E=Object(N.a)(p,2),f=E[0],h=E[1],g=function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,e),r.a.createElement(A.a,{xs:"6"},a))},b=function(e,a){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,g(e,a)),t&&r.a.createElement("hr",null))},_=function(e,a){var t=Q(e);return r.a.createElement(G.a,null,r.a.createElement(A.a,null,a),r.a.createElement(A.a,null,t.fullname),r.a.createElement(A.a,null,r.a.createElement("center",null,r.a.createElement(X,{user:t}),r.a.createElement(W,{family_no:t.family_no}))))},y=function(e){var a=Q(e);return r.a.createElement(G.a,{key:a._id},r.a.createElement(A.a,null,a.fullname),r.a.createElement(A.a,null,r.a.createElement("center",null,r.a.createElement(X,{user:a}),r.a.createElement(W,{family_no:a.family_no}))))},v=function(e){return r.a.createElement("a",{href:"tel:".concat(e)},e)},O=t.person_no,j=t.family_no,S=t.name,w=t.surname,C=t.father_or_husband_name,x=t.relationship_with_family_head,I=t.native_place,P=t.blood_group,M=t.gender,T=t.date_of_birth,D=t.marital_status,B=t.marriage_date,U=t.father_in_law_name,R=t.mobile_1,F=t.mobile_2,V=t.email_address,J=t.education,$=t.education_specialisation,Z=t.stream,ee=t.profession,ae=t.residential_address_line_1,te=t.residential_address_state,ne=t.residential_address_city,re=t.pin_code,le=t.residential_landline,oe=t.office_address,ce=t.office_address_state,se=t.office_address_city,ie=t.office_address_pin,ue=t.landline_office,me=t.relationships;return r.a.createElement(k.a,null,r.a.createElement(H,{text:"System Information"}),b("Person number",O),b("Family number",j),r.a.createElement(H,{text:"Profile"}),b("First Name",S),b("Middle Name",C),b("Last Name",w),b("Relation",x),b("Native",I,!1),r.a.createElement(z,null),b("Blood Group",P),b("Gender",M),b("Date of Birth",r.a.createElement(q.a,{format:"DD/MM/YYYY"},T)),r.a.createElement(G.a,null,g("Marital Status",D),B?r.a.createElement(q.a,{format:"DD/MM/YYYY"},B):null),r.a.createElement("hr",null),b("Father in Law",U,!1),r.a.createElement(H,{text:"Communication"}),R?b("Mobile #1",v(R)):null,F?b("Mobile #2",v(F)):null,V?b("Email",(a=V,r.a.createElement("a",{href:"mailto:".concat(a)},a))):null,r.a.createElement(H,{text:"Education"}),b("Education",J),b("Specialisation",$),b("Stream",Z),b("Profession",ee,!1),r.a.createElement(H,{text:"Residence"}),b("Address",ae),b("City",ne),b("State",te),b("Pin Code",re),le?b("Landline",v(le)):null,r.a.createElement(H,{text:"Office"}),b("Address",oe),b("City",se),b("State",ce),b("Pin Code",ie),ue?b("Landline",v(ue)):null,r.a.createElement(H,{text:"Relationships"}),r.a.createElement(L.a,null,me.father?r.a.createElement(Y.a,{style:{cursor:"pointer"},action:!0},_(me.father,"Father")):null,me.mother?r.a.createElement(Y.a,{style:{cursor:"pointer"},action:!0},_(me.mother,"Mother")):null,me.brothers&&me.brothers.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{style:{cursor:"pointer"},onClick:function(){return s(!c)},action:!0},"Brothers"),r.a.createElement(K.a,{isOpen:c},me.brothers?r.a.createElement(k.a,null,me.brothers.map((function(e){return y(e)}))):null)):null,me.sisters&&me.sisters.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{style:{cursor:"pointer"},onClick:function(){return d(!m)},action:!0},"Sisters"),r.a.createElement(K.a,{isOpen:m},me.sisters?r.a.createElement(k.a,null,me.sisters.map((function(e){return y(e)}))):null)):null,me.children&&me.children.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{style:{cursor:"pointer"},onClick:function(){return h(!f)},action:!0},"Children"),r.a.createElement(K.a,{isOpen:f},me.children?r.a.createElement(k.a,null,me.children.map((function(e){return y(e)}))):null)):null))},X=Object(s.b)((function(e,a){return a.user?{}:{user:e.user.users[a.userId]}}),null)((function(e){var a=e.user,t=a.fullname,l=Object(n.useState)(!1),o=Object(N.a)(l,2),c=o[0],s=o[1],i=function(){s(!c)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{color:"primary","aria-label":"View person",style:{margin:5,cursor:"pointer"},onClick:i}),r.a.createElement(T.a,{isOpen:c,toggle:i,scrollable:!0},r.a.createElement(D.a,{toggle:i},t),r.a.createElement(B.a,null,r.a.createElement($,{user:a})),r.a.createElement(U.a,null,r.a.createElement(R.a,{color:"danger",onClick:i},"Close"))))})),Z=function(e){var a=e.call,t=void 0===a||a,n=e.person,l=void 0===n||n,o=e.family,c=void 0===o||o,s=e.user;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(M,{user:s}):null,l?r.a.createElement(X,{user:s}):null,c?r.a.createElement(W,{family_no:s.family_no}):null)},ee=t(62),ae=t.n(ee),te=t(84),ne=function(e){return{type:"GET_USER_SUCCESS",payload:e}},re=function(){return function(){var e=Object(te.a)(ae.a.mark((function e(a){var t,n,r,l,o,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"GET_USER_REQUEST"}),e.prev=1,e.next=4,fetch("/api/users/");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r={},l=Object(u.a)(n);try{for(l.s();!(o=l.n()).done;)c=o.value,r[c.person_no]=c}catch(s){l.e(s)}finally{l.f()}a(ne(r)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),alert(e.t0.msg);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(a){return e.apply(this,arguments)}}()},le=Object(s.b)((function(e){return{users:e.user.users,loading:e.user.loading}}),{getUsers:re})((function(e){var a=e.getUsers,t=e.users;Object(n.useEffect)((function(){0===t.length&&a()}),[]);var l={filter:!0,sort:!1,display:!1,filterType:"dropdown"},o=Object(d.a)(Object(d.a)({},l),{},{filterType:"multiselect"}),c=[{name:"fullname",label:"Name",options:{filter:!1,sort:!0,sortThirdClickReset:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1,download:!1}},{name:"gender",label:"Gender",options:l},{name:"surname",label:"Surname",options:o},{name:"relationship_with_family_head",label:"Family Status",options:o},{name:"marital_status",label:"Marital Status",options:o},{name:"blood_group",label:"Blood Group",options:o},{name:"native_place",label:"Native Place",options:o},{name:"residential_address_city",label:"City",options:o},{name:"residential_address_state",label:"State",options:o}],s=Object.values(t).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{actions:r.a.createElement(Z,{user:e})})}));return r.a.createElement(k.a,null,r.a.createElement(I,{columns:c,data:s}))})),oe=Object(s.b)((function(e){return{loggedIn:e.auth.loggedIn}}),null)((function(e){var a=e.Component,t=e.loggedIn;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(a,null):r.a.createElement(j.a,{to:"/"}))})),ce=Object(s.b)((function(e){return{count:Object.values(e.user.users).length}}),{getUsers:re})((function(e){return Object(n.useEffect)((function(){0===e.count&&e.getUsers()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(G.a,{className:"my-2"},r.a.createElement(A.a,null,r.a.createElement(c.b,{to:"/members"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Members List"))))),r.a.createElement(A.a,null,r.a.createElement(c.b,{to:"/birthdays"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Birthdays")))))),r.a.createElement(G.a,null,r.a.createElement(A.a,null,r.a.createElement(c.b,{to:"/family"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"View / Edit family"))))),r.a.createElement(A.a,null,r.a.createElement(c.b,{to:"/changepassword"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Change Password"))))))),r.a.createElement("footer",{style:{position:"fixed",left:"0px",bottom:"0px",width:"100%",fontSize:"1.2em",color:"black",textAlign:"center"}},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},"Proof of Concept by ",r.a.createElement("br",null),"Yash Narendra Shah"))))})),se=t(303),ie=t(304),ue=t(305),me=t(306),de=function(e){return{type:"LOGIN_SUCCESS",payload:e}},pe=Object(s.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{login:function(e,a){return function(){var t=Object(te.a)(ae.a.mark((function t(n){var r,l,o;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={username:e,password:a},t.prev=1,t.next=4,fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:if(200===(l=t.sent).status){t.next=9;break}return t.next=8,l.json();case 8:throw t.sent;case 9:return t.next=11,l.json();case 11:o=t.sent,n(de(o)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),alert(t.t0.msg);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var a=e.login,t=e.loggedIn,l=Object(n.useState)(""),o=Object(N.a)(l,2),c=o[0],s=o[1],i=Object(n.useState)(""),u=Object(N.a)(i,2),m=u[0],d=u[1];return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(j.a,{to:"/home"}):r.a.createElement(k.a,{className:"App"},r.a.createElement("center",null,r.a.createElement("h2",null,"Sign In")),r.a.createElement(se.a,{className:"form"},r.a.createElement(A.a,null,r.a.createElement(ie.a,null,r.a.createElement(ue.a,null,"Username"),r.a.createElement(me.a,{type:"text",name:"username",value:c,onChange:function(e){return s(e.target.value)},required:!0}))),r.a.createElement(A.a,null,r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"examplePassword"},"Password"),r.a.createElement(me.a,{type:"password",name:"password",value:m,onChange:function(e){return d(e.target.value)},required:!0}))),r.a.createElement(A.a,null,r.a.createElement("center",null,r.a.createElement(R.a,{type:"submit",color:"success",onClick:function(e){e.preventDefault(),a(c,m),d("")}},"Login"))))))})),Ee=t(318),fe=t(33),he=t(428),ge=t(199),be=t.n(ge),_e=["Mall","Mandan","Bhutada","Navdhare","Mundada","Ladhad","Sharda","Sheth","Gagdani","Rathi","Bhedakiya","Karwa","Bhutda","Somani","Chandak","Kothari","Gingal","Maniyar","Shah","Gilda","Savar","Jhaveri","Bathar","Bhopa","Jeswani"],ye=["A+","A-","B+","B-","O+","O-","AB+","AB-","N/a"],ve=["Adipur","Ahmedabad","Airoli","Anand","Anjar","Bargarh","Bavla","Belapur (CBD)","Belgaum","Bellary","Bengaluru","Bhadra","Bhadreshwar","Bharuch","Bhiwandi","Bhuj","Bitta","Chandrapur","Chiplun","Dayapar","Dharwad","Dolatpar","Dombivali","Gadag","Gandhidham","Gandhinagar","Germany","Ghadani","Ghaduli","Goyla","Gulburga","Hoogli","Hubli","Indore","Jakhau","Jamnagar","Kalamboli","Kalwa","Kamothe","Kapadvanj","Kharghar","Khedoi","Khopoli","Kolhapur","Kotada","Kotada Jadodar","Kothara","Laxmipar","Madhapar","Mandvi","Mangalore","Margoa","Matana Madh","Meghpar","Mehsana","Morbi","Moti Khavdi","Moti Virani","Mumbai","Mundra","Nagpur","Nakhatrana","Nakhtrana","Naliya","Nani Virani","Nashik","Nerul","New Panvel","Nundhatad","Ozar","Panvel","Pen","Pune","Ravapar","Sachin","Sambhalpur","Sangli","Satara","Sea Woods","Shahapur","Shenoi","Shivmoga","Shrirampur","Surat","Switzerland","Tera","Thane","Tumkur","Udaipur","Udhana","United Arab Emirates","United Kingdom","United States of America","Uran","Vadkhal","Vadodara","Valsad","Varma Nagar","Vasai","Vashi","Other"],Oe=["Goa","Gujarat","International","Karnataka","Madhya Pradesh","Maharashtra","Orissa","Rajasthan","West Bengal","Other"],je=Object(s.b)((function(e,a){var t=a.user;return{users:Object.values(e.user.users).map((function(e){return{person_no:e.person_no,fullname:e.fullname}})).filter((function(a){return a.person_no!==e.auth.user.person_no})),user:Object(d.a)(Object(d.a)({},t),{},{relationships:Object(d.a)(Object(d.a)({},t.relationships),{},{father:Q(t.relationships.father,!0),mother:Q(t.relationships.mother,!0),brothers:t.relationships.brothers.map((function(e){var a=Q(e);return{person_no:a.person_no,fullname:a.fullname}})),sisters:t.relationships.sisters.map((function(e){var a=Q(e);return{person_no:a.person_no,fullname:a.fullname}})),children:t.relationships.children.map((function(e){var a=Q(e);return{person_no:a.person_no,fullname:a.fullname}}))})})}}),{updateUser:function(e){return function(){var a=Object(te.a)(ae.a.mark((function a(t){var n,r,l;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={user:e},a.prev=1,a.next=4,fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return r=a.sent,a.next=7,r.json();case 7:if(l=a.sent,200===r.status){a.next=10;break}throw l;case 10:t({type:"UPDATE_USERS",payload:l}),alert("Done"),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(1),console.log(a.t0),alert(a.t0.msg);case 18:case"end":return a.stop()}}),a,null,[[1,14]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var a,t=Object(n.useState)(e.user),l=Object(N.a)(t,2),o=l[0],c=l[1],s=Object(n.useState)(!1),i=Object(N.a)(s,2),u=i[0],p=i[1],E=Object(n.useState)(!1),f=Object(N.a)(E,2),h=f[0],g=f[1],b=Object(n.useState)(e.users),_=Object(N.a)(b,2),y=_[0],v=_[1],O=Object(n.useState)(e.users),j=Object(N.a)(O,2),S=j[0],w=j[1],x=Object(n.useState)(""),I=Object(N.a)(x,2),k=I[0],P=I[1],M=Object(n.useState)(""),F=Object(N.a)(M,2),L=F[0],Y=F[1],K=Object(n.useState)(""),V=Object(N.a)(K,2),q=V[0],z=V[1],J=function(e,a,t){return e.filter((function(e){return a.indexOf(e.fullname)<0&&C(t,e.fullname)}))},W=Object(fe.a)({items:y,onInputValueChange:function(a){var t=a.inputValue;v(e.users.filter((function(e){return C(t,e.fullname)}))),g(!0)},itemToString:function(e){return e?e.fullname:""},initialSelectedItem:o.relationships.father}),Q=Object(fe.a)({items:S,onInputValueChange:function(a){var t=a.inputValue;w(e.users.filter((function(e){return C(t,e.fullname)}))),g(!0)},itemToString:function(e){return e?e.fullname:""},initialSelectedItem:o.relationships.mother}),$=Object(fe.b)({initialSelectedItems:o.relationships.brothers,itemToString:function(e){return e?e.fullname:""}}),X=Object(fe.a)({brotherInput:k,items:J(e.users,$.selectedItems,k),onStateChange:function(e){var a=e.inputValue,t=e.type,n=e.selectedItem;switch(t){case fe.a.stateChangeTypes.InputChange:g(!0),P(a);break;case fe.a.stateChangeTypes.InputKeyDownEnter:case fe.a.stateChangeTypes.ItemClick:case fe.a.stateChangeTypes.InputBlur:n&&(P(""),g(!0),$.addSelectedItem(n),X.selectItem(null))}},itemToString:function(e){return e||""}}),Z=Object(fe.b)({initialSelectedItems:o.relationships.sisters,itemToString:function(e){return e?e.fullname:""}}),ee=Object(fe.a)({sisterInput:L,items:J(e.users,Z.selectedItems,L),onStateChange:function(e){var a=e.inputValue,t=e.type,n=e.selectedItem;switch(t){case fe.a.stateChangeTypes.InputChange:g(!0),Y(a);break;case fe.a.stateChangeTypes.InputKeyDownEnter:case fe.a.stateChangeTypes.ItemClick:case fe.a.stateChangeTypes.InputBlur:n&&(g(!0),Y(""),Z.addSelectedItem(n),ee.selectItem(null))}},itemToString:function(e){return e||""}}),ae=Object(fe.b)({initialSelectedItems:o.relationships.children,itemToString:function(e){return e?e.fullname:""}}),te=Object(fe.a)({childInput:q,items:J(e.users,ae.selectedItems,q),onStateChange:function(e){var a=e.inputValue,t=e.type,n=e.selectedItem;switch(t){case fe.a.stateChangeTypes.InputChange:g(!0),z(a);break;case fe.a.stateChangeTypes.InputKeyDownEnter:case fe.a.stateChangeTypes.ItemClick:case fe.a.stateChangeTypes.InputBlur:n&&(g(!0),z(""),ae.addSelectedItem(n),te.selectItem(null))}},itemToString:function(e){return e||""}}),ne=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},re=function(e){return 0!==e.trim().length},le=function(){return p(!u)},oe=function(e){e.persist(),c((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(m.a)({},e.target.name,e.target.value))})),g(!0)},ce=function(a){if(a.persist(),a.preventDefault(),h){var t,n,r=ne(o.name),l=ne(o.father_or_husband_name),c=ne(o.surname),s=ne(o.father_in_law_name),i=ne(o.stream),u=ne(o.profession),m=ne(o.education_specialisation),p="".concat(r," ").concat(l," ").concat(c),E=Object(d.a)(Object(d.a)({},o),{},{name:r,father_or_husband_name:l,surname:c,father_in_law_name:s,stream:i,profession:u,education_specialisation:m,fullname:p,relationships:Object(d.a)(Object(d.a)({},o.relationships),{},{brothers:$.selectedItems.map((function(e){return e.person_no})),sisters:Z.selectedItems.map((function(e){return e.person_no})),children:ae.selectedItems.map((function(e){return e.person_no})),father:1===y.length?y[0].person_no:(null===(t=o.relationships.father)||void 0===t?void 0:t.person_no)||null,mother:1===S.length?S[0].person_no:(null===(n=o.relationships.mother)||void 0===n?void 0:n.person_no)||null})});e.updateUser(E),le()}else le()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{color:"primary","aria-label":"View person",style:{margin:5,cursor:"pointer"},onClick:le}),r.a.createElement(T.a,{isOpen:u,toggle:le,scrollable:!0},r.a.createElement(D.a,{toggle:le},o.fullname),r.a.createElement(B.a,null,r.a.createElement(H,{text:"Basic Information"}),r.a.createElement(se.a,{onSubmit:ce},r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"name"},"Name"),r.a.createElement(me.a,{type:"text",name:"name",placeholder:"Name",style:{textTransform:"capitalize"},onChange:oe,value:o.name,invalid:!re(o.name),required:!0}),r.a.createElement(Ee.a,null,"Please Enter a Name")),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"father_or_husband_name"},"Middle Name"),r.a.createElement(me.a,{type:"text",name:"father_or_husband_name",placeholder:"Middle Name",style:{textTransform:"capitalize"},onChange:oe,value:o.father_or_husband_name,invalid:!re(o.father_or_husband_name),required:!0}),r.a.createElement(Ee.a,null,"Please Enter a Name")),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"surname"},"Last Name"),r.a.createElement(me.a,{type:"select",name:"surname",value:o.surname,onChange:oe,required:!0},_e.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))),r.a.createElement(G.a,null,r.a.createElement(A.a,null,r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"relationship_with_family_head"},"Relation"),r.a.createElement(me.a,{type:"select",name:"relationship_with_family_head",value:o.relationship_with_family_head,onChange:oe,required:!0},r.a.createElement("option",{value:"Self"},"Self"),r.a.createElement("option",{value:"Wife"},"Wife"),r.a.createElement("option",{value:"Son"},"Son"),r.a.createElement("option",{value:"Daghter"},"Daughter")))),r.a.createElement(A.a,null,r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"blood_group"},"Blood Group"),r.a.createElement(me.a,{type:"select",name:"blood_group",value:o.blood_group,onChange:oe,required:!0},ye.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))))),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"gender"},"Gender"),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"Male",name:"gender",checked:"Male"===o.gender,onChange:oe})," ","Male",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"Female",name:"gender",checked:"Female"===o.gender,onChange:oe})," ","Female"),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"date_of_birth"},"Date of Birth"),r.a.createElement(be.a,{value:o.date_of_birth,onChange:function(e){return c((function(a){return Object(d.a)(Object(d.a)({},a),{},{date_of_birth:e})}))},dateFormat:"DD/MM/YYYY",weekStartsOn:1})),r.a.createElement(ie.a,null,r.a.createElement(G.a,null,r.a.createElement(A.a,null,r.a.createElement(ue.a,{for:"marital_status"},"Marital Status"),r.a.createElement(me.a,{type:"select",name:"marital_status",value:o.marital_status,onChange:oe,required:!0},r.a.createElement("option",{value:"Married"},"Married"),r.a.createElement("option",{value:"Unmarried"},"Unmarried"),r.a.createElement("option",{value:"Widow"},"Widow"),r.a.createElement("option",{value:"Divorcee"},"Divorcee"),r.a.createElement("option",{value:"Engaged"},"Engaged"))),["Married","Widow"].includes(o.marital_status)&&r.a.createElement(A.a,null,r.a.createElement(ue.a,{for:"marriage_date"},"Marriage Date"),r.a.createElement(be.a,{value:o.marriage_date,onChange:function(e){return c((function(a){return Object(d.a)(Object(d.a)({},a),{},{marriage_date:e})}))},dateFormat:"DD/MM/YYYY",weekStartsOn:1})))),["Married","Widow"].includes(o.marital_status)&&r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"father_in_law_name"},"Father in Law"),r.a.createElement(me.a,{type:"text",name:"father_in_law_name",placeholder:"Middle Name",style:{textTransform:"capitalize"},onChange:oe,value:o.father_in_law_name,invalid:!re(o.father_in_law_name),required:!0})),r.a.createElement(H,{text:"Communication"}),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"mobile_1"},"Mobile #1"),r.a.createElement(me.a,{type:"text",name:"mobile_1",placeholder:"Mobile #1",onChange:oe,value:o.mobile_1,required:!0})),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"mobile_2"},"Mobile #2"),r.a.createElement(me.a,{type:"text",name:"mobile_2",placeholder:"Mobile #2",onChange:oe,value:o.mobile_2})),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"name"},"Email Address"),r.a.createElement(me.a,{type:"text",name:"email_address",placeholder:"Email",onChange:oe,value:o.email_address,invalid:(a=o.email_address,!a.match(/^$|^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/))}),r.a.createElement(Ee.a,null,"Please enter a valid email")),r.a.createElement(H,{text:"Education"}),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"education"},"Education"),r.a.createElement(me.a,{type:"select",name:"education",value:o.education,onChange:oe,required:!0},r.a.createElement("option",{value:"N/a"},"N/a"),r.a.createElement("option",{value:"School"},"School"),r.a.createElement("option",{value:"Graduate"},"Graduate"),r.a.createElement("option",{value:"High school"},"High school"),r.a.createElement("option",{value:"Post graduate"},"Post graduate"),r.a.createElement("option",{value:"College"},"College"),r.a.createElement("option",{value:"Ph d"},"Ph d"))),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"education_specialisation"},"Education Specialisation"),r.a.createElement(me.a,{type:"text",name:"education_specialisation",placeholder:"Education Specialisation (eg: BCom, BTech)",onChange:oe,value:o.education_specialisation})),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"stream"},"Stream"),r.a.createElement(me.a,{type:"text",name:"stream",placeholder:"Stream",onChange:oe,value:o.stream})),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"profession"},"Profession"),r.a.createElement(me.a,{type:"text",name:"profession",placeholder:"Profession",onChange:oe,value:o.profession})),r.a.createElement(H,{text:"Residence"}),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"residential_address_line_1"},"Address Line 1"),r.a.createElement(me.a,{type:"text",name:"residential_address_line_1",placeholder:"Residential Address",onChange:oe,value:o.residential_address_line_1})),r.a.createElement(G.a,null,r.a.createElement(A.a,null,r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"residential_address_city"},"City"),r.a.createElement(me.a,{type:"select",name:"residential_address_city",value:o.residential_address_city,onChange:oe,required:!0},ve.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)}))))),r.a.createElement(A.a,null,r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"residential_address_state"},"State"),r.a.createElement(me.a,{type:"select",name:"residential_address_state",value:o.residential_address_state,onChange:oe,required:!0},Oe.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))))),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"residential_landline"},"Landline"),r.a.createElement(me.a,{type:"text",name:"residential_landline",placeholder:"Residential Landline",onChange:oe,value:o.residential_landline||null})),r.a.createElement(H,{text:"Office"}),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"office_address"},"Office Address"),r.a.createElement(me.a,{type:"text",name:"office_address",placeholder:"Office Address",onChange:oe,value:o.office_address})),r.a.createElement(G.a,null,r.a.createElement(A.a,null,r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"office_address_city"},"City"),r.a.createElement(me.a,{type:"select",name:"office_address_city",value:o.office_address_city||"Other",onChange:oe,required:!0},ve.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)}))))),r.a.createElement(A.a,null,r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"office_address_state"},"State"),r.a.createElement(me.a,{type:"select",name:"office_address_state",value:o.office_address_state||"Other",onChange:oe,required:!0},Oe.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))))),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"landline_office"},"Landline"),r.a.createElement(me.a,{type:"text",name:"landline_office",placeholder:"Office Landline",onChange:oe,value:o.landline_office||null})),r.a.createElement(H,{text:"Relationships"}),r.a.createElement(ie.a,null,r.a.createElement(ue.a,Object.assign({},W.getLabelProps(),{style:{fontSize:"1.1em"}}),r.a.createElement("strong",null,"Father")),r.a.createElement(me.a,W.getInputProps()),r.a.createElement("ul",Object.assign({},W.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",width:"300px",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),W.isOpen&&y.map((function(e,a){return r.a.createElement("li",Object.assign({style:W.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},W.getItemProps({item:e,index:a})),e.fullname)})))),r.a.createElement(ie.a,null,r.a.createElement(ue.a,Object.assign({},Q.getLabelProps(),{style:{fontSize:"1.1em"}}),r.a.createElement("strong",null,"Mother")),r.a.createElement(me.a,Q.getInputProps()),r.a.createElement("ul",Object.assign({},Q.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",width:"300px",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),Q.isOpen&&S.map((function(e,a){return r.a.createElement("li",Object.assign({style:Q.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},Q.getItemProps({item:e,index:a})),e.fullname)})))),r.a.createElement(ie.a,null,r.a.createElement(ue.a,Object.assign({},X.getLabelProps(),{style:{fontSize:"1.1em"}}),r.a.createElement("strong",null,"Brothers")),r.a.createElement("div",null,$.selectedItems.map((function(e,a){return r.a.createElement("span",Object.assign({key:"selected-item-".concat(a)},$.getSelectedItemProps({selectedItem:e,index:a})),e.fullname,r.a.createElement("span",{onClick:function(){$.removeSelectedItem(e),g(!0)},style:{cursor:"pointer"}},"\u2715"))})),r.a.createElement("div",X.getComboboxProps(),r.a.createElement(me.a,X.getInputProps($.getDropdownProps({preventKeyAction:X.isOpen}))))),r.a.createElement("ul",Object.assign({},X.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),X.isOpen&&J(e.users,$.selectedItems,k).map((function(e,a){return r.a.createElement("li",Object.assign({style:X.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},X.getItemProps({item:e,index:a})),e.fullname)})))),r.a.createElement(ie.a,null,r.a.createElement(ue.a,Object.assign({},ee.getLabelProps(),{style:{fontSize:"1.1em"}}),r.a.createElement("strong",null,"Sisters")),r.a.createElement("div",null,Z.selectedItems.map((function(e,a){return r.a.createElement("span",Object.assign({key:"selected-item-".concat(a)},Z.getSelectedItemProps({selectedItem:e,index:a})),e.fullname,r.a.createElement("span",{onClick:function(){Z.removeSelectedItem(e),g(!0)},style:{cursor:"pointer"}},"\u2715"))})),r.a.createElement("div",ee.getComboboxProps(),r.a.createElement(me.a,ee.getInputProps(Z.getDropdownProps({preventKeyAction:ee.isOpen}))))),r.a.createElement("ul",Object.assign({},ee.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),ee.isOpen&&J(e.users,Z.selectedItems,L).map((function(e,a){return r.a.createElement("li",Object.assign({style:ee.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},ee.getItemProps({item:e,index:a})),e.fullname)})))),r.a.createElement(ie.a,null,r.a.createElement(ue.a,Object.assign({},te.getLabelProps(),{style:{fontSize:"1.1em"}}),r.a.createElement("strong",null,"Children")),r.a.createElement("div",null,ae.selectedItems.map((function(e,a){return r.a.createElement("span",Object.assign({key:"selected-item-".concat(a)},ae.getSelectedItemProps({selectedItem:e,index:a})),e.fullname,r.a.createElement("span",{onClick:function(){ae.removeSelectedItem(e),g(!0)},style:{cursor:"pointer"}},"\u2715"))})),r.a.createElement("div",te.getComboboxProps(),r.a.createElement(me.a,te.getInputProps(ae.getDropdownProps({preventKeyAction:te.isOpen}))))),r.a.createElement("ul",Object.assign({},te.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),te.isOpen&&J(e.users,ae.selectedItems,q).map((function(e,a){return r.a.createElement("li",Object.assign({style:te.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},te.getItemProps({item:e,index:a})),e.fullname)})))))),r.a.createElement(U.a,null,r.a.createElement(G.a,null,r.a.createElement(A.a,{className:"mb-2"},r.a.createElement("center",null,r.a.createElement(R.a,{color:"primary",type:"submit",onClick:ce},r.a.createElement("strong",null,"Save"))," ",r.a.createElement(R.a,{color:"danger",onClick:le},r.a.createElement("strong",null,"Cancel"))))))))})),Se=Object(s.b)((function(e){return{familyMembers:Object.values(e.user.users).filter((function(a){return a.family_no===e.auth.user.family_no}))}}))((function(e){return r.a.createElement(k.a,null,e.familyMembers.map((function(e){return r.a.createElement(k.a,{key:e._id},r.a.createElement(G.a,null,r.a.createElement(A.a,null,r.a.createElement(G.a,null,e.fullname)),r.a.createElement(A.a,null,r.a.createElement("center",null,e.relationship_with_family_head)),r.a.createElement(A.a,{xs:"3"},r.a.createElement(X,{user:e}),r.a.createElement(je,{user:e}))),r.a.createElement("hr",null))})))})),we=t(162),Ce=t.n(we),xe=Object(s.b)((function(e){return{count:Object.values(e.user.users).length,birthdays:Object.values(e.user.users).filter((function(e){return Ce()().format("DDMM")===Ce()(e.date_of_birth).format("DDMM")}))}}),{getUsers:re})((function(e){var a=e.getUsers,t=e.count,l=e.birthdays;Object(n.useEffect)((function(){0===t&&a()}),[]);var o=l.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{actions:r.a.createElement(Z,{user:e})})}));return r.a.createElement(k.a,null,r.a.createElement(I,{columns:[{name:"fullname",label:"Name",options:{filter:!1,sort:!0,sortThirdClickReset:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}}],data:o}))})),Ie=t(307),ke=t(308),Pe=t(429),Me=t(430),Ne=Object(s.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{logOut:function(){return{type:"LOGOUT"}}})((function(e){var a=e.loggedIn,t=e.logOut;return r.a.createElement("div",null,r.a.createElement(Ie.a,{light:!0},r.a.createElement(ke.a,{tag:c.b,to:"/",style:{textDecoration:"none"}},r.a.createElement("span",{className:"navbar-text"},r.a.createElement(Pe.a,null))),a&&r.a.createElement(ke.a,{onClick:t,style:{textDecoration:"none",cursor:"pointer"}},r.a.createElement("span",{className:"navbar-text"},r.a.createElement(Me.a,null)))))})),Te=function(){return r.a.createElement("h1",null,"Not yet built")},De=Object(s.b)((function(e){return{username:e.auth.user.person_no.toString()}}),null)((function(e){var a=Object(n.useState)(""),t=Object(N.a)(a,2),l=t[0],o=t[1],c=Object(n.useState)(""),s=Object(N.a)(c,2),i=s[0],u=s[1],m=Object(n.useState)(""),d=Object(N.a)(m,2),p=d[0],E=d[1],f=function(){var a=Object(te.a)(ae.a.mark((function a(t){var n,r,c;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.persist(),t.preventDefault(),n={username:e.username,oldPassword:l,newPassword:i},a.next=5,fetch("/api/auth/changePassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return r=a.sent,a.next=8,r.json();case 8:c=a.sent,alert(c.msg),o(""),u(""),E("");case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),h=function(e){return 0!==e.trim().length};return r.a.createElement(k.a,null,r.a.createElement(se.a,{onSubmit:f},r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"oldPassword"},"Old Password"),r.a.createElement(me.a,{type:"password",name:"oldPassword",placeholder:"Old Password",onChange:function(e){return o(e.target.value)},value:l,invalid:!h(l),required:!0}),r.a.createElement(Ee.a,null,"Please Enter your old password")),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"newPassword"},"New Password"),r.a.createElement(me.a,{type:"password",name:"newPassword",placeholder:"New Password",onChange:function(e){return u(e.target.value)},value:i,required:!0})),r.a.createElement(ie.a,null,r.a.createElement(ue.a,{for:"repeatNewPassword"},"Repeat New Password"),r.a.createElement(me.a,{type:"password",name:"repeatNewPassword",placeholder:"Repeat New Password",onChange:function(e){return E(e.target.value)},value:p,invalid:i!==p,required:!0}),r.a.createElement(Ee.a,null,"Passwords don't match")),r.a.createElement("center",null,r.a.createElement(R.a,{color:"primary",type:"submit",disabled:!h(l)||i!==p},r.a.createElement("strong",null,"Submit")))))})),Be=(t(399),function(){return console.log("You probably shouldn't be here"),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,null),r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/",component:pe}),r.a.createElement(j.b,{exact:!0,path:"/home",render:function(e){return r.a.createElement(oe,Object.assign({},e,{Component:ce}))}}),r.a.createElement(j.b,{exact:!0,path:"/members",render:function(e){return r.a.createElement(oe,Object.assign({},e,{Component:le}))}}),r.a.createElement(j.b,{exact:!0,path:"/birthdays",render:function(e){return r.a.createElement(oe,Object.assign({},e,{Component:xe}))}}),r.a.createElement(j.b,{exact:!0,path:"/family",render:function(e){return r.a.createElement(oe,Object.assign({},e,{Component:Se}))}}),r.a.createElement(j.b,{exact:!0,path:"/changepassword",render:function(e){return r.a.createElement(oe,Object.assign({},e,{Component:De}))}}),r.a.createElement(j.b,{exact:!0,path:"/workinprogress",component:Te})))});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:O},r.a.createElement(c.a,null,r.a.createElement(Be,null)))),document.getElementById("root"))}},[[346,1,2]]]);
//# sourceMappingURL=main.50545a85.chunk.js.map