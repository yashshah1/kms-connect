(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{346:function(e,a,t){e.exports=t(401)},399:function(e,a,t){},401:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(19),c=t.n(l),o=t(55),s=t(26),i=(t(355),t(72)),u=t(143),m=t(14),d=t(17),p={users:{},loading:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USER_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,users:a.payload});case"GET_USER_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"UPDATE_USER":var t=a.payload.person_no;return Object(d.a)(Object(d.a)({},e),{},{users:Object(d.a)(Object(d.a)({},e.users),{},Object(m.a)({},t,a.payload))});case"UPDATE_USERS":var n,r={},l=Object(u.a)(a.payload);try{for(l.s();!(n=l.n()).done;){var c=n.value;r[c.person_no]=c}}catch(o){l.e(o)}finally{l.f()}return console.log(r),Object(d.a)(Object(d.a)({},e),{},{users:Object(d.a)(Object(d.a)({},e.users),r)});default:return e}},f={error:null,isError:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ERROR":return Object(d.a)(Object(d.a)({},e),{},{isError:!0,error:a.payload.msg});case"HIDE_ERROR":return Object(d.a)(Object(d.a)({},e),{},{isError:!1,error:null});default:return e}},g={loggedIn:!1,user:{},jwt:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_SUCCESS":var t=a.payload,n=t.token,r=t.user;return localStorage.setItem("kmmms-token",n),Object(d.a)(Object(d.a)({},e),{},{jwt:n,loggedIn:!0,user:r});case"LOGOUT":return localStorage.removeItem("kmmms-token"),Object(d.a)(Object(d.a)({},e),{},{user:{},jwt:"",loggedIn:!1});default:return e}},_=Object(i.c)({user:E,error:h,auth:b}),y=[t(330).a],v=i.a.apply(void 0,y),O=Object(i.d)(_,v),j=t(31),C=t(331),S=t.n(C),w=function(e){return e.split(" ").join("")},x=function(e,a){e=w(e.toLowerCase()),a=w(a.toLowerCase());for(var t=0,n=0;n<a.length&&t<e.length;n++)e[t]===a[n]&&t++;return t===e.length},I={download:!1,print:!1,viewColumns:!1,selectableRows:"none",responsive:"standard",rowsPerPage:50,rowsPerPageOptions:[10,20,50,100],customSearch:function(e,a){return x(e,a[0])}},k=function(e){var a=e.columns,t=e.data,n=e.options,l=void 0===n?{}:n;return l=Object(d.a)(Object(d.a)({},l),I),r.a.createElement(S.a,{columns:a,options:l,data:t})},P=t(293),M=t(425),N=function(e){var a,t=e.user,n=t.mobile_1,l=t.mobile_2,c=!1;return n?a=n:l?a=l:c=!0,r.a.createElement(M.a,{onClick:c?void 0:function(){return document.location.href="tel:".concat(a)},color:"primary","aria-label":"Call person",style:{pointer:"cursor",margin:5,opacity:c?.5:1}})},T=t(18),D=t(322),B=t(300),U=t(301),R=t(302),G=t(91),A=t(426),F=t(291),L=t(292),K=t(294),Y=t(295),q=t(141),V=t(196),J=t.n(V),z=function(){return r.a.createElement("div",{style:{width:"100%",height:"5px",backgroundColor:"#007BFF",margin:"10px 0px 10px 0px",opacity:.5}})},H=function(e){var a=e.text;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement("center",null,r.a.createElement("h4",null,a.toUpperCase())),r.a.createElement(z,null))},W=function(e){return O.getState().user.users[e]},Q=function(e){var a,t=e.user,l=Object(n.useState)(!1),c=Object(T.a)(l,2),o=c[0],s=c[1],i=Object(n.useState)(!1),u=Object(T.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(!1),E=Object(T.a)(p,2),f=E[0],h=E[1],g=function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,null,e),r.a.createElement(F.a,{xs:"6"},a))},b=function(e,a){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,g(e,a)),t&&r.a.createElement("hr",null))},_=function(e){var a=W(e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{key:a._id},r.a.createElement(F.a,null,a.fullname),r.a.createElement(F.a,null,r.a.createElement("center",null,r.a.createElement($,{user:a})))),r.a.createElement("hr",null))},y=function(e){return r.a.createElement("a",{href:"tel:".concat(e)},e)},v=t.person_no,O=t.family_no,j=t.name,C=t.surname,S=t.father_or_husband_name,w=t.relationship_with_family_head,x=t.native_place,I=t.blood_group,k=t.gender,M=t.date_of_birth,N=t.marital_status,D=t.marriage_date,B=t.father_in_law_name,U=t.mobile_1,R=t.mobile_2,G=t.email_address,A=t.education,V=t.education_specialisation,Q=t.stream,X=t.profession,Z=t.residential_address_line_1,ee=t.residential_address_state,ae=t.residential_address_city,te=t.pin_code,ne=t.residential_landline,re=t.office_address,le=t.office_address_state,ce=t.office_address_city,oe=t.office_address_pin,se=t.landline_office,ie=t.relationships,ue=void 0===ie?{}:ie;return r.a.createElement(P.a,null,r.a.createElement(H,{text:"System Information"}),b("Person number",v),b("Family number",O),r.a.createElement(H,{text:"Profile"}),b("First Name",j),b("Middle Name",S),b("Last Name",C),b("Relation",w),b("Native",x,!1),r.a.createElement(z,null),b("Blood Group",I),b("Gender",k),b("Date of Birth",r.a.createElement(J.a,{format:"DD/MM/YYYY"},M)),r.a.createElement(L.a,null,g("Marital Status",N),D?r.a.createElement(J.a,{format:"DD/MM/YYYY"},D):null),r.a.createElement("hr",null),b("Father in Law",B,!1),r.a.createElement(H,{text:"Communication"}),U?b("Mobile #1",y(U)):null,R?b("Mobile #2",y(R)):null,G?b("Email",(a=G,r.a.createElement("a",{href:"mailto:".concat(a)},a))):null,r.a.createElement(H,{text:"Education"}),b("Education",A),b("Specialisation",V),b("Stream",Q),b("Profession",X,!1),r.a.createElement(H,{text:"Residence"}),b("Address",Z),b("City",ae),b("State",ee),b("Pin Code",te),ne?b("Landline",y(ne)):null,r.a.createElement(H,{text:"Office"}),b("Address",re),b("City",ce),b("State",le),b("Pin Code",oe),se?b("Landline",y(se)):null,r.a.createElement(H,{text:"Relationships"}),r.a.createElement(K.a,null,r.a.createElement(Y.a,{style:{cursor:"pointer"},action:!0,onClick:function(){return s(!o)},disabled:!(ue.siblings&&ue.siblings.length>0)},"Siblings"),r.a.createElement(q.a,{isOpen:o},ue.siblings?r.a.createElement(P.a,null,ue.siblings.map((function(e){return _(e)}))):null),r.a.createElement(Y.a,{style:{cursor:"pointer"},disabled:!(ue.parents&&ue.parents.length>0),onClick:function(){return d(!m)},action:!0},"Parents"),r.a.createElement(q.a,{isOpen:m},ue.parents?r.a.createElement(P.a,null,ue.parents.map((function(e){return _(e)}))):null),r.a.createElement(Y.a,{style:{cursor:"pointer"},disabled:!(ue.children&&ue.children.length>0),onClick:function(){return h(!f)},action:!0},"Children"),r.a.createElement(q.a,{isOpen:f},ue.children?r.a.createElement(P.a,null,ue.children.map((function(e){return _(e)}))):null)))},$=Object(s.b)((function(e,a){return a.user?{}:{user:e.user.users[a.userId]}}),null)((function(e){var a=e.user,t=a.fullname,l=Object(n.useState)(!1),c=Object(T.a)(l,2),o=c[0],s=c[1],i=function(){s(!o)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{color:"primary","aria-label":"View person",style:{margin:5,cursor:"pointer"},onClick:i}),r.a.createElement(D.a,{isOpen:o,toggle:i,scrollable:!0},r.a.createElement(B.a,{toggle:i},t),r.a.createElement(U.a,null,r.a.createElement(Q,{user:a})),r.a.createElement(R.a,null,r.a.createElement(G.a,{color:"danger",onClick:i},"Close"))))})),X=t(427),Z=Object(s.b)((function(e,a){return{familyMembers:Object.values(e.user.users).filter((function(e){return e.family_no===a.family_no}))}}))((function(e){var a=Object(n.useState)(!1),t=Object(T.a)(a,2),l=t[0],c=t[1],o=function(){c(!l)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{color:"primary","aria-label":"View Family",style:{margin:5,cursor:"pointer"},onClick:o}),r.a.createElement(D.a,{isOpen:l,toggle:o,scrollable:!0},r.a.createElement(B.a,{toggle:o},"Family Members"),r.a.createElement(U.a,null,e.familyMembers.map((function(e){return r.a.createElement(P.a,{key:e._id},r.a.createElement(L.a,null,r.a.createElement(F.a,null,r.a.createElement(L.a,null,e.fullname)),r.a.createElement(F.a,null,r.a.createElement("center",null,e.relationship_with_family_head)),r.a.createElement(F.a,{xs:"3"},r.a.createElement(N,{user:e}),r.a.createElement($,{user:e}))),r.a.createElement("hr",null))}))),r.a.createElement(R.a,null,r.a.createElement(G.a,{color:"danger",onClick:o},"Close"))))})),ee=function(e){var a=e.call,t=void 0===a||a,n=e.person,l=void 0===n||n,c=e.family,o=void 0===c||c,s=e.user;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(N,{user:s}):null,l?r.a.createElement($,{user:s}):null,o?r.a.createElement(Z,{family_no:s.family_no}):null)},ae=t(62),te=t.n(ae),ne=t(84),re=function(e){return{type:"GET_USER_SUCCESS",payload:e}},le=function(){return function(){var e=Object(ne.a)(te.a.mark((function e(a){var t,n,r,l,c,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"GET_USER_REQUEST"}),e.prev=1,e.next=4,fetch("/api/users/");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r={},l=Object(u.a)(n);try{for(l.s();!(c=l.n()).done;)o=c.value,r[o.person_no]=o}catch(s){l.e(s)}finally{l.f()}a(re(r)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),alert(e.t0.msg);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(a){return e.apply(this,arguments)}}()},ce=Object(s.b)((function(e){return{users:e.user.users,loading:e.user.loading}}),{getUsers:le})((function(e){var a=e.getUsers,t=e.users;Object(n.useEffect)((function(){0===t.length&&a()}),[]);var l={filter:!0,sort:!1,display:!1,filterType:"dropdown"},c=Object(d.a)(Object(d.a)({},l),{},{filterType:"multiselect"}),o=[{name:"fullname",label:"Name",options:{filter:!1,sort:!0,sortThirdClickReset:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1,download:!1}},{name:"gender",label:"Gender",options:l},{name:"surname",label:"Surname",options:c},{name:"relationship_with_family_head",label:"Family Status",options:c},{name:"marital_status",label:"Marital Status",options:c},{name:"blood_group",label:"Blood Group",options:c},{name:"native_place",label:"Native Place",options:c},{name:"residential_address_city",label:"City",options:c},{name:"residential_address_state",label:"State",options:c}],s=Object.values(t).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{actions:r.a.createElement(ee,{user:e})})}));return r.a.createElement(P.a,null,r.a.createElement(k,{columns:o,data:s}))})),oe=Object(s.b)((function(e){return{loggedIn:e.auth.loggedIn}}),null)((function(e){var a=e.Component,t=e.loggedIn;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(a,null):r.a.createElement(j.a,{to:"/"}))})),se=Object(s.b)((function(e){return{count:Object.values(e.user.users).length}}),{getUsers:le})((function(e){return Object(n.useEffect)((function(){0===e.count&&e.getUsers()}),[]),r.a.createElement(P.a,null,r.a.createElement(L.a,{className:"my-2"},r.a.createElement(F.a,null,r.a.createElement(o.b,{to:"/members"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Members List"))))),r.a.createElement(F.a,null,r.a.createElement(o.b,{to:"/birthdays"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Birthdays")))))),r.a.createElement(L.a,null,r.a.createElement(F.a,null,r.a.createElement(o.b,{to:"/family"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"View / Edit family"))))),r.a.createElement(F.a,null,r.a.createElement(o.b,{to:"/changepassword"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Change Password")))))))})),ie=t(303),ue=t(304),me=t(305),de=t(306),pe=function(e){return{type:"LOGIN_SUCCESS",payload:e}},Ee=Object(s.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{login:function(e,a){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var r,l,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={username:e,password:a},t.prev=1,t.next=4,fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:if(200===(l=t.sent).status){t.next=9;break}return t.next=8,l.json();case 8:throw t.sent;case 9:return t.next=11,l.json();case 11:c=t.sent,n(pe(c)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),alert(t.t0.msg);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var a=e.login,t=e.loggedIn,l=Object(n.useState)(""),c=Object(T.a)(l,2),o=c[0],s=c[1],i=Object(n.useState)(""),u=Object(T.a)(i,2),m=u[0],d=u[1];return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(j.a,{to:"/home"}):r.a.createElement(P.a,{className:"App"},r.a.createElement("center",null,r.a.createElement("h2",null,"Sign In")),r.a.createElement(ie.a,{className:"form"},r.a.createElement(F.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,null,"Username"),r.a.createElement(de.a,{type:"text",name:"username",value:o,onChange:function(e){return s(e.target.value)},required:!0}))),r.a.createElement(F.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"examplePassword"},"Password"),r.a.createElement(de.a,{type:"password",name:"password",value:m,onChange:function(e){return d(e.target.value)},required:!0}))),r.a.createElement(F.a,null,r.a.createElement("center",null,r.a.createElement(G.a,{type:"submit",color:"success",onClick:function(e){e.preventDefault(),a(o,m),d("")}},"Login"))))))})),fe=t(318),he=t(34),ge=t(428),be=t(199),_e=t.n(be),ye=["Mall","Mandan","Bhutada","Navdhare","Mundada","Ladhad","Sharda","Sheth","Gagdani","Rathi","Bhedakiya","Karwa","Bhutda","Somani","Chandak","Kothari","Gingal","Maniyar","Shah","Gilda","Savar","Jhaveri","Bathar","Bhopa","Jeswani"],ve=["A+","A-","B+","B-","O+","O-","AB+","AB-","N/a"],Oe=["Adipur","Ahmedabad","Airoli","Anand","Anjar","Bargarh","Bavla","Belapur (CBD)","Belgaum","Bellary","Bengaluru","Bhadra","Bhadreshwar","Bharuch","Bhiwandi","Bhuj","Bitta","Chandrapur","Chiplun","Dayapar","Dharwad","Dolatpar","Dombivali","Gadag","Gandhidham","Gandhinagar","Germany","Ghadani","Ghaduli","Goyla","Gulburga","Hoogli","Hubli","Indore","Jakhau","Jamnagar","Kalamboli","Kalwa","Kamothe","Kapadvanj","Kharghar","Khedoi","Khopoli","Kolhapur","Kotada","Kotada Jadodar","Kothara","Laxmipar","Madhapar","Mandvi","Mangalore","Margoa","Matana Madh","Meghpar","Mehsana","Morbi","Moti Khavdi","Moti Virani","Mumbai","Mundra","Nagpur","Nakhatrana","Nakhtrana","Naliya","Nani Virani","Nashik","Nerul","New Panvel","Nundhatad","Ozar","Panvel","Pen","Pune","Ravapar","Sachin","Sambhalpur","Sangli","Satara","Sea Woods","Shahapur","Shenoi","Shivmoga","Shrirampur","Surat","Switzerland","Tera","Thane","Tumkur","Udaipur","Udhana","United Arab Emirates","United Kingdom","United States of America","Uran","Vadkhal","Vadodara","Valsad","Varma Nagar","Vasai","Vashi","Other"],je=["Goa","Gujarat","International","Karnataka","Madhya Pradesh","Maharashtra","Orissa","Rajasthan","West Bengal","Other"],Ce=Object(s.b)((function(e,a){return{users:Object.values(e.user.users).map((function(e){return{person_no:e.person_no,fullname:e.fullname}})),user:Object(d.a)(Object(d.a)({},a.user),{},{relationships:Object(d.a)(Object(d.a)({},a.user.relationships),{},{siblings:a.user.relationships.siblings.map((function(e){var a=W(e);return{person_no:a.person_no,fullname:a.fullname}})),parents:a.user.relationships.parents.map((function(e){var a=W(e);return{person_no:a.person_no,fullname:a.fullname}})),children:a.user.relationships.children.map((function(e){var a=W(e);return{person_no:a.person_no,fullname:a.fullname}}))})})}}),{updateUser:function(e){return function(){var a=Object(ne.a)(te.a.mark((function a(t){var n,r,l;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={user:e},console.log(n),a.prev=2,a.next=5,fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return r=a.sent,a.next=8,r.json();case 8:if(l=a.sent,200===r.status){a.next=11;break}throw l;case 11:l.push(e),t({type:"UPDATE_USERS",payload:l}),alert("Done"),a.next=20;break;case 16:a.prev=16,a.t0=a.catch(2),console.log(a.t0),alert(a.t0.msg);case 20:case"end":return a.stop()}}),a,null,[[2,16]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var a,t=Object(n.useState)(e.user),l=Object(T.a)(t,2),c=l[0],o=l[1],s=Object(n.useState)(!1),i=Object(T.a)(s,2),u=i[0],p=i[1],E=Object(n.useState)(!1),f=Object(T.a)(E,2),h=f[0],g=f[1],b=Object(n.useState)(""),_=Object(T.a)(b,2),y=_[0],v=_[1],O=Object(n.useState)(""),j=Object(T.a)(O,2),C=j[0],S=j[1],w=Object(n.useState)(""),I=Object(T.a)(w,2),k=I[0],P=I[1],M=function(e,a,t){return e.filter((function(e){return a.indexOf(e.fullname)<0&&x(t,e.fullname)}))},N=Object(he.b)({initialSelectedItems:c.relationships.parents}),A=Object(he.a)({parentInput:y,items:M(e.users,N.selectedItems,y),onStateChange:function(e){var a=e.inputValue,t=e.type,n=e.selectedItem;switch(t){case he.a.stateChangeTypes.InputChange:g(!0),v(a);break;case he.a.stateChangeTypes.InputKeyDownEnter:case he.a.stateChangeTypes.ItemClick:case he.a.stateChangeTypes.InputBlur:n&&(v(""),N.addSelectedItem(n),A.selectItem(null))}},itemToString:function(e){return e||""}}),K=Object(he.b)({initialSelectedItems:c.relationships.siblings}),Y=Object(he.a)({siblingInput:C,items:M(e.users,K.selectedItems,C),onStateChange:function(e){var a=e.inputValue,t=e.type,n=e.selectedItem;switch(t){case he.a.stateChangeTypes.InputChange:g(!0),S(a);break;case he.a.stateChangeTypes.InputKeyDownEnter:case he.a.stateChangeTypes.ItemClick:case he.a.stateChangeTypes.InputBlur:n&&(S(""),K.addSelectedItem(n),Y.selectItem(null))}},itemToString:function(e){return e||""}}),q=Object(he.b)({initialSelectedItems:c.relationships.children}),V=Object(he.a)({childInput:k,items:M(e.users,q.selectedItems,k),onStateChange:function(e){var a=e.inputValue,t=e.type,n=e.selectedItem;switch(t){case he.a.stateChangeTypes.InputChange:g(!0),P(a);break;case he.a.stateChangeTypes.InputKeyDownEnter:case he.a.stateChangeTypes.ItemClick:case he.a.stateChangeTypes.InputBlur:n&&(P(""),q.addSelectedItem(n),V.selectItem(null))}},itemToString:function(e){return e||""}}),J=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},z=function(e){return 0!==e.trim().length},W=function(){return p(!u)},Q=function(e){e.persist(),o((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(m.a)({},e.target.name,e.target.value))})),g(!0)},$=function(a){if(a.persist(),a.preventDefault(),h){var t=J(c.name),n=J(c.father_or_husband_name),r=J(c.surname),l=J(c.father_in_law_name),o=J(c.stream),s=J(c.profession),i=J(c.education_specialisation),u="".concat(t," ").concat(n," ").concat(r),m=Object(d.a)(Object(d.a)({},c),{},{name:t,father_or_husband_name:n,surname:r,father_in_law_name:l,stream:o,profession:s,education_specialisation:i,fullname:u,relationships:Object(d.a)(Object(d.a)({},c.relationships),{},{parents:N.selectedItems.map((function(e){return e.person_no})),siblings:K.selectedItems.map((function(e){return e.person_no})),children:q.selectedItems.map((function(e){return e.person_no}))})});e.updateUser(m),W()}else W()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{color:"primary","aria-label":"View person",style:{margin:5,cursor:"pointer"},onClick:W}),r.a.createElement(D.a,{isOpen:u,toggle:W,scrollable:!0},r.a.createElement(B.a,{toggle:W},c.fullname),r.a.createElement(U.a,null,r.a.createElement(H,{text:"Basic Information"}),r.a.createElement(ie.a,{onSubmit:$},r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"name"},"Name"),r.a.createElement(de.a,{type:"text",name:"name",placeholder:"Name",style:{textTransform:"capitalize"},onChange:Q,value:c.name,invalid:!z(c.name),required:!0}),r.a.createElement(fe.a,null,"Please Enter a Name")),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"father_or_husband_name"},"Middle Name"),r.a.createElement(de.a,{type:"text",name:"father_or_husband_name",placeholder:"Middle Name",style:{textTransform:"capitalize"},onChange:Q,value:c.father_or_husband_name,invalid:!z(c.father_or_husband_name),required:!0}),r.a.createElement(fe.a,null,"Please Enter a Name")),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"surname"},"Last Name"),r.a.createElement(de.a,{type:"select",name:"surname",value:c.surname,onChange:Q,required:!0},ye.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))),r.a.createElement(L.a,null,r.a.createElement(F.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"relationship_with_family_head"},"Relation"),r.a.createElement(de.a,{type:"select",name:"relationship_with_family_head",value:c.relationship_with_family_head,onChange:Q,required:!0},r.a.createElement("option",{value:"Self"},"Self"),r.a.createElement("option",{value:"Wife"},"Wife"),r.a.createElement("option",{value:"Son"},"Son"),r.a.createElement("option",{value:"Daghter"},"Daughter")))),r.a.createElement(F.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"blood_group"},"Blood Group"),r.a.createElement(de.a,{type:"select",name:"blood_group",value:c.blood_group,onChange:Q,required:!0},ve.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))))),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"gender"},"Gender"),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"Male",name:"gender",checked:"Male"===c.gender,onChange:Q})," ","Male",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"Female",name:"gender",checked:"Female"===c.gender,onChange:Q})," ","Female"),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"date_of_birth"},"Date of Birth"),r.a.createElement(_e.a,{value:c.date_of_birth,onChange:function(e){return o((function(a){return Object(d.a)(Object(d.a)({},a),{},{date_of_birth:e})}))},dateFormat:"DD/MM/YYYY",weekStartsOn:1})),r.a.createElement(ue.a,null,r.a.createElement(L.a,null,r.a.createElement(F.a,null,r.a.createElement(me.a,{for:"marital_status"},"Marital Status"),r.a.createElement(de.a,{type:"select",name:"marital_status",value:c.marital_status,onChange:Q,required:!0},r.a.createElement("option",{value:"Married"},"Married"),r.a.createElement("option",{value:"Unmarried"},"Unmarried"),r.a.createElement("option",{value:"Widow"},"Widow"),r.a.createElement("option",{value:"Divorcee"},"Divorcee"),r.a.createElement("option",{value:"Engaged"},"Engaged"))),["Married","Widow"].includes(c.marital_status)&&r.a.createElement(F.a,null,r.a.createElement(me.a,{for:"marriage_date"},"Marriage Date"),r.a.createElement(_e.a,{value:c.marriage_date,onChange:function(e){return o((function(a){return Object(d.a)(Object(d.a)({},a),{},{marriage_date:e})}))},dateFormat:"DD/MM/YYYY",weekStartsOn:1})))),["Married","Widow"].includes(c.marital_status)&&r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"father_in_law_name"},"Father in Law"),r.a.createElement(de.a,{type:"text",name:"father_in_law_name",placeholder:"Middle Name",style:{textTransform:"capitalize"},onChange:Q,value:c.father_in_law_name,invalid:!z(c.father_in_law_name),required:!0})),r.a.createElement(H,{text:"Communication"}),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"mobile_1"},"Mobile #1"),r.a.createElement(de.a,{type:"text",name:"mobile_1",placeholder:"Mobile #1",onChange:Q,value:c.mobile_1,required:!0})),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"mobile_2"},"Mobile #2"),r.a.createElement(de.a,{type:"text",name:"mobile_2",placeholder:"Mobile #2",onChange:Q,value:c.mobile_2})),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"name"},"Email Address"),r.a.createElement(de.a,{type:"text",name:"email_address",placeholder:"Email",onChange:Q,value:c.email_address,invalid:(a=c.email_address,!a.match(/^$|^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/))}),r.a.createElement(fe.a,null,"Please enter a valid email")),r.a.createElement(H,{text:"Education"}),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"education"},"Education"),r.a.createElement(de.a,{type:"select",name:"education",value:c.education,onChange:Q,required:!0},r.a.createElement("option",{value:"N/a"},"N/a"),r.a.createElement("option",{value:"School"},"School"),r.a.createElement("option",{value:"Graduate"},"Graduate"),r.a.createElement("option",{value:"High school"},"High school"),r.a.createElement("option",{value:"Post graduate"},"Post graduate"),r.a.createElement("option",{value:"College"},"College"),r.a.createElement("option",{value:"Ph d"},"Ph d"))),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"education_specialisation"},"Education Specialisation"),r.a.createElement(de.a,{type:"text",name:"education_specialisation",placeholder:"Education Specialisation (eg: BCom, BTech)",onChange:Q,value:c.education_specialisation})),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"stream"},"Stream"),r.a.createElement(de.a,{type:"text",name:"stream",placeholder:"Stream",onChange:Q,value:c.stream})),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"profession"},"Profession"),r.a.createElement(de.a,{type:"text",name:"profession",placeholder:"Profession",onChange:Q,value:c.profession})),r.a.createElement(H,{text:"Residence"}),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"residential_address_line_1"},"Address Line 1"),r.a.createElement(de.a,{type:"text",name:"residential_address_line_1",placeholder:"Residential Address",onChange:Q,value:c.residential_address_line_1})),r.a.createElement(L.a,null,r.a.createElement(F.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"residential_address_city"},"City"),r.a.createElement(de.a,{type:"select",name:"residential_address_city",value:c.residential_address_city,onChange:Q,required:!0},Oe.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)}))))),r.a.createElement(F.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"residential_address_state"},"State"),r.a.createElement(de.a,{type:"select",name:"residential_address_state",value:c.residential_address_state,onChange:Q,required:!0},je.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))))),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"residential_landline"},"Landline"),r.a.createElement(de.a,{type:"text",name:"residential_landline",placeholder:"Residential Landline",onChange:Q,value:c.residential_landline||null})),r.a.createElement(H,{text:"Office"}),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"office_address"},"Office Address"),r.a.createElement(de.a,{type:"text",name:"office_address",placeholder:"Office Address",onChange:Q,value:c.office_address})),r.a.createElement(L.a,null,r.a.createElement(F.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"office_address_city"},"City"),r.a.createElement(de.a,{type:"select",name:"office_address_city",value:c.office_address_city||"Other",onChange:Q,required:!0},Oe.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)}))))),r.a.createElement(F.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"office_address_state"},"State"),r.a.createElement(de.a,{type:"select",name:"office_address_state",value:c.office_address_state||"Other",onChange:Q,required:!0},je.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)})))))),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"landline_office"},"Landline"),r.a.createElement(de.a,{type:"text",name:"landline_office",placeholder:"Office Landline",onChange:Q,value:c.landline_office||null})),r.a.createElement(H,{text:"Relationships"}),r.a.createElement(ue.a,null,r.a.createElement(me.a,A.getLabelProps(),r.a.createElement("strong",null,"Parents")),r.a.createElement("div",null,N.selectedItems.map((function(e,a){return r.a.createElement("span",Object.assign({key:"selected-item-".concat(a)},N.getSelectedItemProps({selectedItem:e,index:a})),e.fullname,r.a.createElement("span",{onClick:function(){N.removeSelectedItem(e),g(!0)},style:{cursor:"pointer"}},"\u2715"))})),r.a.createElement("div",A.getComboboxProps(),r.a.createElement(de.a,A.getInputProps(N.getDropdownProps({preventKeyAction:A.isOpen}))))),r.a.createElement("ul",Object.assign({},A.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),A.isOpen&&M(e.users,N.selectedItems,y).map((function(e,a){return r.a.createElement("li",Object.assign({style:A.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},A.getItemProps({item:e,index:a})),e.fullname)})))),r.a.createElement(ue.a,null,r.a.createElement(me.a,Y.getLabelProps(),r.a.createElement("strong",null,"Siblings")),r.a.createElement("div",null,K.selectedItems.map((function(e,a){return r.a.createElement("span",Object.assign({key:"selected-item-".concat(a)},K.getSelectedItemProps({selectedItem:e,index:a})),e.fullname,r.a.createElement("span",{onClick:function(){K.removeSelectedItem(e),g(!0)},style:{cursor:"pointer"}},"\u2715"))})),r.a.createElement("div",Y.getComboboxProps(),r.a.createElement(de.a,Y.getInputProps(K.getDropdownProps({preventKeyAction:Y.isOpen}))))),r.a.createElement("ul",Object.assign({},Y.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),Y.isOpen&&M(e.users,K.selectedItems,C).map((function(e,a){return r.a.createElement("li",Object.assign({style:Y.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},Y.getItemProps({item:e,index:a})),e.fullname)})))),r.a.createElement(ue.a,null,r.a.createElement(me.a,V.getLabelProps(),r.a.createElement("strong",null,"Children")),r.a.createElement("div",null,q.selectedItems.map((function(e,a){return r.a.createElement("span",Object.assign({key:"selected-item-".concat(a)},q.getSelectedItemProps({selectedItem:e,index:a})),e.fullname,r.a.createElement("span",{onClick:function(){q.removeSelectedItem(e),g(!0)},style:{cursor:"pointer"}},"\u2715"))})),r.a.createElement("div",V.getComboboxProps(),r.a.createElement(de.a,V.getInputProps(q.getDropdownProps({preventKeyAction:V.isOpen}))))),r.a.createElement("ul",Object.assign({},V.getMenuProps(),{style:{maxHeight:"200px",overflowY:"auto",margin:0,borderTop:0,background:"white",position:"absolute",zIndex:1e3,listStyle:"none",padding:0}}),V.isOpen&&M(e.users,q.selectedItems,k).map((function(e,a){return r.a.createElement("li",Object.assign({style:V.highlightedIndex===a?{backgroundColor:"#bde4ff"}:{},key:"".concat(e).concat(a)},V.getItemProps({item:e,index:a})),e.fullname)})))))),r.a.createElement(R.a,null,r.a.createElement(L.a,null,r.a.createElement(F.a,{className:"mb-2"},r.a.createElement("center",null,r.a.createElement(G.a,{color:"primary",type:"submit",onClick:$},r.a.createElement("strong",null,"Save"))," ",r.a.createElement(G.a,{color:"danger",onClick:W},r.a.createElement("strong",null,"Cancel"))))))))})),Se=Object(s.b)((function(e){return{familyMembers:Object.values(e.user.users).filter((function(a){return a.family_no===e.auth.user.family_no}))}}))((function(e){return r.a.createElement(P.a,null,e.familyMembers.map((function(e){return r.a.createElement(P.a,{key:e._id},r.a.createElement(L.a,null,r.a.createElement(F.a,null,r.a.createElement(L.a,null,e.fullname)),r.a.createElement(F.a,null,r.a.createElement("center",null,e.relationship_with_family_head)),r.a.createElement(F.a,{xs:"3"},r.a.createElement($,{user:e}),r.a.createElement(Ce,{user:e}))),r.a.createElement("hr",null))})))})),we=t(162),xe=t.n(we),Ie=Object(s.b)((function(e){return{count:Object.values(e.user.users).length,birthdays:Object.values(e.user.users).filter((function(e){return xe()().format("DDMM")===xe()(e.date_of_birth).format("DDMM")}))}}),{getUsers:le})((function(e){var a=e.getUsers,t=e.count,l=e.birthdays;Object(n.useEffect)((function(){0===t&&a()}),[]);var c=l.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{actions:r.a.createElement(ee,{user:e})})}));return r.a.createElement(P.a,null,r.a.createElement(k,{columns:[{name:"fullname",label:"Name",options:{filter:!1,sort:!0,sortThirdClickReset:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}}],data:c}))})),ke=t(307),Pe=t(308),Me=t(429),Ne=t(430),Te=Object(s.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{logOut:function(){return{type:"LOGOUT"}}})((function(e){var a=e.loggedIn,t=e.logOut;return r.a.createElement("div",null,r.a.createElement(ke.a,{light:!0},r.a.createElement(Pe.a,{tag:o.b,to:"/",style:{textDecoration:"none"}},r.a.createElement("span",{className:"navbar-text"},r.a.createElement(Me.a,null))),a&&r.a.createElement(Pe.a,{onClick:t,style:{textDecoration:"none",cursor:"pointer"}},r.a.createElement("span",{className:"navbar-text"},r.a.createElement(Ne.a,null)))))})),De=function(){return r.a.createElement("h1",null,"Not yet built")},Be=Object(s.b)((function(e){return{username:e.auth.user.person_no.toString()}}),null)((function(e){var a=Object(n.useState)(""),t=Object(T.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(""),s=Object(T.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(""),d=Object(T.a)(m,2),p=d[0],E=d[1],f=function(){var a=Object(ne.a)(te.a.mark((function a(t){var n,r,o;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.persist(),t.preventDefault(),n={username:e.username,oldPassword:l,newPassword:i},a.next=5,fetch("/api/auth/changePassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return r=a.sent,a.next=8,r.json();case 8:o=a.sent,alert(o.msg),c(""),u(""),E("");case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),h=function(e){return 0!==e.trim().length};return r.a.createElement(P.a,null,r.a.createElement(ie.a,{onSubmit:f},r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"oldPassword"},"Old Password"),r.a.createElement(de.a,{type:"password",name:"oldPassword",placeholder:"Old Password",onChange:function(e){return c(e.target.value)},value:l,invalid:!h(l),required:!0}),r.a.createElement(fe.a,null,"Please Enter your old password")),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"newPassword"},"New Password"),r.a.createElement(de.a,{type:"password",name:"newPassword",placeholder:"New Password",onChange:function(e){return u(e.target.value)},value:i,required:!0})),r.a.createElement(ue.a,null,r.a.createElement(me.a,{for:"repeatNewPassword"},"Repeat New Password"),r.a.createElement(de.a,{type:"password",name:"repeatNewPassword",placeholder:"Repeat New Password",onChange:function(e){return E(e.target.value)},value:p,invalid:i!==p,required:!0}),r.a.createElement(fe.a,null,"Passwords don't match")),r.a.createElement("center",null,r.a.createElement(G.a,{color:"primary",type:"submit",disabled:!h(l)||i!==p},r.a.createElement("strong",null,"Submit")))))}));t(399);var Ue=function(){return console.log("You probably shouldn't be here"),r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,null),r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/",component:Ee}),r.a.createElement(j.b,{exact:!0,path:"/home",render:function(e){return r.a.createElement(oe,Object.assign({},e,{Component:se}))}}),r.a.createElement(j.b,{exact:!0,path:"/members",render:function(e){return r.a.createElement(oe,Object.assign({},e,{Component:ce}))}}),r.a.createElement(j.b,{exact:!0,path:"/birthdays",render:function(e){return r.a.createElement(oe,Object.assign({},e,{Component:Ie}))}}),r.a.createElement(j.b,{exact:!0,path:"/family",render:function(e){return r.a.createElement(oe,Object.assign({},e,{Component:Se}))}}),r.a.createElement(j.b,{exact:!0,path:"/changepassword",render:function(e){return r.a.createElement(oe,Object.assign({},e,{Component:Be}))}}),r.a.createElement(j.b,{exact:!0,path:"/workinprogress",component:De})))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:O},r.a.createElement(o.a,null,r.a.createElement(Ue,null)))),document.getElementById("root"))}},[[346,1,2]]]);
//# sourceMappingURL=main.19a1003e.chunk.js.map