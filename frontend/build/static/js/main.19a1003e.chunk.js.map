{"version":3,"sources":["redux/userRedux/userReducer.js","redux/userRedux/userActionTypes.js","redux/errorRedux/errorReducer.js","redux/errorRedux/errorActionTypes.js","redux/authRedux/authReducer.js","redux/authRedux/authActionTypes.js","redux/rootReducer.js","redux/store.js","utils/isSubSequence.js","components/Table/BaseTable.jsx","components/Table/CustomCallIcon.jsx","components/Modal/Divider.jsx","components/Modal/ModalTitle.jsx","redux/utils.js","components/ViewProfile.jsx","components/Modal/PersonModal.jsx","components/Modal/FamilyModal.jsx","components/Table/ActionButtons.jsx","redux/userRedux/userActions.js","components/Table/UsersTable.jsx","components/ProtectedRoute.jsx","components/Home.jsx","redux/authRedux/authActions.js","components/Login.jsx","resources.js","components/Modal/EditProfileModal.jsx","components/ViewFamily.jsx","components/Table/BirthdayTable.jsx","components/Navbar.jsx","components/NotYetBuilt.jsx","components/ChangePassword.jsx","App.js","index.js"],"names":["initialUserState","users","loading","userReducer","state","action","type","payload","person_no","updates","user","console","log","error","isError","msg","initialAuthState","loggedIn","jwt","authReducer","token","localStorage","setItem","removeItem","rootReducer","combineReducers","errorReducer","auth","middlewares","thunkMiddleware","enhancers","applyMiddleware","store","createStore","joinString","string","split","join","isSubSequence","small","big","toLowerCase","smallIndex","bigIndex","length","baseOptions","download","print","viewColumns","selectableRows","responsive","rowsPerPage","rowsPerPageOptions","customSearch","query","curr","BaseTable","columns","data","options","CustomCallIcon","mobile","mobile_1","mobile_2","disabled","Call","onClick","undefined","document","location","href","color","aria-label","style","pointer","margin","opacity","Divider","width","height","backgroundColor","ModalTitle","text","toUpperCase","getUserFromUserId","userId","getState","ViewProfile","email","useState","siblingCollapse","setSiblingCollapse","parentCollapse","setParentCollapse","childrenCollapse","setChildrenCollapse","getCol","title","value","Col","xs","getRow","hr","Row","getRelationshipRow","key","_id","fullname","formatMobileNumber","number","family_no","name","surname","father_or_husband_name","relationship_with_family_head","native_place","blood_group","gender","date_of_birth","marital_status","marriage_date","father_in_law_name","email_address","education","education_specialisation","stream","profession","residential_address_line_1","residential_address_state","residential_address_city","pin_code","residential_landline","office_address","office_address_state","office_address_city","office_address_pin","landline_office","relationships","Container","format","ListGroup","ListGroupItem","cursor","siblings","Collapse","isOpen","map","sibling","parents","parent","children","child","connect","ownProps","setIsOpen","toggle","Person","Modal","scrollable","ModalHeader","ModalBody","ModalFooter","Button","familyMembers","Object","values","filter","props","MenuOpen","member","ActionButtons","call","person","family","getUserSuccess","getUsers","dispatch","a","fetch","response","json","dataObj","alert","useEffect","baseFilterOptions","sort","display","filterType","multiFilterOptions","label","sortThirdClickReset","actions","Component","to","count","className","loginSuccess","login","username","password","reqData","method","headers","body","JSON","stringify","status","setUsername","setPassword","Form","FormGroup","Label","Input","onChange","e","target","required","for","preventDefault","surnames","bloodGroups","cities","states","tmpUser","updateUser","resData","push","setUser","changed","setChanged","parentInput","setParentInput","siblingInput","setSiblingInput","childInput","setChildInput","getFilteredItems","items","selectedItems","inputValue","item","indexOf","parentMultipleSelection","useMultipleSelection","initialSelectedItems","parentComboBox","useCombobox","onStateChange","selectedItem","stateChangeTypes","InputChange","InputKeyDownEnter","ItemClick","InputBlur","addSelectedItem","selectItem","itemToString","siblingMultipleSelection","siblingComboBox","childMultipleSelection","childComboBox","capitalizeFirstLetter","charAt","slice","isFieldValid","trim","persist","onSubmit","finalUser","Edit","placeholder","textTransform","invalid","FormFeedback","index","bloodGroup","checked","dateFormat","weekStartsOn","includes","match","city","getLabelProps","getSelectedItemProps","removeSelectedItem","getComboboxProps","getInputProps","getDropdownProps","preventKeyAction","getMenuProps","maxHeight","overflowY","borderTop","background","position","zIndex","listStyle","padding","highlightedIndex","getItemProps","EditProfileModal","birthdays","Moment","logOut","Navbar","light","NavLink","tag","Link","textDecoration","ExitToApp","NotYetBuilt","toString","oldPassword","setOldPassword","newPassword","setNewPassword","repeatNewPassword","setRepeatNewPassword","res","App","exact","path","component","Login","render","Home","UsersTable","BirthdayTable","ViewFamily","ChangePassword","ReactDOM","StrictMode","getElementById"],"mappings":"wQAOMA,EAAmB,CACvBC,MAAO,GACPC,SAAS,GA4CIC,EAzCK,WAAuC,IAAtCC,EAAqC,uDAA7BJ,EAAkBK,EAAW,uCACxD,OAAQA,EAAOC,MACb,ICb4B,mBDc1B,OAAO,2BACFF,GADL,IAEEF,SAAS,EACTD,MAAOI,EAAOE,UAGlB,ICrB4B,mBDsB1B,OAAO,2BACFH,GADL,IAEEF,SAAS,IAGb,ICzBuB,cDyBvB,IACUM,EAAcH,EAAOE,QAArBC,UACR,OAAO,2BACFJ,GADL,IAEEH,MAAM,2BACDG,EAAMH,OADN,kBAEFO,EAAYH,EAAOE,YAG1B,ICjCwB,eDkCtB,IADF,EACQE,EAAU,GADlB,cAEqBJ,EAAOE,SAF5B,IAEE,gCAAWG,EAAX,QAAmCD,EAAQC,EAAKF,WAAaE,GAF/D,8BAIE,OADAC,QAAQC,IAAIH,GACL,2BACFL,GADL,IAEEH,MAAM,2BACDG,EAAMH,OACNQ,KAIT,QACE,OAAOL,IE/CPJ,EAAmB,CACvBa,MAAO,KACPC,SAAS,GAwBIX,EArBK,WAAuC,IAAtCC,EAAqC,uDAA7BJ,EAAkBK,EAAW,uCACxD,OAAQA,EAAOC,MACb,ICTqB,YDUnB,OAAO,2BACFF,GADL,IAEEU,SAAS,EACTD,MAAOR,EAAOE,QAAQQ,MAG1B,ICfsB,aDgBpB,OAAO,2BACFX,GADL,IAEEU,SAAS,EACTD,MAAO,OAGX,QACE,OAAOT,IEtBPY,EAAmB,CACvBC,UAAU,EACVP,KAAM,GACNQ,IAAK,IA6BQC,EA1BK,WAAuC,IAAtCf,EAAqC,uDAA7BY,EAAkBX,EAAW,uCACxD,OAAQA,EAAOC,MACb,ICVyB,gBDUzB,MAC0BD,EAAOE,QAAvBa,EADV,EACUA,MAAOV,EADjB,EACiBA,KAEf,OADAW,aAAaC,QAAQ,cAAeF,GAC7B,2BACFhB,GADL,IAEEc,IAAKE,EACLH,UAAU,EACVP,SAGJ,ICnBkB,SDqBhB,OADAW,aAAaE,WAAW,eACjB,2BACFnB,GADL,IAEEM,KAAM,GACNQ,IAAK,GACLD,UAAU,IAGd,QACE,OAAOb,IEnBEoB,EANKC,YAAgB,CAClCf,KAAMP,EACNU,MAAOa,EACPC,KAAMR,ICHFS,EAAc,C,OAACC,GAGfC,EAEAC,IAAe,WAAf,EAAmBH,GAQVI,EAFDC,YAAYT,EAAaM,G,0BChBjCI,EAAa,SAACC,GAAD,OAAYA,EAAOC,MAAM,KAAKC,KAAK,KAevCC,EAbO,SAACC,EAAOC,GAC5BD,EAAQL,EAAWK,EAAME,eACzBD,EAAMN,EAAWM,EAAIC,eAErB,IADA,IAAIC,EAAa,EAEXC,EAAW,EACfA,EAAWH,EAAII,QAAUF,EAAaH,EAAMK,OAC5CD,IAEIJ,EAAMG,KAAgBF,EAAIG,IAAWD,IAE3C,OAAOA,IAAeH,EAAMK,QCRxBC,EAAc,CAClBC,UAAU,EACVC,OAAO,EACPC,aAAa,EACbC,eAAgB,OAChBC,WAAY,WACZC,YAAa,GACbC,mBAAoB,CAAC,GAAI,GAAI,GAAI,KACjCC,aAAc,SAACC,EAAOC,GAAR,OAAiBjB,EAAcgB,EAAOC,EAAK,MAO5CC,EALG,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,KAAyB,IAAnBC,eAAmB,MAAT,GAAS,EAErD,OADAA,EAAO,2BAAQA,GAAYd,GACpB,kBAAC,IAAD,CAAcY,QAASA,EAASE,QAASA,EAASD,KAAMA,K,kBCMlDE,EApBQ,SAAC,GAAsC,IACxDC,EADuD,IAAnCnD,KAAQoD,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,SAEtCC,GAAW,EAMf,OAJIF,EAAUD,EAASC,EACdC,EAAUF,EAASE,EACvBC,GAAW,EAGd,kBAACC,EAAA,EAAD,CACEC,QACEF,OAAWG,EAAY,kBAAOC,SAASC,SAASC,KAAlB,cAAgCT,IAEhEU,MAAM,UACNC,aAAW,cACXC,MAAO,CAAEC,QAAS,SAAUC,OAAQ,EAAGC,QAASZ,EAAW,GAAM,M,4HCJxDa,EAZC,kBACd,yBACEJ,MAAO,CACLK,MAAO,OACPC,OAAQ,MACRC,gBAAiB,UACjBL,OAAQ,oBACRC,QAAS,OCMAK,EAZI,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACpB,OACE,oCACE,kBAAC,EAAD,MACA,gCACE,4BAAKA,EAAKC,gBAEZ,kBAAC,EAAD,QCROC,EAAoB,SAACC,GAAD,OAAYrD,EAAMsD,WAAW5E,KAAKT,MAAMoF,ICyL1DE,EAlLK,SAAC,GAAc,IAqCZC,EArCA9E,EAAW,EAAXA,KAAW,EAEc+E,oBAAS,GAFvB,mBAEzBC,EAFyB,KAERC,EAFQ,OAGYF,oBAAS,GAHrB,mBAGzBG,EAHyB,KAGTC,EAHS,OAIgBJ,oBAAS,GAJzB,mBAIzBK,EAJyB,KAIPC,EAJO,KAK1BC,EAAS,SAACC,EAAOC,GAAR,OACb,oCACE,kBAACC,EAAA,EAAD,KAAMF,GACN,kBAACE,EAAA,EAAD,CAAKC,GAAG,KAAKF,KAIXG,EAAS,SAACJ,EAAOC,GAAR,IAAeI,IAAf,gEACb,oCACE,kBAACC,EAAA,EAAD,KAAMP,EAAOC,EAAOC,IACnBI,GAAM,+BAILE,EAAqB,SAACnB,GAC1B,IAAM3E,EAAO0E,EAAkBC,GAC/B,OACE,oCACE,kBAACkB,EAAA,EAAD,CAAKE,IAAK/F,EAAKgG,KACb,kBAACP,EAAA,EAAD,KAAMzF,EAAKiG,UACX,kBAACR,EAAA,EAAD,KACE,gCACE,kBAAC,EAAD,CAAazF,KAAMA,OAIzB,+BAKAkG,EAAqB,SAACC,GAAD,OAAY,uBAAGvC,KAAI,cAASuC,IAAWA,IAGhErG,EA+BEE,EA/BFF,UACAsG,EA8BEpG,EA9BFoG,UACAC,EA6BErG,EA7BFqG,KACAC,EA4BEtG,EA5BFsG,QACAC,EA2BEvG,EA3BFuG,uBACAC,EA0BExG,EA1BFwG,8BACAC,EAyBEzG,EAzBFyG,aACAC,EAwBE1G,EAxBF0G,YACAC,EAuBE3G,EAvBF2G,OACAC,EAsBE5G,EAtBF4G,cACAC,EAqBE7G,EArBF6G,eACAC,EAoBE9G,EApBF8G,cACAC,EAmBE/G,EAnBF+G,mBACA3D,EAkBEpD,EAlBFoD,SACAC,EAiBErD,EAjBFqD,SACA2D,EAgBEhH,EAhBFgH,cACAC,EAeEjH,EAfFiH,UACAC,EAcElH,EAdFkH,yBACAC,EAaEnH,EAbFmH,OACAC,EAYEpH,EAZFoH,WACAC,EAWErH,EAXFqH,2BACAC,GAUEtH,EAVFsH,0BACAC,GASEvH,EATFuH,yBACAC,GAQExH,EARFwH,SACAC,GAOEzH,EAPFyH,qBACAC,GAME1H,EANF0H,eACAC,GAKE3H,EALF2H,qBACAC,GAIE5H,EAJF4H,oBACAC,GAGE7H,EAHF6H,mBACAC,GAEE9H,EAFF8H,gBApE8B,GAsE5B9H,EADF+H,sBArE8B,OAqEd,GArEc,GAuEhC,OACE,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,CAAYxD,KAAK,uBAChBmB,EAAO,gBAAiB7F,GACxB6F,EAAO,gBAAiBS,GAEzB,kBAAC,EAAD,CAAY5B,KAAK,YAEhBmB,EAAO,aAAcU,GACrBV,EAAO,cAAeY,GACtBZ,EAAO,YAAaW,GACpBX,EAAO,WAAYa,GACnBb,EAAO,SAAUc,GAAc,GAEhC,kBAAC,EAAD,MAECd,EAAO,cAAee,GACtBf,EAAO,SAAUgB,GACjBhB,EAAO,gBAAiB,kBAAC,IAAD,CAAQsC,OAAO,cAAcrB,IACtD,kBAACf,EAAA,EAAD,KACGP,EAAO,iBAAkBuB,GACzBC,EAAgB,kBAAC,IAAD,CAAQmB,OAAO,cAAcnB,GAA0B,MAE1E,6BACCnB,EAAO,gBAAiBoB,GAAoB,GAE7C,kBAAC,EAAD,CAAYvC,KAAK,kBAChBpB,EAAWuC,EAAO,YAAaO,EAAmB9C,IAAa,KAC/DC,EAAWsC,EAAO,YAAaO,EAAmB7C,IAAa,KAC/D2D,EAAgBrB,EAAO,SA/DPb,EA+D4BkC,EA/DlB,uBAAGpD,KAAI,iBAAYkB,IAAUA,KA+DO,KAE/D,kBAAC,EAAD,CAAYN,KAAK,cAChBmB,EAAO,YAAasB,GACpBtB,EAAO,iBAAkBuB,GACzBvB,EAAO,SAAUwB,GACjBxB,EAAO,aAAcyB,GAAY,GAElC,kBAAC,EAAD,CAAY5C,KAAK,cAChBmB,EAAO,UAAW0B,GAClB1B,EAAO,OAAQ4B,IACf5B,EAAO,QAAS2B,IAChB3B,EAAO,WAAY6B,IACnBC,GACG9B,EAAO,WAAYO,EAAmBuB,KACtC,KAEJ,kBAAC,EAAD,CAAYjD,KAAK,WAChBmB,EAAO,UAAW+B,IAClB/B,EAAO,OAAQiC,IACfjC,EAAO,QAASgC,IAChBhC,EAAO,WAAYkC,IACnBC,GACGnC,EAAO,WAAYO,EAAmB4B,KACtC,KAEJ,kBAAC,EAAD,CAAYtD,KAAK,kBACjB,kBAAC0D,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CACEpE,MAAO,CAAEqE,OAAQ,WACjBzI,QAAM,EACN6D,QAAS,kBAAMyB,GAAoBD,IACnC1B,WAAYyE,GAAcM,UAAYN,GAAcM,SAASnG,OAAS,IAJxE,YAQA,kBAACoG,EAAA,EAAD,CAAUC,OAAQvD,GACf+C,GAAcM,SACb,kBAACL,EAAA,EAAD,KACGD,GAAcM,SAASG,KAAI,SAACC,GAAD,OAAa3C,EAAmB2C,OAE5D,MAEN,kBAACN,EAAA,EAAD,CACEpE,MAAO,CAAEqE,OAAQ,WACjB9E,WAAYyE,GAAcW,SAAWX,GAAcW,QAAQxG,OAAS,GACpEsB,QAAS,kBAAM2B,GAAmBD,IAClCvF,QAAM,GAJR,WAQA,kBAAC2I,EAAA,EAAD,CAAUC,OAAQrD,GACf6C,GAAcW,QACb,kBAACV,EAAA,EAAD,KACGD,GAAcW,QAAQF,KAAI,SAACG,GAAD,OAAY7C,EAAmB6C,OAE1D,MAEN,kBAACR,EAAA,EAAD,CACEpE,MAAO,CAAEqE,OAAQ,WACjB9E,WAAYyE,GAAca,UAAYb,GAAca,SAAS1G,OAAS,GACtEsB,QAAS,kBAAM6B,GAAqBD,IACpCzF,QAAM,GAJR,YAQA,kBAAC2I,EAAA,EAAD,CAAUC,OAAQnD,GACf2C,GAAca,SACb,kBAACZ,EAAA,EAAD,KACGD,GAAca,SAASJ,KAAI,SAACK,GAAD,OAAW/C,EAAmB+C,OAE1D,SC5ICC,eAHS,SAACpJ,EAAOqJ,GAAR,OACtBA,EAAS/I,KAAO,GAAK,CAAEA,KAAMN,EAAMM,KAAKT,MAAMwJ,EAASpE,WAEjB,KAAzBmE,EAlCK,SAAC,GAAc,IAAZ9I,EAAW,EAAXA,KACbiG,EAAajG,EAAbiG,SADwB,EAEJlB,oBAAS,GAFL,mBAEzBwD,EAFyB,KAEjBS,EAFiB,KAI1BC,EAAS,WACbD,GAAWT,IAEb,OACE,oCACE,kBAACW,EAAA,EAAD,CACErF,MAAM,UACNC,aAAW,cACXC,MAAO,CAAEE,OAAQ,EAAGmE,OAAQ,WAC5B5E,QAASyF,IAGX,kBAACE,EAAA,EAAD,CAAOZ,OAAQA,EAAQU,OAAQA,EAAQG,YAAY,GACjD,kBAACC,EAAA,EAAD,CAAaJ,OAAQA,GAAShD,GAC9B,kBAACqD,EAAA,EAAD,KACE,kBAAC,EAAD,CAAatJ,KAAMA,KAErB,kBAACuJ,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAQ3F,MAAM,SAASL,QAASyF,GAAhC,e,SC0CKH,eANS,SAACpJ,EAAOqJ,GAAR,MAAsB,CAC5CU,cAAeC,OAAOC,OAAOjK,EAAMM,KAAKT,OAAOqK,QAC7C,SAAC5J,GAAD,OAAUA,EAAKoG,YAAc2C,EAAS3C,gBAI3B0C,EApDK,SAACe,GAAW,IAAD,EACD9E,oBAAS,GADR,mBACtBwD,EADsB,KACdS,EADc,KAGvBC,EAAS,WACbD,GAAWT,IAGb,OACE,oCACE,kBAACuB,EAAA,EAAD,CACEjG,MAAM,UACNC,aAAW,cACXC,MAAO,CAAEE,OAAQ,EAAGmE,OAAQ,WAC5B5E,QAASyF,IAEX,kBAACE,EAAA,EAAD,CAAOZ,OAAQA,EAAQU,OAAQA,EAAQG,YAAY,GACjD,kBAACC,EAAA,EAAD,CAAaJ,OAAQA,GAArB,kBACA,kBAACK,EAAA,EAAD,KACGO,EAAMJ,cAAcjB,KAAI,SAACuB,GAAD,OACvB,kBAAC/B,EAAA,EAAD,CAAWjC,IAAKgE,EAAO/D,KACrB,kBAACH,EAAA,EAAD,KACE,kBAACJ,EAAA,EAAD,KACE,kBAACI,EAAA,EAAD,KAAMkE,EAAO9D,WAEf,kBAACR,EAAA,EAAD,KACE,gCAASsE,EAAOvD,gCAElB,kBAACf,EAAA,EAAD,CAAKC,GAAG,KACN,kBAAC,EAAD,CAAgB1F,KAAM+J,IACtB,kBAAC,EAAD,CAAa/J,KAAM+J,MAGvB,kCAIN,kBAACR,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAQ3F,MAAM,SAASL,QAASyF,GAAhC,eCzCKe,GARO,SAAC,GAAD,QAAGC,YAAH,aAAgBC,cAAhB,aAA+BC,cAA/B,SAA8CnK,EAA9C,EAA8CA,KAA9C,OACpB,oCACGiK,EAAO,kBAAC,EAAD,CAAUjK,KAAMA,IAAW,KAClCkK,EAAS,kBAAC,EAAD,CAAalK,KAAMA,IAAW,KACvCmK,EAAS,kBAAC,EAAD,CAAa/D,UAAWpG,EAAKoG,YAAgB,O,6BCF9CgE,GAAiB,SAACpH,GAAD,MAAW,CACvCpD,KjBR8B,mBiBS9BC,QAASmD,IAGEqH,GAAW,2DAAM,WAAOC,GAAP,0BAAAC,EAAA,6DAC5BD,EAVmC,CACnC1K,KjBL8B,qBiBaF,kBAGH4K,MAAM,eAHH,cAGpBC,EAHoB,gBAIPA,EAASC,OAJF,OAIpB1H,EAJoB,OAKpB2H,EAAU,GALU,cAML3H,GANK,IAM1B,2BAAWkH,EAAX,QAA2BS,EAAQT,EAAOpK,WAAaoK,EAN7B,8BAQ1BI,EAASF,GAAeO,IARE,kDAU1BC,MAAM,KAAIvK,KAVgB,0DAAN,uDCgFTyI,gBALS,SAACpJ,GAAD,MAAY,CAClCH,MAAOG,EAAMM,KAAKT,MAClBC,QAASE,EAAMM,KAAKR,WAGkB,CAAE6K,aAA3BvB,EAnFI,SAAC,GAAyB,IAAvBuB,EAAsB,EAAtBA,SAAU9K,EAAY,EAAZA,MAC9BsL,qBAAU,WACa,IAAjBtL,EAAM2C,QAAcmI,MAEvB,IACH,IAAMS,EAAoB,CACxBlB,QAAQ,EACRmB,MAAM,EACNC,SAAS,EACTC,WAAY,YAERC,EAAkB,2BACnBJ,GADmB,IAEtBG,WAAY,gBAERlI,EAAU,CACd,CACEsD,KAAM,WACN8E,MAAO,OACPlI,QAAS,CACP2G,QAAQ,EACRmB,MAAM,EACNK,qBAAqB,IAGzB,CACE/E,KAAM,UACN8E,MAAO,UACPlI,QAAS,CACP2G,QAAQ,EACRmB,MAAM,EACN3I,UAAU,IAGd,CAAEiE,KAAM,SAAU8E,MAAO,SAAUlI,QAAS6H,GAC5C,CAAEzE,KAAM,UAAW8E,MAAO,UAAWlI,QAASiI,GAC9C,CACE7E,KAAM,gCACN8E,MAAO,gBACPlI,QAASiI,GAEX,CACE7E,KAAM,iBACN8E,MAAO,iBACPlI,QAASiI,GAEX,CACE7E,KAAM,cACN8E,MAAO,cACPlI,QAASiI,GAEX,CACE7E,KAAM,eACN8E,MAAO,eACPlI,QAASiI,GAEX,CACE7E,KAAM,2BACN8E,MAAO,OACPlI,QAASiI,GAEX,CACE7E,KAAM,4BACN8E,MAAO,QACPlI,QAASiI,IAGPlI,EAAO0G,OAAOC,OAAOpK,GAAOiJ,KAAI,SAACxI,GAAD,mBAAC,eAClCA,GADiC,IAEpCqL,QAAS,kBAAC,GAAD,CAAerL,KAAMA,SAEhC,OACE,kBAACgI,EAAA,EAAD,KACE,kBAAC,EAAD,CAAWjF,QAASA,EAASC,KAAMA,QCtE1B8F,gBAJS,SAACpJ,GAAD,MAAY,CAClCa,SAAUb,EAAMuB,KAAKV,YAGiB,KAAzBuI,EATQ,SAACe,GAAW,IACzByB,EAAwBzB,EAAxByB,UAAW/K,EAAasJ,EAAbtJ,SACnB,OAAO,oCAAGA,EAAW,kBAAC+K,EAAD,MAAgB,kBAAC,IAAD,CAAUC,GAAG,UCsDrCzC,gBAHS,SAACpJ,GAAD,MAAY,CAClC8L,MAAO9B,OAAOC,OAAOjK,EAAMM,KAAKT,OAAO2C,UAED,CAAEmI,aAA3BvB,EAtDF,SAACe,GAKZ,OAJAgB,qBAAU,WACY,IAAhBhB,EAAM2B,OAAa3B,EAAMQ,aAE5B,IAED,kBAACrC,EAAA,EAAD,KACE,kBAACnC,EAAA,EAAD,CAAK4F,UAAU,QACb,kBAAChG,EAAA,EAAD,KACE,kBAAC,IAAD,CAAM8F,GAAG,YACP,yBAAKE,UAAU,eACb,gCACE,oDAKR,kBAAChG,EAAA,EAAD,KACE,kBAAC,IAAD,CAAM8F,GAAG,cACP,yBAAKE,UAAU,eACb,gCACE,kDAMV,kBAAC5F,EAAA,EAAD,KACE,kBAACJ,EAAA,EAAD,KACE,kBAAC,IAAD,CAAM8F,GAAG,WACP,yBAAKE,UAAU,eACb,gCACE,0DAKR,kBAAChG,EAAA,EAAD,KACE,kBAAC,IAAD,CAAM8F,GAAG,mBACP,yBAAKE,UAAU,eACb,gCACE,4D,wCC3CHC,GAAe,SAAC1I,GAAD,MAAW,CACrCpD,KjBL2B,gBiBM3BC,QAASmD,IC6DI8F,gBAJS,SAACpJ,GAAD,MAAY,CAClCa,SAAUb,EAAMuB,KAAKV,YAGiB,CAAEoL,MDtDrB,SAACC,EAAUC,GAAX,gDAAwB,WAAOvB,GAAP,oBAAAC,EAAA,6DACrCuB,EAAU,CAAEF,WAAUC,YADe,kBAIlBrB,MAAM,kBAAmB,CAC9CuB,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUL,KATkB,UAWjB,OAPlBrB,EAJmC,QAW5B2B,OAX4B,gCAWA3B,EAASC,OAXT,4CAYtBD,EAASC,OAZa,QAYnC1H,EAZmC,OAczCsH,EAASoB,GAAa1I,IAdmB,kDAgBzC4H,MAAM,KAAIvK,KAhB+B,0DAAxB,wDCsDNyI,EA5DD,SAAC,GAAyB,IAAvB6C,EAAsB,EAAtBA,MAAOpL,EAAe,EAAfA,SAAe,EACLwE,mBAAS,IADJ,mBAC9B6G,EAD8B,KACpBS,EADoB,OAELtH,mBAAS,IAFJ,mBAE9B8G,EAF8B,KAEpBS,EAFoB,KAQrC,OACE,oCACG/L,EACC,kBAAC,IAAD,CAAUgL,GAAG,UAEb,kBAACvD,EAAA,EAAD,CAAWyD,UAAU,OACnB,gCACE,wCAEF,kBAACc,GAAA,EAAD,CAAMd,UAAU,QACd,kBAAChG,EAAA,EAAD,KACE,kBAAC+G,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,iBACA,kBAACC,GAAA,EAAD,CACE9M,KAAK,OACLyG,KAAK,WACLb,MAAOoG,EACPe,SAAU,SAACC,GAAD,OAAOP,EAAYO,EAAEC,OAAOrH,QACtCsH,UAAQ,MAId,kBAACrH,EAAA,EAAD,KACE,kBAAC+G,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAOM,IAAI,mBAAX,YACA,kBAACL,GAAA,EAAD,CACE9M,KAAK,WACLyG,KAAK,WACLb,MAAOqG,EACPc,SAAU,SAACC,GAAD,OAAON,EAAYM,EAAEC,OAAOrH,QACtCsH,UAAQ,MAId,kBAACrH,EAAA,EAAD,KACE,gCACE,kBAAC+D,EAAA,EAAD,CAAQ5J,KAAK,SAASiE,MAAM,UAAUL,QAzC/B,SAACoJ,GACpBA,EAAEI,iBACFrB,EAAMC,EAAUC,GAChBS,EAAY,MAsCA,iB,kDCnDHW,GAAW,CACtB,OACA,SACA,UACA,WACA,UACA,SACA,SACA,QACA,UACA,QACA,YACA,QACA,SACA,SACA,UACA,UACA,SACA,UACA,OACA,QACA,QACA,UACA,SACA,QACA,WAGWC,GAAc,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,MAAO,OAEjEC,GAAS,CACpB,SACA,YACA,SACA,QACA,QACA,UACA,QACA,gBACA,UACA,UACA,YACA,SACA,cACA,UACA,WACA,OACA,QACA,aACA,UACA,UACA,UACA,WACA,YACA,QACA,aACA,cACA,UACA,UACA,UACA,QACA,WACA,SACA,QACA,SACA,SACA,WACA,YACA,QACA,UACA,YACA,WACA,SACA,UACA,WACA,SACA,iBACA,UACA,WACA,WACA,SACA,YACA,SACA,cACA,UACA,UACA,QACA,cACA,cACA,SACA,SACA,SACA,aACA,YACA,SACA,cACA,SACA,QACA,aACA,YACA,OACA,SACA,MACA,OACA,UACA,SACA,aACA,SACA,SACA,YACA,WACA,SACA,WACA,aACA,QACA,cACA,OACA,QACA,SACA,UACA,SACA,uBACA,iBACA,2BACA,OACA,UACA,WACA,SACA,cACA,QACA,QACA,SAGWC,GAAS,CACpB,MACA,UACA,gBACA,YACA,iBACA,cACA,SACA,YACA,cACA,SC8sBatE,gBA5BS,SAACpJ,EAAOqJ,GAyB9B,MAAO,CAAExJ,MAxBKmK,OAAOC,OAAOjK,EAAMM,KAAKT,OAAOiJ,KAAI,SAACxI,GAAD,MAAW,CAC3DF,UAAWE,EAAKF,UAChBmG,SAAUjG,EAAKiG,aAsBDjG,KApBN,2BACL+I,EAAS/I,MADJ,IAER+H,cAAc,2BACTgB,EAAS/I,KAAK+H,eADN,IAEXM,SAAUU,EAAS/I,KAAK+H,cAAcM,SAASG,KAAI,SAACC,GAClD,IAAM4E,EAAU3I,EAAkB+D,GAClC,MAAO,CAAE3I,UAAWuN,EAAQvN,UAAWmG,SAAUoH,EAAQpH,aAE3DyC,QAASK,EAAS/I,KAAK+H,cAAcW,QAAQF,KAAI,SAACG,GAChD,IAAM0E,EAAU3I,EAAkBiE,GAClC,MAAO,CAAE7I,UAAWuN,EAAQvN,UAAWmG,SAAUoH,EAAQpH,aAG3D2C,SAAUG,EAAS/I,KAAK+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","file":"static/js/main.19a1003e.chunk.js","sourcesContent":["import {\n  GET_USER_SUCCESS,\n  GET_USER_REQUEST,\n  UPDATE_USER,\n  UPDATE_USERS,\n} from \"./userActionTypes\";\n\nconst initialUserState = {\n  users: {},\n  loading: false,\n};\n\nconst userReducer = (state = initialUserState, action) => {\n  switch (action.type) {\n    case GET_USER_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        users: action.payload,\n      };\n\n    case GET_USER_REQUEST:\n      return {\n        ...state,\n        loading: true,\n      };\n\n    case UPDATE_USER:\n      const { person_no } = action.payload;\n      return {\n        ...state,\n        users: {\n          ...state.users,\n          [person_no]: action.payload,\n        },\n      };\n    case UPDATE_USERS:\n      const updates = {};\n      for (const user of action.payload) updates[user.person_no] = user;\n      console.log(updates);\n      return {\n        ...state,\n        users: {\n          ...state.users,\n          ...updates,\n        },\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","export const GET_USER_REQUEST = \"GET_USER_REQUEST\";\nexport const GET_USER_SUCCESS = \"GET_USER_SUCCESS\";\nexport const UPDATE_USER = \"UPDATE_USER\";\nexport const UPDATE_USERS = \"UPDATE_USERS\";\n","import { SET_ERROR, HIDE_ERROR } from \"./errorActionTypes\";\n\nconst initialUserState = {\n  error: null,\n  isError: false,\n};\n\nconst userReducer = (state = initialUserState, action) => {\n  switch (action.type) {\n    case SET_ERROR:\n      return {\n        ...state,\n        isError: true,\n        error: action.payload.msg,\n      };\n\n    case HIDE_ERROR:\n      return {\n        ...state,\n        isError: false,\n        error: null,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","export const SET_ERROR = \"SET_ERROR\";\nexport const HIDE_ERROR = \"HIDE_ERROR\";\n","import { LOGIN_SUCCESS, LOGOUT } from \"./authActionTypes\";\n\nconst initialAuthState = {\n  loggedIn: false,\n  user: {},\n  jwt: \"\",\n};\n\nconst authReducer = (state = initialAuthState, action) => {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      const { token, user } = action.payload;\n      localStorage.setItem(\"kmmms-token\", token);\n      return {\n        ...state,\n        jwt: token,\n        loggedIn: true,\n        user,\n      };\n\n    case LOGOUT:\n      localStorage.removeItem(\"kmmms-token\");\n      return {\n        ...state,\n        user: {},\n        jwt: \"\",\n        loggedIn: false,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","export const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGOUT = \"LOGOUT\";\n","import { combineReducers } from \"redux\";\nimport userReducer from \"./userRedux/userReducer\";\nimport errorReducer from \"./errorRedux/errorReducer\";\nimport authReducer from \"./authRedux/authReducer\";\n\nconst rootReducer = combineReducers({\n  user: userReducer,\n  error: errorReducer,\n  auth: authReducer,\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport rootReducer from \"./rootReducer\";\n// import { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunkMiddleware from \"redux-thunk\";\n\nconst middlewares = [thunkMiddleware];\n// const composeEnhancers = composeWithDevTools();\n\nconst enhancers =\n  process.env.NODE_ENV === \"production\"\n    ? applyMiddleware(...middlewares)\n    : compose(\n        applyMiddleware(...middlewares),\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n      );\n\nconst store = createStore(rootReducer, enhancers);\n\nexport default store;\n","const joinString = (string) => string.split(\" \").join(\"\");\n\nconst isSubSequence = (small, big) => {\n  small = joinString(small.toLowerCase());\n  big = joinString(big.toLowerCase());\n  let smallIndex = 0;\n  for (\n    let bigIndex = 0;\n    bigIndex < big.length && smallIndex < small.length;\n    bigIndex++\n  ) {\n    if (small[smallIndex] === big[bigIndex]) smallIndex++;\n  }\n  return smallIndex === small.length;\n};\nexport default isSubSequence;\n","import React from \"react\";\nimport MUIDataTable from \"mui-datatables\";\n\nimport isSubSequence from \"../../utils/isSubSequence\";\n\nconst baseOptions = {\n  download: false,\n  print: false,\n  viewColumns: false,\n  selectableRows: \"none\",\n  responsive: \"standard\",\n  rowsPerPage: 50,\n  rowsPerPageOptions: [10, 20, 50, 100],\n  customSearch: (query, curr) => isSubSequence(query, curr[0]),\n};\nconst BaseTable = ({ columns, data, options = {} }) => {\n  options = { ...options, ...baseOptions };\n  return <MUIDataTable columns={columns} options={options} data={data} />;\n};\n\nexport default BaseTable;\n","import React from \"react\";\nimport { Call as CallIcon } from \"@material-ui/icons\";\n\nconst CustomCallIcon = ({ user: { mobile_1, mobile_2 } }) => {\n  let mobile;\n  let disabled = false;\n\n  if (mobile_1) mobile = mobile_1;\n  else if (mobile_2) mobile = mobile_2;\n  else disabled = true;\n\n  return (\n    <CallIcon\n      onClick={\n        disabled ? undefined : () => (document.location.href = `tel:${mobile}`)\n      }\n      color=\"primary\"\n      aria-label=\"Call person\"\n      style={{ pointer: \"cursor\", margin: 5, opacity: disabled ? 0.5 : 1 }}\n    />\n  );\n};\n\nexport default CustomCallIcon;\n","import React from \"react\";\n\nconst Divider = () => (\n  <div\n    style={{\n      width: \"100%\",\n      height: \"5px\",\n      backgroundColor: \"#007BFF\",\n      margin: \"10px 0px 10px 0px\",\n      opacity: 0.5,\n    }}\n  />\n);\n\nexport default Divider;\n","import React from \"react\";\nimport Divider from \"./Divider\";\n\nconst ModalTitle = ({ text }) => {\n  return (\n    <>\n      <Divider />\n      <center>\n        <h4>{text.toUpperCase()}</h4>\n      </center>\n      <Divider />\n    </>\n  );\n};\n\nexport default ModalTitle;\n","import store from \"./store\";\n\nexport const getUserFromUserId = (userId) => store.getState().user.users[userId];\n","import React, { useState } from \"react\";\nimport { Container, Row, Col, ListGroup, ListGroupItem, Collapse } from \"reactstrap\";\nimport Moment from \"react-moment\";\n\nimport ModalTitle from \"./Modal/ModalTitle\";\nimport Divider from \"./Modal/Divider\";\nimport PersonModal from \"./Modal/PersonModal\";\nimport { getUserFromUserId } from \"../redux/utils\";\n\nconst ViewProfile = ({ user }) => {\n  // eslint-disable-next-line\n  const [siblingCollapse, setSiblingCollapse] = useState(false);\n  const [parentCollapse, setParentCollapse] = useState(false);\n  const [childrenCollapse, setChildrenCollapse] = useState(false);\n  const getCol = (title, value) => (\n    <>\n      <Col>{title}</Col>\n      <Col xs=\"6\">{value}</Col>\n    </>\n  );\n\n  const getRow = (title, value, hr = true) => (\n    <>\n      <Row>{getCol(title, value)}</Row>\n      {hr && <hr />}\n    </>\n  );\n\n  const getRelationshipRow = (userId) => {\n    const user = getUserFromUserId(userId);\n    return (\n      <>\n        <Row key={user._id}>\n          <Col>{user.fullname}</Col>\n          <Col>\n            <center>\n              <PersonModal user={user} />\n            </center>\n          </Col>\n        </Row>\n        <hr />\n      </>\n    );\n  };\n\n  const formatMobileNumber = (number) => <a href={`tel:${number}`}>{number}</a>;\n  const formatEmail = (email) => <a href={`mailto:${email}`}>{email}</a>;\n  const {\n    person_no,\n    family_no,\n    name,\n    surname,\n    father_or_husband_name,\n    relationship_with_family_head,\n    native_place,\n    blood_group,\n    gender,\n    date_of_birth,\n    marital_status,\n    marriage_date,\n    father_in_law_name,\n    mobile_1,\n    mobile_2,\n    email_address,\n    education,\n    education_specialisation,\n    stream,\n    profession,\n    residential_address_line_1,\n    residential_address_state,\n    residential_address_city,\n    pin_code,\n    residential_landline,\n    office_address,\n    office_address_state,\n    office_address_city,\n    office_address_pin,\n    landline_office,\n    relationships = {},\n  } = user;\n  return (\n    <Container>\n      <ModalTitle text=\"System Information\" />\n      {getRow(\"Person number\", person_no)}\n      {getRow(\"Family number\", family_no)}\n\n      <ModalTitle text=\"Profile\" />\n\n      {getRow(\"First Name\", name)}\n      {getRow(\"Middle Name\", father_or_husband_name)}\n      {getRow(\"Last Name\", surname)}\n      {getRow(\"Relation\", relationship_with_family_head)}\n      {getRow(\"Native\", native_place, false)}\n\n      <Divider />\n\n      {getRow(\"Blood Group\", blood_group)}\n      {getRow(\"Gender\", gender)}\n      {getRow(\"Date of Birth\", <Moment format=\"DD/MM/YYYY\">{date_of_birth}</Moment>)}\n      <Row>\n        {getCol(\"Marital Status\", marital_status)}\n        {marriage_date ? <Moment format=\"DD/MM/YYYY\">{marriage_date}</Moment> : null}\n      </Row>\n      <hr />\n      {getRow(\"Father in Law\", father_in_law_name, false)}\n\n      <ModalTitle text=\"Communication\" />\n      {mobile_1 ? getRow(\"Mobile #1\", formatMobileNumber(mobile_1)) : null}\n      {mobile_2 ? getRow(\"Mobile #2\", formatMobileNumber(mobile_2)) : null}\n      {email_address ? getRow(\"Email\", formatEmail(email_address)) : null}\n\n      <ModalTitle text=\"Education\" />\n      {getRow(\"Education\", education)}\n      {getRow(\"Specialisation\", education_specialisation)}\n      {getRow(\"Stream\", stream)}\n      {getRow(\"Profession\", profession, false)}\n\n      <ModalTitle text=\"Residence\" />\n      {getRow(\"Address\", residential_address_line_1)}\n      {getRow(\"City\", residential_address_city)}\n      {getRow(\"State\", residential_address_state)}\n      {getRow(\"Pin Code\", pin_code)}\n      {residential_landline\n        ? getRow(\"Landline\", formatMobileNumber(residential_landline))\n        : null}\n\n      <ModalTitle text=\"Office\" />\n      {getRow(\"Address\", office_address)}\n      {getRow(\"City\", office_address_city)}\n      {getRow(\"State\", office_address_state)}\n      {getRow(\"Pin Code\", office_address_pin)}\n      {landline_office\n        ? getRow(\"Landline\", formatMobileNumber(landline_office))\n        : null}\n\n      <ModalTitle text=\"Relationships\" />\n      <ListGroup>\n        <ListGroupItem\n          style={{ cursor: \"pointer\" }}\n          action\n          onClick={() => setSiblingCollapse(!siblingCollapse)}\n          disabled={!(relationships.siblings && relationships.siblings.length > 0)}\n        >\n          Siblings\n        </ListGroupItem>\n        <Collapse isOpen={siblingCollapse}>\n          {relationships.siblings ? (\n            <Container>\n              {relationships.siblings.map((sibling) => getRelationshipRow(sibling))}\n            </Container>\n          ) : null}\n        </Collapse>\n        <ListGroupItem\n          style={{ cursor: \"pointer\" }}\n          disabled={!(relationships.parents && relationships.parents.length > 0)}\n          onClick={() => setParentCollapse(!parentCollapse)}\n          action\n        >\n          Parents\n        </ListGroupItem>\n        <Collapse isOpen={parentCollapse}>\n          {relationships.parents ? (\n            <Container>\n              {relationships.parents.map((parent) => getRelationshipRow(parent))}\n            </Container>\n          ) : null}\n        </Collapse>\n        <ListGroupItem\n          style={{ cursor: \"pointer\" }}\n          disabled={!(relationships.children && relationships.children.length > 0)}\n          onClick={() => setChildrenCollapse(!childrenCollapse)}\n          action\n        >\n          Children\n        </ListGroupItem>\n        <Collapse isOpen={childrenCollapse}>\n          {relationships.children ? (\n            <Container>\n              {relationships.children.map((child) => getRelationshipRow(child))}\n            </Container>\n          ) : null}\n        </Collapse>\n      </ListGroup>\n    </Container>\n  );\n};\n\nexport default ViewProfile;\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport { Person as PersonIcon } from \"@material-ui/icons\";\nimport ViewProfile from \"../ViewProfile\";\n\nconst PersonModal = ({ user }) => {\n  const { fullname } = user;\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggle = () => {\n    setIsOpen(!isOpen);\n  };\n  return (\n    <>\n      <PersonIcon\n        color=\"primary\"\n        aria-label=\"View person\"\n        style={{ margin: 5, cursor: \"pointer\" }}\n        onClick={toggle}\n      />\n\n      <Modal isOpen={isOpen} toggle={toggle} scrollable={true}>\n        <ModalHeader toggle={toggle}>{fullname}</ModalHeader>\n        <ModalBody>\n          <ViewProfile user={user} />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"danger\" onClick={toggle}>\n            Close\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n};\n\nconst mapStateToProps = (state, ownProps) =>\n  ownProps.user ? {} : { user: state.user.users[ownProps.userId] };\n\nexport default connect(mapStateToProps, null)(PersonModal);\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Container,\n  Row,\n  Col,\n} from \"reactstrap\";\nimport { MenuOpen as MenuOpenIcon } from \"@material-ui/icons\";\n\nimport CustomCallIcon from \"../Table/CustomCallIcon\";\nimport PersonModal from \"./PersonModal\";\n\nconst FamilyModal = (props) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggle = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <>\n      <MenuOpenIcon\n        color=\"primary\"\n        aria-label=\"View Family\"\n        style={{ margin: 5, cursor: \"pointer\" }}\n        onClick={toggle}\n      />\n      <Modal isOpen={isOpen} toggle={toggle} scrollable={true}>\n        <ModalHeader toggle={toggle}>Family Members</ModalHeader>\n        <ModalBody>\n          {props.familyMembers.map((member) => (\n            <Container key={member._id}>\n              <Row>\n                <Col>\n                  <Row>{member.fullname}</Row>\n                </Col>\n                <Col>\n                  <center>{member.relationship_with_family_head}</center>\n                </Col>\n                <Col xs=\"3\">\n                  <CustomCallIcon user={member} />\n                  <PersonModal user={member} />\n                </Col>\n              </Row>\n              <hr />\n            </Container>\n          ))}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"danger\" onClick={toggle}>\n            Close\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  familyMembers: Object.values(state.user.users).filter(\n    (user) => user.family_no === ownProps.family_no\n  ),\n});\n\nexport default connect(mapStateToProps)(FamilyModal);\n","import React from \"react\";\n\nimport CallIcon from \"./CustomCallIcon\";\nimport PersonModal from \"../Modal/PersonModal\";\nimport FamilyModal from \"../Modal/FamilyModal\";\n\nconst ActionButtons = ({ call = true, person = true, family = true, user }) => (\n  <>\n    {call ? <CallIcon user={user} /> : null}\n    {person ? <PersonModal user={user} /> : null}\n    {family ? <FamilyModal family_no={user.family_no} /> : null}\n  </>\n);\n\nexport default ActionButtons;\n","import { GET_USER_SUCCESS, GET_USER_REQUEST, UPDATE_USERS } from \"./userActionTypes\";\n// eslint-disable-next-line\nimport { setError } from \"../errorRedux/errorActions\";\n\nexport const getUserRequest = () => ({\n  type: GET_USER_REQUEST,\n});\n\nexport const getUserSuccess = (data) => ({\n  type: GET_USER_SUCCESS,\n  payload: data,\n});\n\nexport const getUsers = () => async (dispatch) => {\n  dispatch(getUserRequest());\n  try {\n    const response = await fetch(\"/api/users/\");\n    const data = await response.json();\n    const dataObj = {};\n    for (const person of data) dataObj[person.person_no] = person;\n\n    dispatch(getUserSuccess(dataObj));\n  } catch (err) {\n    alert(err.msg);\n    // dispatch(setError(err));\n  }\n};\n\nexport const updateUser = (user) => async (dispatch) => {\n  const reqData = { user };\n  console.log(reqData);\n  try {\n    const response = await fetch(\"/api/users\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(reqData),\n    });\n    const resData = await response.json();\n    if (response.status !== 200) throw resData;\n    resData.push(user);\n    dispatch({ type: UPDATE_USERS, payload: resData });\n    alert(\"Done\");\n  } catch (err) {\n    console.log(err);\n    alert(err.msg);\n    // dispatch(setError(err));\n  }\n};\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport BaseTable from \"./BaseTable\";\n\nimport { Container } from \"reactstrap\";\n\nimport ActionButtons from \"./ActionButtons\";\nimport { getUsers } from \"../../redux/userRedux/userActions\";\n\nconst UsersTable = ({ getUsers, users }) => {\n  useEffect(() => {\n    if (users.length === 0) getUsers();\n    // eslint-disable-next-line\n  }, []);\n  const baseFilterOptions = {\n    filter: true,\n    sort: false,\n    display: false,\n    filterType: \"dropdown\",\n  };\n  const multiFilterOptions = {\n    ...baseFilterOptions,\n    filterType: \"multiselect\",\n  };\n  const columns = [\n    {\n      name: \"fullname\",\n      label: \"Name\",\n      options: {\n        filter: false,\n        sort: true,\n        sortThirdClickReset: true,\n      },\n    },\n    {\n      name: \"actions\",\n      label: \"Actions\",\n      options: {\n        filter: false,\n        sort: false,\n        download: false,\n      },\n    },\n    { name: \"gender\", label: \"Gender\", options: baseFilterOptions },\n    { name: \"surname\", label: \"Surname\", options: multiFilterOptions },\n    {\n      name: \"relationship_with_family_head\",\n      label: \"Family Status\",\n      options: multiFilterOptions,\n    },\n    {\n      name: \"marital_status\",\n      label: \"Marital Status\",\n      options: multiFilterOptions,\n    },\n    {\n      name: \"blood_group\",\n      label: \"Blood Group\",\n      options: multiFilterOptions,\n    },\n    {\n      name: \"native_place\",\n      label: \"Native Place\",\n      options: multiFilterOptions,\n    },\n    {\n      name: \"residential_address_city\",\n      label: \"City\",\n      options: multiFilterOptions,\n    },\n    {\n      name: \"residential_address_state\",\n      label: \"State\",\n      options: multiFilterOptions,\n    },\n  ];\n  const data = Object.values(users).map((user) => ({\n    ...user,\n    actions: <ActionButtons user={user} />,\n  }));\n  return (\n    <Container>\n      <BaseTable columns={columns} data={data} />\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  users: state.user.users,\n  loading: state.user.loading,\n});\n\nexport default connect(mapStateToProps, { getUsers })(UsersTable);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = (props) => {\n  const { Component, loggedIn } = props;\n  return <>{loggedIn ? <Component /> : <Redirect to=\"/\" />}</>;\n};\n\nconst mapStateToProps = (state) => ({\n  loggedIn: state.auth.loggedIn,\n});\n\nexport default connect(mapStateToProps, null)(ProtectedRoute);\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getUsers } from \"../redux/userRedux/userActions\";\nimport { Link } from \"react-router-dom\";\nimport { Container, Row, Col } from \"reactstrap\";\n\nconst Home = (props) => {\n  useEffect(() => {\n    if (props.count === 0) props.getUsers();\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <Container>\n      <Row className=\"my-2\">\n        <Col>\n          <Link to=\"/members\">\n            <div className=\"home-button\">\n              <center>\n                <strong>Members List</strong>\n              </center>\n            </div>\n          </Link>\n        </Col>\n        <Col>\n          <Link to=\"/birthdays\">\n            <div className=\"home-button\">\n              <center>\n                <strong>Birthdays</strong>\n              </center>\n            </div>\n          </Link>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Link to=\"/family\">\n            <div className=\"home-button\">\n              <center>\n                <strong>View / Edit family</strong>\n              </center>\n            </div>\n          </Link>\n        </Col>\n        <Col>\n          <Link to=\"/changepassword\">\n            <div className=\"home-button\">\n              <center>\n                <strong>Change Password</strong>\n              </center>\n            </div>\n          </Link>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  count: Object.values(state.user.users).length,\n});\nexport default connect(mapStateToProps, { getUsers })(Home);\n","import { LOGIN_SUCCESS, LOGOUT } from \"./authActionTypes\";\n// eslint-disable-next-line\nimport { setError } from \"../errorRedux/errorActions\";\n\nexport const loginSuccess = (data) => ({\n  type: LOGIN_SUCCESS,\n  payload: data,\n});\n\nexport const logOut = () => ({\n  type: LOGOUT,\n});\n\nexport const login = (username, password) => async (dispatch) => {\n  const reqData = { username, password };\n\n  try {\n    const response = await fetch(\"/api/auth/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(reqData),\n    });\n    if (response.status !== 200) throw await response.json();\n    const data = await response.json();\n\n    dispatch(loginSuccess(data));\n  } catch (err) {\n    alert(err.msg);\n    // dispatch(setError(err));\n  }\n};\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { Container, Col, Form, FormGroup, Label, Input, Button } from \"reactstrap\";\n\nimport { login } from \"../redux/authRedux/authActions\";\n\nconst Login = ({ login, loggedIn }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(username, password);\n    setPassword(\"\");\n  };\n  return (\n    <>\n      {loggedIn ? (\n        <Redirect to=\"/home\" />\n      ) : (\n        <Container className=\"App\">\n          <center>\n            <h2>Sign In</h2>\n          </center>\n          <Form className=\"form\">\n            <Col>\n              <FormGroup>\n                <Label>Username</Label>\n                <Input\n                  type=\"text\"\n                  name=\"username\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                  required\n                />\n              </FormGroup>\n            </Col>\n            <Col>\n              <FormGroup>\n                <Label for=\"examplePassword\">Password</Label>\n                <Input\n                  type=\"password\"\n                  name=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                />\n              </FormGroup>\n            </Col>\n            <Col>\n              <center>\n                <Button type=\"submit\" color=\"success\" onClick={handleSubmit}>\n                  Login\n                </Button>\n              </center>\n            </Col>\n          </Form>\n        </Container>\n      )}\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  loggedIn: state.auth.loggedIn,\n});\n\nexport default connect(mapStateToProps, { login })(Login);\n","export const surnames = [\n  \"Mall\",\n  \"Mandan\",\n  \"Bhutada\",\n  \"Navdhare\",\n  \"Mundada\",\n  \"Ladhad\",\n  \"Sharda\",\n  \"Sheth\",\n  \"Gagdani\",\n  \"Rathi\",\n  \"Bhedakiya\",\n  \"Karwa\",\n  \"Bhutda\",\n  \"Somani\",\n  \"Chandak\",\n  \"Kothari\",\n  \"Gingal\",\n  \"Maniyar\",\n  \"Shah\",\n  \"Gilda\",\n  \"Savar\",\n  \"Jhaveri\",\n  \"Bathar\",\n  \"Bhopa\",\n  \"Jeswani\",\n];\n\nexport const bloodGroups = [\"A+\", \"A-\", \"B+\", \"B-\", \"O+\", \"O-\", \"AB+\", \"AB-\", \"N/a\"];\n\nexport const cities = [\n  \"Adipur\",\n  \"Ahmedabad\",\n  \"Airoli\",\n  \"Anand\",\n  \"Anjar\",\n  \"Bargarh\",\n  \"Bavla\",\n  \"Belapur (CBD)\",\n  \"Belgaum\",\n  \"Bellary\",\n  \"Bengaluru\",\n  \"Bhadra\",\n  \"Bhadreshwar\",\n  \"Bharuch\",\n  \"Bhiwandi\",\n  \"Bhuj\",\n  \"Bitta\",\n  \"Chandrapur\",\n  \"Chiplun\",\n  \"Dayapar\",\n  \"Dharwad\",\n  \"Dolatpar\",\n  \"Dombivali\",\n  \"Gadag\",\n  \"Gandhidham\",\n  \"Gandhinagar\",\n  \"Germany\",\n  \"Ghadani\",\n  \"Ghaduli\",\n  \"Goyla\",\n  \"Gulburga\",\n  \"Hoogli\",\n  \"Hubli\",\n  \"Indore\",\n  \"Jakhau\",\n  \"Jamnagar\",\n  \"Kalamboli\",\n  \"Kalwa\",\n  \"Kamothe\",\n  \"Kapadvanj\",\n  \"Kharghar\",\n  \"Khedoi\",\n  \"Khopoli\",\n  \"Kolhapur\",\n  \"Kotada\",\n  \"Kotada Jadodar\",\n  \"Kothara\",\n  \"Laxmipar\",\n  \"Madhapar\",\n  \"Mandvi\",\n  \"Mangalore\",\n  \"Margoa\",\n  \"Matana Madh\",\n  \"Meghpar\",\n  \"Mehsana\",\n  \"Morbi\",\n  \"Moti Khavdi\",\n  \"Moti Virani\",\n  \"Mumbai\",\n  \"Mundra\",\n  \"Nagpur\",\n  \"Nakhatrana\",\n  \"Nakhtrana\",\n  \"Naliya\",\n  \"Nani Virani\",\n  \"Nashik\",\n  \"Nerul\",\n  \"New Panvel\",\n  \"Nundhatad\",\n  \"Ozar\",\n  \"Panvel\",\n  \"Pen\",\n  \"Pune\",\n  \"Ravapar\",\n  \"Sachin\",\n  \"Sambhalpur\",\n  \"Sangli\",\n  \"Satara\",\n  \"Sea Woods\",\n  \"Shahapur\",\n  \"Shenoi\",\n  \"Shivmoga\",\n  \"Shrirampur\",\n  \"Surat\",\n  \"Switzerland\",\n  \"Tera\",\n  \"Thane\",\n  \"Tumkur\",\n  \"Udaipur\",\n  \"Udhana\",\n  \"United Arab Emirates\",\n  \"United Kingdom\",\n  \"United States of America\",\n  \"Uran\",\n  \"Vadkhal\",\n  \"Vadodara\",\n  \"Valsad\",\n  \"Varma Nagar\",\n  \"Vasai\",\n  \"Vashi\",\n  \"Other\",\n];\n\nexport const states = [\n  \"Goa\",\n  \"Gujarat\",\n  \"International\",\n  \"Karnataka\",\n  \"Madhya Pradesh\",\n  \"Maharashtra\",\n  \"Orissa\",\n  \"Rajasthan\",\n  \"West Bengal\",\n  \"Other\",\n];\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  FormFeedback,\n  Row,\n  Col,\n} from \"reactstrap\";\n\nimport { useCombobox, useMultipleSelection } from \"downshift\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\nimport DatePicker from \"reactstrap-date-picker\";\n\nimport ModalTitle from \"./ModalTitle\";\nimport { surnames, bloodGroups, cities, states } from \"../../resources\";\nimport { updateUser } from \"../../redux/userRedux/userActions\";\n\nimport { getUserFromUserId } from \"../../redux/utils\";\nimport isSubSequence from \"../../utils/isSubSequence\";\n\nconst EditProfileModalFunction = (props) => {\n  const [user, setUser] = useState(props.user);\n  const [isOpen, setIsOpen] = useState(false);\n  const [changed, setChanged] = useState(false);\n\n  const [parentInput, setParentInput] = useState(\"\");\n  const [siblingInput, setSiblingInput] = useState(\"\");\n  const [childInput, setChildInput] = useState(\"\");\n\n  const getFilteredItems = (items, selectedItems, inputValue) =>\n    items.filter(\n      (item) =>\n        selectedItems.indexOf(item.fullname) < 0 &&\n        isSubSequence(inputValue, item.fullname)\n    );\n\n  const parentMultipleSelection = useMultipleSelection({\n    initialSelectedItems: user.relationships.parents,\n  });\n\n  const parentComboBox = useCombobox({\n    parentInput,\n    items: getFilteredItems(\n      props.users,\n      parentMultipleSelection.selectedItems,\n      parentInput\n    ),\n    onStateChange: ({ inputValue, type, selectedItem }) => {\n      switch (type) {\n        case useCombobox.stateChangeTypes.InputChange:\n          setChanged(true);\n          setParentInput(inputValue);\n          break;\n        case useCombobox.stateChangeTypes.InputKeyDownEnter:\n        case useCombobox.stateChangeTypes.ItemClick:\n        case useCombobox.stateChangeTypes.InputBlur:\n          if (selectedItem) {\n            setParentInput(\"\");\n            parentMultipleSelection.addSelectedItem(selectedItem);\n            parentComboBox.selectItem(null);\n          }\n          break;\n        default:\n          break;\n      }\n    },\n    itemToString: (item) => item || \"\",\n  });\n\n  const siblingMultipleSelection = useMultipleSelection({\n    initialSelectedItems: user.relationships.siblings,\n  });\n\n  const siblingComboBox = useCombobox({\n    siblingInput,\n    items: getFilteredItems(\n      props.users,\n      siblingMultipleSelection.selectedItems,\n      siblingInput\n    ),\n    onStateChange: ({ inputValue, type, selectedItem }) => {\n      switch (type) {\n        case useCombobox.stateChangeTypes.InputChange:\n          setChanged(true);\n          setSiblingInput(inputValue);\n          break;\n        case useCombobox.stateChangeTypes.InputKeyDownEnter:\n        case useCombobox.stateChangeTypes.ItemClick:\n        case useCombobox.stateChangeTypes.InputBlur:\n          if (selectedItem) {\n            setSiblingInput(\"\");\n            siblingMultipleSelection.addSelectedItem(selectedItem);\n            siblingComboBox.selectItem(null);\n          }\n          break;\n        default:\n          break;\n      }\n    },\n    itemToString: (item) => item || \"\",\n  });\n\n  const childMultipleSelection = useMultipleSelection({\n    initialSelectedItems: user.relationships.children,\n  });\n\n  const childComboBox = useCombobox({\n    childInput,\n    items: getFilteredItems(\n      props.users,\n      childMultipleSelection.selectedItems,\n      childInput\n    ),\n    onStateChange: ({ inputValue, type, selectedItem }) => {\n      switch (type) {\n        case useCombobox.stateChangeTypes.InputChange:\n          setChanged(true);\n          setChildInput(inputValue);\n          break;\n        case useCombobox.stateChangeTypes.InputKeyDownEnter:\n        case useCombobox.stateChangeTypes.ItemClick:\n        case useCombobox.stateChangeTypes.InputBlur:\n          if (selectedItem) {\n            setChildInput(\"\");\n            childMultipleSelection.addSelectedItem(selectedItem);\n            childComboBox.selectItem(null);\n          }\n          break;\n        default:\n          break;\n      }\n    },\n    itemToString: (item) => item || \"\",\n  });\n\n  const capitalizeFirstLetter = (string) =>\n    string.charAt(0).toUpperCase() + string.slice(1);\n  const isFieldValid = (value) => value.trim().length !== 0;\n  const isEmailValid = (value) =>\n    // eslint-disable-next-line\n    !!value.match(/^$|^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/);\n\n  const toggle = () => setIsOpen(!isOpen);\n\n  const onChange = (e) => {\n    e.persist();\n    setUser((user) => ({\n      ...user,\n      [e.target.name]: e.target.value,\n    }));\n    setChanged(true);\n  };\n\n  const onSubmit = (e) => {\n    e.persist();\n    e.preventDefault();\n    if (!changed) toggle();\n    else {\n      const name = capitalizeFirstLetter(user.name);\n\n      const father_or_husband_name = capitalizeFirstLetter(\n        user.father_or_husband_name\n      );\n      const surname = capitalizeFirstLetter(user.surname);\n      const father_in_law_name = capitalizeFirstLetter(user.father_in_law_name);\n      const stream = capitalizeFirstLetter(user.stream);\n      const profession = capitalizeFirstLetter(user.profession);\n      const education_specialisation = capitalizeFirstLetter(\n        user.education_specialisation\n      );\n      const fullname = `${name} ${father_or_husband_name} ${surname}`;\n      const finalUser = {\n        ...user,\n        name,\n        father_or_husband_name,\n        surname,\n        father_in_law_name,\n        stream,\n        profession,\n        education_specialisation,\n        fullname,\n        relationships: {\n          ...user.relationships,\n          parents: parentMultipleSelection.selectedItems.map(\n            (item) => item.person_no\n          ),\n          siblings: siblingMultipleSelection.selectedItems.map(\n            (item) => item.person_no\n          ),\n          children: childMultipleSelection.selectedItems.map(\n            (item) => item.person_no\n          ),\n        },\n      };\n      props.updateUser(finalUser);\n      toggle();\n    }\n  };\n\n  return (\n    <>\n      <EditIcon\n        color=\"primary\"\n        aria-label=\"View person\"\n        style={{ margin: 5, cursor: \"pointer\" }}\n        onClick={toggle}\n      />\n\n      <Modal isOpen={isOpen} toggle={toggle} scrollable={true}>\n        <ModalHeader toggle={toggle}>{user.fullname}</ModalHeader>\n        <ModalBody>\n          <ModalTitle text=\"Basic Information\" />\n          <Form onSubmit={onSubmit}>\n            <FormGroup>\n              <Label for=\"name\">Name</Label>\n              <Input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Name\"\n                style={{ textTransform: \"capitalize\" }}\n                onChange={onChange}\n                value={user.name}\n                invalid={!isFieldValid(user.name)}\n                required\n              />\n              <FormFeedback>Please Enter a Name</FormFeedback>\n            </FormGroup>\n\n            <FormGroup>\n              <Label for=\"father_or_husband_name\">Middle Name</Label>\n              <Input\n                type=\"text\"\n                name=\"father_or_husband_name\"\n                placeholder=\"Middle Name\"\n                style={{ textTransform: \"capitalize\" }}\n                onChange={onChange}\n                value={user.father_or_husband_name}\n                invalid={!isFieldValid(user.father_or_husband_name)}\n                required\n              />\n              <FormFeedback>Please Enter a Name</FormFeedback>\n            </FormGroup>\n\n            <FormGroup>\n              <Label for=\"surname\">Last Name</Label>\n              <Input\n                type=\"select\"\n                name=\"surname\"\n                value={user.surname}\n                onChange={onChange}\n                required\n              >\n                {surnames.map((surname, index) => (\n                  <option value={surname} key={index}>\n                    {surname}\n                  </option>\n                ))}\n              </Input>\n            </FormGroup>\n\n            <Row>\n              <Col>\n                <FormGroup>\n                  <Label for=\"relationship_with_family_head\">Relation</Label>\n                  <Input\n                    type=\"select\"\n                    name=\"relationship_with_family_head\"\n                    value={user.relationship_with_family_head}\n                    onChange={onChange}\n                    required\n                  >\n                    <option value=\"Self\">Self</option>\n                    <option value=\"Wife\">Wife</option>\n                    <option value=\"Son\">Son</option>\n                    <option value=\"Daghter\">Daughter</option>\n                  </Input>\n                </FormGroup>\n              </Col>\n              <Col>\n                <FormGroup>\n                  <Label for=\"blood_group\">Blood Group</Label>\n                  <Input\n                    type=\"select\"\n                    name=\"blood_group\"\n                    value={user.blood_group}\n                    onChange={onChange}\n                    required\n                  >\n                    {bloodGroups.map((bloodGroup, index) => (\n                      <option value={bloodGroup} key={index}>\n                        {bloodGroup}\n                      </option>\n                    ))}\n                  </Input>\n                </FormGroup>\n              </Col>\n            </Row>\n\n            <FormGroup>\n              <Label for=\"gender\">Gender</Label>\n              <br />\n              <input\n                type=\"radio\"\n                value=\"Male\"\n                name=\"gender\"\n                checked={user.gender === \"Male\"}\n                onChange={onChange}\n              />{\" \"}\n              Male\n              <br />\n              <input\n                type=\"radio\"\n                value=\"Female\"\n                name=\"gender\"\n                checked={user.gender === \"Female\"}\n                onChange={onChange}\n              />{\" \"}\n              Female\n            </FormGroup>\n\n            <FormGroup>\n              <Label for=\"date_of_birth\">Date of Birth</Label>\n              <DatePicker\n                value={user.date_of_birth}\n                onChange={(date_of_birth) =>\n                  setUser((user) => ({ ...user, date_of_birth }))\n                }\n                dateFormat=\"DD/MM/YYYY\"\n                weekStartsOn={1}\n              />\n            </FormGroup>\n\n            <FormGroup>\n              <Row>\n                <Col>\n                  <Label for=\"marital_status\">Marital Status</Label>\n                  <Input\n                    type=\"select\"\n                    name=\"marital_status\"\n                    value={user.marital_status}\n                    onChange={onChange}\n                    required\n                  >\n                    <option value=\"Married\">Married</option>\n                    <option value=\"Unmarried\">Unmarried</option>\n                    <option value=\"Widow\">Widow</option>\n                    <option value=\"Divorcee\">Divorcee</option>\n                    <option value=\"Engaged\">Engaged</option>\n                  </Input>\n                </Col>\n\n                {[\"Married\", \"Widow\"].includes(user.marital_status) && (\n                  <Col>\n                    <Label for=\"marriage_date\">Marriage Date</Label>\n                    <DatePicker\n                      value={user.marriage_date}\n                      onChange={(marriage_date) =>\n                        setUser((user) => ({ ...user, marriage_date }))\n                      }\n                      dateFormat=\"DD/MM/YYYY\"\n                      weekStartsOn={1}\n                    />\n                  </Col>\n                )}\n              </Row>\n            </FormGroup>\n            {[\"Married\", \"Widow\"].includes(user.marital_status) && (\n              <FormGroup>\n                <Label for=\"father_in_law_name\">Father in Law</Label>\n                <Input\n                  type=\"text\"\n                  name=\"father_in_law_name\"\n                  placeholder=\"Middle Name\"\n                  style={{ textTransform: \"capitalize\" }}\n                  onChange={onChange}\n                  value={user.father_in_law_name}\n                  invalid={!isFieldValid(user.father_in_law_name)}\n                  required\n                />\n              </FormGroup>\n            )}\n            <ModalTitle text=\"Communication\" />\n            <FormGroup>\n              <Label for=\"mobile_1\">Mobile #1</Label>\n              <Input\n                type=\"text\"\n                name=\"mobile_1\"\n                placeholder=\"Mobile #1\"\n                onChange={onChange}\n                value={user.mobile_1}\n                required\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"mobile_2\">Mobile #2</Label>\n              <Input\n                type=\"text\"\n                name=\"mobile_2\"\n                placeholder=\"Mobile #2\"\n                onChange={onChange}\n                value={user.mobile_2}\n              />\n            </FormGroup>\n\n            <FormGroup>\n              <Label for=\"name\">Email Address</Label>\n              <Input\n                type=\"text\"\n                name=\"email_address\"\n                placeholder=\"Email\"\n                onChange={onChange}\n                value={user.email_address}\n                invalid={!isEmailValid(user.email_address)}\n              />\n              <FormFeedback>Please enter a valid email</FormFeedback>\n            </FormGroup>\n\n            <ModalTitle text=\"Education\" />\n            <FormGroup>\n              <Label for=\"education\">Education</Label>\n              <Input\n                type=\"select\"\n                name=\"education\"\n                value={user.education}\n                onChange={onChange}\n                required\n              >\n                <option value=\"N/a\">N/a</option>\n                <option value=\"School\">School</option>\n                <option value=\"Graduate\">Graduate</option>\n                <option value=\"High school\">High school</option>\n                <option value=\"Post graduate\">Post graduate</option>\n                <option value=\"College\">College</option>\n                <option value=\"Ph d\">Ph d</option>\n              </Input>\n            </FormGroup>\n\n            <FormGroup>\n              <Label for=\"education_specialisation\">Education Specialisation</Label>\n              <Input\n                type=\"text\"\n                name=\"education_specialisation\"\n                placeholder=\"Education Specialisation (eg: BCom, BTech)\"\n                onChange={onChange}\n                value={user.education_specialisation}\n              />\n            </FormGroup>\n\n            <FormGroup>\n              <Label for=\"stream\">Stream</Label>\n              <Input\n                type=\"text\"\n                name=\"stream\"\n                placeholder=\"Stream\"\n                onChange={onChange}\n                value={user.stream}\n              />\n            </FormGroup>\n\n            <FormGroup>\n              <Label for=\"profession\">Profession</Label>\n              <Input\n                type=\"text\"\n                name=\"profession\"\n                placeholder=\"Profession\"\n                onChange={onChange}\n                value={user.profession}\n              />\n            </FormGroup>\n\n            <ModalTitle text=\"Residence\" />\n            <FormGroup>\n              <Label for=\"residential_address_line_1\">Address Line 1</Label>\n              <Input\n                type=\"text\"\n                name=\"residential_address_line_1\"\n                placeholder=\"Residential Address\"\n                onChange={onChange}\n                value={user.residential_address_line_1}\n              />\n            </FormGroup>\n            <Row>\n              <Col>\n                <FormGroup>\n                  <Label for=\"residential_address_city\">City</Label>\n                  <Input\n                    type=\"select\"\n                    name=\"residential_address_city\"\n                    value={user.residential_address_city}\n                    onChange={onChange}\n                    required\n                  >\n                    {cities.map((city, index) => (\n                      <option value={city} key={index}>\n                        {city}\n                      </option>\n                    ))}\n                  </Input>\n                </FormGroup>\n              </Col>\n              <Col>\n                <FormGroup>\n                  <Label for=\"residential_address_state\">State</Label>\n                  <Input\n                    type=\"select\"\n                    name=\"residential_address_state\"\n                    value={user.residential_address_state}\n                    onChange={onChange}\n                    required\n                  >\n                    {states.map((state, index) => (\n                      <option value={state} key={index}>\n                        {state}\n                      </option>\n                    ))}\n                  </Input>\n                </FormGroup>\n              </Col>\n            </Row>\n\n            <FormGroup>\n              <Label for=\"residential_landline\">Landline</Label>\n              <Input\n                type=\"text\"\n                name=\"residential_landline\"\n                placeholder=\"Residential Landline\"\n                onChange={onChange}\n                value={user.residential_landline || null}\n              />\n            </FormGroup>\n\n            <ModalTitle text=\"Office\" />\n\n            <FormGroup>\n              <Label for=\"office_address\">Office Address</Label>\n              <Input\n                type=\"text\"\n                name=\"office_address\"\n                placeholder=\"Office Address\"\n                onChange={onChange}\n                value={user.office_address}\n              />\n            </FormGroup>\n            <Row>\n              <Col>\n                <FormGroup>\n                  <Label for=\"office_address_city\">City</Label>\n                  <Input\n                    type=\"select\"\n                    name=\"office_address_city\"\n                    value={user.office_address_city || \"Other\"}\n                    onChange={onChange}\n                    required\n                  >\n                    {cities.map((city, index) => (\n                      <option value={city} key={index}>\n                        {city}\n                      </option>\n                    ))}\n                  </Input>\n                </FormGroup>\n              </Col>\n              <Col>\n                <FormGroup>\n                  <Label for=\"office_address_state\">State</Label>\n                  <Input\n                    type=\"select\"\n                    name=\"office_address_state\"\n                    value={user.office_address_state || \"Other\"}\n                    onChange={onChange}\n                    required\n                  >\n                    {states.map((state, index) => (\n                      <option value={state} key={index}>\n                        {state}\n                      </option>\n                    ))}\n                  </Input>\n                </FormGroup>\n              </Col>\n            </Row>\n            <FormGroup>\n              <Label for=\"landline_office\">Landline</Label>\n              <Input\n                type=\"text\"\n                name=\"landline_office\"\n                placeholder=\"Office Landline\"\n                onChange={onChange}\n                value={user.landline_office || null}\n              />\n            </FormGroup>\n\n            <ModalTitle text=\"Relationships\" />\n            <FormGroup>\n              <Label {...parentComboBox.getLabelProps()}>\n                <strong>Parents</strong>\n              </Label>\n              <div>\n                {parentMultipleSelection.selectedItems.map((selectedItem, index) => (\n                  <span\n                    key={`selected-item-${index}`}\n                    {...parentMultipleSelection.getSelectedItemProps({\n                      selectedItem,\n                      index,\n                    })}\n                  >\n                    {selectedItem.fullname}\n                    <span\n                      onClick={() => {\n                        parentMultipleSelection.removeSelectedItem(selectedItem);\n                        setChanged(true);\n                      }}\n                      style={{ cursor: \"pointer\" }}\n                    >\n                      &#10005;\n                    </span>\n                  </span>\n                ))}\n                <div {...parentComboBox.getComboboxProps()}>\n                  <Input\n                    {...parentComboBox.getInputProps(\n                      parentMultipleSelection.getDropdownProps({\n                        preventKeyAction: parentComboBox.isOpen,\n                      })\n                    )}\n                  />\n                </div>\n              </div>\n              <ul\n                {...parentComboBox.getMenuProps()}\n                style={{\n                  maxHeight: \"200px\",\n                  overflowY: \"auto\",\n                  margin: 0,\n                  borderTop: 0,\n                  background: \"white\",\n                  position: \"absolute\",\n                  zIndex: 1000,\n                  listStyle: \"none\",\n                  padding: 0,\n                }}\n              >\n                {parentComboBox.isOpen &&\n                  getFilteredItems(\n                    props.users,\n                    parentMultipleSelection.selectedItems,\n                    parentInput\n                  ).map((item, index) => (\n                    <li\n                      style={\n                        parentComboBox.highlightedIndex === index\n                          ? { backgroundColor: \"#bde4ff\" }\n                          : {}\n                      }\n                      key={`${item}${index}`}\n                      {...parentComboBox.getItemProps({ item, index })}\n                    >\n                      {item.fullname}\n                    </li>\n                  ))}\n              </ul>\n            </FormGroup>\n\n            <FormGroup>\n              <Label {...siblingComboBox.getLabelProps()}>\n                <strong>Siblings</strong>\n              </Label>\n              <div>\n                {siblingMultipleSelection.selectedItems.map(\n                  (selectedItem, index) => (\n                    <span\n                      key={`selected-item-${index}`}\n                      {...siblingMultipleSelection.getSelectedItemProps({\n                        selectedItem,\n                        index,\n                      })}\n                    >\n                      {selectedItem.fullname}\n                      <span\n                        onClick={() => {\n                          siblingMultipleSelection.removeSelectedItem(selectedItem);\n                          setChanged(true);\n                        }}\n                        style={{ cursor: \"pointer\" }}\n                      >\n                        &#10005;\n                      </span>\n                    </span>\n                  )\n                )}\n                <div {...siblingComboBox.getComboboxProps()}>\n                  <Input\n                    {...siblingComboBox.getInputProps(\n                      siblingMultipleSelection.getDropdownProps({\n                        preventKeyAction: siblingComboBox.isOpen,\n                      })\n                    )}\n                  />\n                </div>\n              </div>\n              <ul\n                {...siblingComboBox.getMenuProps()}\n                style={{\n                  maxHeight: \"200px\",\n                  overflowY: \"auto\",\n                  margin: 0,\n                  borderTop: 0,\n                  background: \"white\",\n                  position: \"absolute\",\n                  zIndex: 1000,\n                  listStyle: \"none\",\n                  padding: 0,\n                }}\n              >\n                {siblingComboBox.isOpen &&\n                  getFilteredItems(\n                    props.users,\n                    siblingMultipleSelection.selectedItems,\n                    siblingInput\n                  ).map((item, index) => (\n                    <li\n                      style={\n                        siblingComboBox.highlightedIndex === index\n                          ? { backgroundColor: \"#bde4ff\" }\n                          : {}\n                      }\n                      key={`${item}${index}`}\n                      {...siblingComboBox.getItemProps({ item, index })}\n                    >\n                      {item.fullname}\n                    </li>\n                  ))}\n              </ul>\n            </FormGroup>\n\n            <FormGroup>\n              <Label {...childComboBox.getLabelProps()}>\n                <strong>Children</strong>\n              </Label>\n              <div>\n                {childMultipleSelection.selectedItems.map((selectedItem, index) => (\n                  <span\n                    key={`selected-item-${index}`}\n                    {...childMultipleSelection.getSelectedItemProps({\n                      selectedItem,\n                      index,\n                    })}\n                  >\n                    {selectedItem.fullname}\n                    <span\n                      onClick={() => {\n                        childMultipleSelection.removeSelectedItem(selectedItem);\n                        setChanged(true);\n                      }}\n                      style={{ cursor: \"pointer\" }}\n                    >\n                      &#10005;\n                    </span>\n                  </span>\n                ))}\n                <div {...childComboBox.getComboboxProps()}>\n                  <Input\n                    {...childComboBox.getInputProps(\n                      childMultipleSelection.getDropdownProps({\n                        preventKeyAction: childComboBox.isOpen,\n                      })\n                    )}\n                  />\n                </div>\n              </div>\n              <ul\n                {...childComboBox.getMenuProps()}\n                style={{\n                  maxHeight: \"200px\",\n                  overflowY: \"auto\",\n                  margin: 0,\n                  borderTop: 0,\n                  background: \"white\",\n                  position: \"absolute\",\n                  zIndex: 1000,\n                  listStyle: \"none\",\n                  padding: 0,\n                }}\n              >\n                {childComboBox.isOpen &&\n                  getFilteredItems(\n                    props.users,\n                    childMultipleSelection.selectedItems,\n                    childInput\n                  ).map((item, index) => (\n                    <li\n                      style={\n                        childComboBox.highlightedIndex === index\n                          ? { backgroundColor: \"#bde4ff\" }\n                          : {}\n                      }\n                      key={`${item}${index}`}\n                      {...childComboBox.getItemProps({ item, index })}\n                    >\n                      {item.fullname}\n                    </li>\n                  ))}\n              </ul>\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Row>\n            <Col className=\"mb-2\">\n              <center>\n                <Button color=\"primary\" type=\"submit\" onClick={onSubmit}>\n                  <strong>Save</strong>\n                </Button>{\" \"}\n                <Button color=\"danger\" onClick={toggle}>\n                  <strong>Cancel</strong>\n                </Button>\n              </center>\n            </Col>\n          </Row>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const users = Object.values(state.user.users).map((user) => ({\n    person_no: user.person_no,\n    fullname: user.fullname,\n  }));\n  const user = {\n    ...ownProps.user,\n    relationships: {\n      ...ownProps.user.relationships,\n      siblings: ownProps.user.relationships.siblings.map((sibling) => {\n        const tmpUser = getUserFromUserId(sibling);\n        return { person_no: tmpUser.person_no, fullname: tmpUser.fullname };\n      }),\n      parents: ownProps.user.relationships.parents.map((parent) => {\n        const tmpUser = getUserFromUserId(parent);\n        return { person_no: tmpUser.person_no, fullname: tmpUser.fullname };\n      }),\n\n      children: ownProps.user.relationships.children.map((child) => {\n        const tmpUser = getUserFromUserId(child);\n        return { person_no: tmpUser.person_no, fullname: tmpUser.fullname };\n      }),\n    },\n  };\n\n  return { users, user };\n};\n\nexport default connect(mapStateToProps, { updateUser })(EditProfileModalFunction);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { Container, Row, Col } from \"reactstrap\";\n\nimport EditProfileModal from \"./Modal/EditProfileModal\";\nimport PersonModal from \"./Modal/PersonModal\";\n\nconst ViewFamily = (props) => {\n  return (\n    <Container>\n      {props.familyMembers.map((member) => (\n        <Container key={member._id}>\n          <Row>\n            <Col>\n              <Row>{member.fullname}</Row>\n            </Col>\n            <Col>\n              <center>{member.relationship_with_family_head}</center>\n            </Col>\n            <Col xs=\"3\">\n              <PersonModal user={member} />\n              <EditProfileModal user={member} />\n            </Col>\n          </Row>\n          <hr />\n        </Container>\n      ))}\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    familyMembers: Object.values(state.user.users).filter(\n      (user) => user.family_no === state.auth.user.family_no\n    ),\n  };\n};\n\nexport default connect(mapStateToProps)(ViewFamily);\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Container } from \"reactstrap\";\n\nimport { getUsers } from \"../../redux/userRedux/userActions\";\nimport BaseTable from \"./BaseTable\";\nimport ActionButtons from \"./ActionButtons\";\nimport Moment from \"moment\";\n\nconst BirthdayTable = ({ getUsers, count, birthdays }) => {\n  useEffect(() => {\n    if (count === 0) getUsers();\n    // eslint-disable-next-line\n  }, []);\n  const columns = [\n    {\n      name: \"fullname\",\n      label: \"Name\",\n      options: {\n        filter: false,\n        sort: true,\n        sortThirdClickReset: true,\n      },\n    },\n    {\n      name: \"actions\",\n      label: \"Actions\",\n      options: {\n        filter: false,\n        sort: false,\n      },\n    },\n  ];\n  const data = birthdays.map((user) => ({\n    ...user,\n    actions: <ActionButtons user={user} />,\n  }));\n  return (\n    <Container>\n      <BaseTable columns={columns} data={data} />\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  count: Object.values(state.user.users).length,\n  birthdays: Object.values(state.user.users).filter(\n    (user) => Moment().format(\"DDMM\") === Moment(user.date_of_birth).format(\"DDMM\")\n  ),\n});\n\nexport default connect(mapStateToProps, { getUsers })(BirthdayTable);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Navbar, NavLink } from \"reactstrap\";\nimport { Home as HomeIcon, ExitToApp as ExitToAppIcon } from \"@material-ui/icons\";\n\nimport { logOut } from \"../redux/authRedux/authActions\";\n\nconst NavBar = ({ loggedIn, logOut }) => (\n  <div>\n    <Navbar light>\n      <NavLink tag={Link} to=\"/\" style={{ textDecoration: \"none\" }}>\n        <span className=\"navbar-text\">\n          <HomeIcon />\n        </span>\n      </NavLink>\n      {loggedIn && (\n        <NavLink\n          onClick={logOut}\n          style={{ textDecoration: \"none\", cursor: \"pointer\" }}\n        >\n          <span className=\"navbar-text\">\n            <ExitToAppIcon />\n          </span>\n        </NavLink>\n      )}\n    </Navbar>\n  </div>\n);\n\nconst mapStateToProps = (state) => ({\n  loggedIn: state.auth.loggedIn,\n});\n\nexport default connect(mapStateToProps, { logOut })(NavBar);\n","import React from \"react\";\n\nconst NotYetBuilt = () => <h1>Not yet built</h1>;\n\nexport default NotYetBuilt;\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {\n  Container,\n  Button,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  FormFeedback,\n} from \"reactstrap\";\n\nconst ChangePassword = (props) => {\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [repeatNewPassword, setRepeatNewPassword] = useState(\"\");\n\n  const onSubmit = async (e) => {\n    e.persist();\n    e.preventDefault();\n    const reqData = {\n      username: props.username,\n      oldPassword,\n      newPassword,\n    };\n    const res = await fetch(\"/api/auth/changePassword\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(reqData),\n    });\n    const data = await res.json();\n    alert(data.msg);\n    setOldPassword(\"\");\n    setNewPassword(\"\");\n    setRepeatNewPassword(\"\");\n  };\n\n  const isFieldValid = (value) => value.trim().length !== 0;\n  return (\n    <Container>\n      <Form onSubmit={onSubmit}>\n        <FormGroup>\n          <Label for=\"oldPassword\">Old Password</Label>\n          <Input\n            type=\"password\"\n            name=\"oldPassword\"\n            placeholder=\"Old Password\"\n            onChange={(e) => setOldPassword(e.target.value)}\n            value={oldPassword}\n            invalid={!isFieldValid(oldPassword)}\n            required\n          />\n          <FormFeedback>Please Enter your old password</FormFeedback>\n        </FormGroup>\n\n        <FormGroup>\n          <Label for=\"newPassword\">New Password</Label>\n          <Input\n            type=\"password\"\n            name=\"newPassword\"\n            placeholder=\"New Password\"\n            onChange={(e) => setNewPassword(e.target.value)}\n            value={newPassword}\n            required\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"repeatNewPassword\">Repeat New Password</Label>\n          <Input\n            type=\"password\"\n            name=\"repeatNewPassword\"\n            placeholder=\"Repeat New Password\"\n            onChange={(e) => setRepeatNewPassword(e.target.value)}\n            value={repeatNewPassword}\n            invalid={newPassword !== repeatNewPassword}\n            required\n          />\n\n          <FormFeedback>Passwords don't match</FormFeedback>\n        </FormGroup>\n        <center>\n          <Button\n            color=\"primary\"\n            type=\"submit\"\n            disabled={\n              !isFieldValid(oldPassword) || newPassword !== repeatNewPassword\n            }\n          >\n            <strong>Submit</strong>\n          </Button>\n        </center>\n      </Form>\n    </Container>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  username: state.auth.user.person_no.toString(),\n});\n\nexport default connect(mapStateToProps, null)(ChangePassword);\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport UsersTable from \"./components/Table/UsersTable\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport ViewFamily from \"./components/ViewFamily\";\nimport BirthdayTable from \"./components/Table/BirthdayTable\";\nimport NavBar from \"./components/Navbar\";\nimport NotYetBuilt from \"./components/NotYetBuilt\";\nimport ChangePassword from \"./components/ChangePassword\";\nimport \"./App.css\";\n\nfunction App() {\n  console.log(\"You probably shouldn't be here\");\n  return (\n    <>\n      <NavBar />\n      <Switch>\n        <Route exact path=\"/\" component={Login} />\n        <Route\n          exact\n          path=\"/home\"\n          render={(props) => <ProtectedRoute {...props} Component={Home} />}\n        />\n        <Route\n          exact\n          path=\"/members\"\n          render={(props) => <ProtectedRoute {...props} Component={UsersTable} />}\n        />\n        {/* <Route exact path=\"/members\" component={UsersTable} /> */}\n\n        <Route\n          exact\n          path=\"/birthdays\"\n          render={(props) => <ProtectedRoute {...props} Component={BirthdayTable} />}\n        />\n        <Route\n          exact\n          path=\"/family\"\n          render={(props) => <ProtectedRoute {...props} Component={ViewFamily} />}\n        />\n        <Route\n          exact\n          path=\"/changepassword\"\n          render={(props) => (\n            <ProtectedRoute {...props} Component={ChangePassword} />\n          )}\n        />\n\n        <Route exact path=\"/workinprogress\" component={NotYetBuilt} />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}