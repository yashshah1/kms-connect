(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{345:function(e,a,t){e.exports=t(400)},398:function(e,a,t){},400:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(17),o=t.n(l),c=t(54),i=t(27),u=(t(354),t(71)),s=t(19),m={users:[],loading:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USER_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,users:a.payload});case"GET_USER_REQUEST":return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case"UPDATE_USER":var t=a.payload.person_no,n=e.users.map((function(e){return e.person_no===t?a.payload:e}));return Object(s.a)(Object(s.a)({},e),{},{users:n});default:return e}},E={error:null,isError:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ERROR":return Object(s.a)(Object(s.a)({},e),{},{isError:!0,error:a.payload.msg});case"HIDE_ERROR":return Object(s.a)(Object(s.a)({},e),{},{isError:!1,error:null});default:return e}},h={loggedIn:!1,user:{},jwt:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_SUCCESS":var t=a.payload,n=t.token,r=t.user;return localStorage.setItem("kmmms-token",n),Object(s.a)(Object(s.a)({},e),{},{jwt:n,loggedIn:!0,user:r});case"LOGOUT":return localStorage.removeItem("kmmms-token"),Object(s.a)(Object(s.a)({},e),{},{user:{},jwt:"",loggedIn:!1});default:return e}},g=Object(u.c)({user:d,error:p,auth:f}),b=[t(328).a],v=u.a.apply(void 0,b),_=Object(u.d)(g,v),y=t(31),O=t(329),w=t.n(O),C=function(e){return e.split(" ").join("")},j=function(e,a){e=C(e.toLowerCase()),a=C(a.toLowerCase());for(var t=0,n=0;n<a.length&&t<e.length;n++)e[t]===a[n]&&t++;return t===e.length},S={download:!1,print:!1,viewColumns:!1,jumpToPage:!0,selectableRows:"none",responsive:"standard",rowsPerPage:50,rowsPerPageOptions:[10,20,50,100],customSearch:function(e,a){return j(e,a[0])}},x=function(e){var a=e.columns,t=e.data,n=e.options,l=void 0===n?{}:n;return l=Object(s.a)(Object(s.a)({},l),S),r.a.createElement(w.a,{columns:a,options:l,data:t})},M=t(293),P=t(424),N=function(e){var a,t=e.user,n=t.mobile_1,l=t.mobile_2,o=!1;return n?a=n:l?a=l:o=!0,r.a.createElement(P.a,{onClick:o?void 0:function(){return document.location.href="tel:".concat(a)},color:"primary","aria-label":"Call person",style:{pointer:"cursor",margin:5,opacity:o?.5:1}})},k=t(20),F=t(320),U=t(298),B=t(299),D=t(300),T=t(90),L=t(425),R=t(291),G=t(292),I=t(196),A=t.n(I),Y=function(){return r.a.createElement("div",{style:{width:"100%",height:"5px",backgroundColor:"#007BFF",margin:"10px 0px 10px 0px",opacity:.5}})},q=function(e){var a=e.text;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement("center",null,r.a.createElement("h4",null,a.toUpperCase())),r.a.createElement(Y,null))},z=function(e){var a,t=e.user,n=function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,e),r.a.createElement(R.a,null,a))},l=function(e,a){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,n(e,a)),t&&r.a.createElement("hr",null))},o=function(e){return r.a.createElement("a",{href:"tel:".concat(e)},e)},c=t.name,i=t.surname,u=t.father_or_husband_name,s=t.relationship_with_family_head,m=t.native_place,d=t.blood_group,E=t.gender,p=t.date_of_birth,h=t.marital_status,f=t.marriage_date,g=t.father_in_law_name,b=t.mobile_1,v=t.mobile_2,_=t.email_address,y=t.education,O=t.education_specialisation,w=t.stream,C=t.profession,j=t.residential_address_line_1,S=t.residential_address_state,x=t.residential_address_city,P=t.pin_code,N=t.residential_landline,k=t.office_address,F=t.office_address_state,U=t.office_address_city,B=t.office_address_pin,D=t.landline_office;return r.a.createElement(M.a,null,r.a.createElement(q,{text:"Profile"}),l("First Name",c),l("Middle Name",u),l("Last Name",i),l("Relation",s),l("Native",m,!1),r.a.createElement(Y,null),l("Blood Group",d),l("Gender",E),l("Date of Birth",r.a.createElement(A.a,{format:"DD/MM/YYYY"},p)),r.a.createElement(G.a,null,n("Marital Status",h),f?r.a.createElement(A.a,{format:"DD/MM/YYYY"},f):null),r.a.createElement("hr",null),l("Father in Law",g,!1),r.a.createElement(q,{text:"Communication"}),b?l("Mobile #1",o(b)):null,v?l("Mobile #2",o(v)):null,_?l("Email",(a=_,r.a.createElement("a",{href:"mailto:".concat(a)},a))):null,r.a.createElement(q,{text:"Education"}),l("Education",y),l("Specialisation",O),l("Stream",w),l("Profession",C,!1),r.a.createElement(q,{text:"Residence"}),l("Address",j),l("City",x),l("State",S),l("Pin Code",P),_?l("Landline",o(N)):null,r.a.createElement(q,{text:"Office"}),l("Address",k),l("City",U),l("State",F),l("Pin Code",B),_?l("Landline",o(D)):null,r.a.createElement(Y,null))},V=function(e){var a=e.user,t=a.fullname,l=Object(n.useState)(!1),o=Object(k.a)(l,2),c=o[0],i=o[1],u=function(){i(!c)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{color:"primary","aria-label":"View person",style:{margin:5,cursor:"pointer"},onClick:u}),r.a.createElement(F.a,{isOpen:c,toggle:u,scrollable:!0},r.a.createElement(U.a,{toggle:u},t),r.a.createElement(B.a,null,r.a.createElement(z,{user:a})),r.a.createElement(D.a,null,r.a.createElement(T.a,{color:"danger",onClick:u},"Close"))))},J=t(426),W=Object(i.b)((function(e,a){return{familyMembers:e.user.users.filter((function(e){return e.family_no===a.family_no}))}}))((function(e){var a=Object(n.useState)(!1),t=Object(k.a)(a,2),l=t[0],o=t[1],c=function(){o(!l)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{color:"primary","aria-label":"View Family",style:{margin:5,cursor:"pointer"},onClick:c}),r.a.createElement(F.a,{isOpen:l,toggle:c,scrollable:!0},r.a.createElement(U.a,{toggle:c},"Family Members"),r.a.createElement(B.a,null,e.familyMembers.map((function(e){return r.a.createElement(M.a,{key:e._id},r.a.createElement(G.a,null,r.a.createElement(R.a,null,r.a.createElement(G.a,null,e.fullname)),r.a.createElement(R.a,null,r.a.createElement("center",null,e.relationship_with_family_head)),r.a.createElement(R.a,{xs:"3"},r.a.createElement(N,{user:e}),r.a.createElement(V,{user:e}))),r.a.createElement("hr",null))}))),r.a.createElement(D.a,null,r.a.createElement(T.a,{color:"danger",onClick:c},"Close"))))})),K=function(e){var a=e.call,t=void 0===a||a,n=e.person,l=void 0===n||n,o=e.family,c=void 0===o||o,i=e.user;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(N,{user:i}):null,l?r.a.createElement(V,{user:i}):null,c?r.a.createElement(W,{family_no:i.family_no}):null)},H=t(62),Q=t.n(H),$=t(83),X=function(e){return{type:"GET_USER_SUCCESS",payload:e}},Z=function(){return function(){var e=Object($.a)(Q.a.mark((function e(a){var t,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"GET_USER_REQUEST"}),e.prev=1,e.next=4,fetch("/api/users/");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,a(X(n)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),alert(e.t0.msg);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}()},ee=Object(i.b)((function(e){return{users:e.user.users,loading:e.user.loading}}),{getUsers:Z})((function(e){var a=e.getUsers,t=e.users;Object(n.useEffect)((function(){0===t.length&&a()}),[]);var l={filter:!0,sort:!1,display:!1,filterType:"dropdown"},o=Object(s.a)(Object(s.a)({},l),{},{filterType:"multiselect"}),c=[{name:"fullname",label:"Name",options:{filter:!1,sort:!0,sortThirdClickReset:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}},{name:"gender",label:"Gender",options:l},{name:"surname",label:"Surname",options:o},{name:"relationship_with_family_head",label:"Family Status",options:o},{name:"marital_status",label:"Marital Status",options:o},{name:"blood_group",label:"Blood Group",options:o},{name:"native_place",label:"Native Place",options:o},{name:"residential_address_state",label:"State",options:o},{name:"residential_address_city",label:"City",options:o}],i=t.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{actions:r.a.createElement(K,{user:e})})}));return r.a.createElement(M.a,null,r.a.createElement(x,{columns:c,data:i}))})),ae=Object(i.b)((function(e){return{loggedIn:e.auth.loggedIn}}),null)((function(e){var a=e.Component,t=e.loggedIn;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(a,null):r.a.createElement(y.a,{to:"/"}))})),te=Object(i.b)(null,{getUsers:Z})((function(e){return Object(n.useEffect)((function(){e.getUsers()}),[]),r.a.createElement(M.a,null,r.a.createElement(G.a,{className:"my-2"},r.a.createElement(R.a,null,r.a.createElement(c.b,{to:"/members"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Members List"))))),r.a.createElement(R.a,null,r.a.createElement(c.b,{to:"/birthdays"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Birthdays")))))),r.a.createElement(G.a,null,r.a.createElement(R.a,null,r.a.createElement(c.b,{to:"/family"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"View / Edit family"))))),r.a.createElement(R.a,null,r.a.createElement(c.b,{to:"/changepassword"},r.a.createElement("div",{className:"home-button"},r.a.createElement("center",null,r.a.createElement("strong",null,"Change Password")))))))})),ne=t(301),re=t(302),le=t(303),oe=t(304),ce=function(e){return{type:"LOGIN_SUCCESS",payload:e}},ie=Object(i.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{login:function(e,a){return function(){var t=Object($.a)(Q.a.mark((function t(n){var r,l,o;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={username:e,password:a},t.prev=1,t.next=4,fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:if(200===(l=t.sent).status){t.next=9;break}return t.next=8,l.json();case 8:throw t.sent;case 9:return t.next=11,l.json();case 11:o=t.sent,n(ce(o)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),alert(t.t0.msg);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var a=e.login,t=e.loggedIn,l=Object(n.useState)(""),o=Object(k.a)(l,2),c=o[0],i=o[1],u=Object(n.useState)(""),s=Object(k.a)(u,2),m=s[0],d=s[1];return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(y.a,{to:"/home"}):r.a.createElement(M.a,{className:"App"},r.a.createElement("center",null,r.a.createElement("h2",null,"Sign In")),r.a.createElement(ne.a,{className:"form"},r.a.createElement(R.a,null,r.a.createElement(re.a,null,r.a.createElement(le.a,null,"Username"),r.a.createElement(oe.a,{type:"text",name:"username",value:c,onChange:function(e){return i(e.target.value)},required:!0}))),r.a.createElement(R.a,null,r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"examplePassword"},"Password"),r.a.createElement(oe.a,{type:"password",name:"password",value:m,onChange:function(e){return d(e.target.value)},required:!0}))),r.a.createElement(R.a,null,r.a.createElement("center",null,r.a.createElement(T.a,{type:"submit",color:"success",onClick:function(e){e.preventDefault(),a(c,m)}},"Login"))))))})),ue=t(14),se=t(75),me=t(55),de=t(162),Ee=t(335),pe=t(316),he=t(427),fe=t(199),ge=t.n(fe),be=function(e){Object(de.a)(t,e);var a=Object(Ee.a)(t);function t(e){var n;return Object(se.a)(this,t),(n=a.call(this,e)).capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.onChange=function(e){e.persist(),n.setState((function(a){return Object(s.a)(Object(s.a)({},a),{},{changed:!0,user:Object(s.a)(Object(s.a)({},a.user),{},Object(ue.a)({},e.target.name,e.target.value))})}))},n.onSubmit=function(e){if(e.persist(),e.preventDefault(),n.state.changed){var a=n.capitalizeFirstLetter(n.state.name),t=n.capitalizeFirstLetter(n.state.father_or_husband_name),r=n.capitalizeFirstLetter(n.state.surname),l=n.capitalizeFirstLetter(n.state.father_in_law_name),o=n.capitalizeFirstLetter(n.state.stream),c=n.capitalizeFirstLetter(n.state.profession),i=n.capitalizeFirstLetter(n.state.education_specialisation),u=a+" "+t+" "+r,m=Object(s.a)(Object(s.a)({},n.state.user),{},{name:a,father_or_husband_name:t,surname:r,father_in_law_name:l,stream:o,profession:c,education_specialisation:i,fullname:u});n.props.updateUser(m)}else n.toggle()},n.toggle=function(){n.setState({isOpen:!n.state.isOpen})},n.isFieldValid=function(e){return 0!==e.trim().length},n.isEmailValid=function(e){return!!e.match(/^$|^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)},n.state={user:Object(s.a)({},e.user),isOpen:!1,changed:!1},n}return Object(me.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.isOpen,n=a.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{color:"primary","aria-label":"View person",style:{margin:5,cursor:"pointer"},onClick:this.toggle}),r.a.createElement(F.a,{isOpen:t,toggle:this.toggle,scrollable:!0},r.a.createElement(U.a,{toggle:this.toggle},n.fullname),r.a.createElement(B.a,null,r.a.createElement(ne.a,{onSubmit:this.onSubmit},r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"name"},"Name"),r.a.createElement(oe.a,{type:"text",name:"name",placeholder:"Name",style:{textTransform:"capitalize"},onChange:this.onChange,value:n.name,invalid:!this.isFieldValid(n.name),required:!0}),r.a.createElement(pe.a,null,"Please Enter a Name")),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"father_or_husband_name"},"Middle Name"),r.a.createElement(oe.a,{type:"text",name:"father_or_husband_name",placeholder:"Middle Name",style:{textTransform:"capitalize"},onChange:this.onChange,value:n.father_or_husband_name,invalid:!this.isFieldValid(n.father_or_husband_name),required:!0}),r.a.createElement(pe.a,null,"Please Enter a Name")),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"surname"},"Last Name"),r.a.createElement(oe.a,{type:"select",name:"surname",value:n.surname,onChange:this.onChange,required:!0},r.a.createElement("option",{value:"Mall"},"Mall"),r.a.createElement("option",{value:"Mandan"},"Mandan"),r.a.createElement("option",{value:"Bhutada"},"Bhutada"),r.a.createElement("option",{value:"Navdhare"},"Navdhare"),r.a.createElement("option",{value:"Mundada"},"Mundada"),r.a.createElement("option",{value:"Ladhad"},"Ladhad"),r.a.createElement("option",{value:"Sharda"},"Sharda"),r.a.createElement("option",{value:"Sheth"},"Sheth"),r.a.createElement("option",{value:"Gagdani"},"Gagdani"),r.a.createElement("option",{value:"Rathi"},"Rathi"),r.a.createElement("option",{value:"Bhedakiya"},"Bhedakiya"),r.a.createElement("option",{value:"Karwa"},"Karwa"),r.a.createElement("option",{value:"Bhutda"},"Bhutda"),r.a.createElement("option",{value:"Somani"},"Somani"),r.a.createElement("option",{value:"Chandak"},"Chandak"),r.a.createElement("option",{value:"Kothari"},"Kothari"),r.a.createElement("option",{value:"Gingal"},"Gingal"),r.a.createElement("option",{value:"Maniyar"},"Maniyar"),r.a.createElement("option",{value:"Shah"},"Shah"),r.a.createElement("option",{value:"Gilda"},"Gilda"),r.a.createElement("option",{value:"Savar"},"Savar"),r.a.createElement("option",{value:"Jhaveri"},"Jhaveri"),r.a.createElement("option",{value:"Bathar"},"Bathar"),r.a.createElement("option",{value:"Bhopa"},"Bhopa"),r.a.createElement("option",{value:"Jeswani"},"Jeswani")),r.a.createElement(pe.a,null,"Please Enter a Name")),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"relationship_with_family_head"},"Relation"),r.a.createElement(oe.a,{type:"select",name:"relationship_with_family_head",value:n.relationship_with_family_head,onChange:this.onChange,required:!0},r.a.createElement("option",{value:"Self"},"Self"),r.a.createElement("option",{value:"Wife"},"Wife"),r.a.createElement("option",{value:"Son"},"Son"),r.a.createElement("option",{value:"Daghter"},"Daughter"))),r.a.createElement(Y,null),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"blood_group"},"Blood Group"),r.a.createElement(oe.a,{type:"select",name:"blood_group",value:n.blood_group,onChange:this.onChange,required:!0},r.a.createElement("option",{value:"A+"},"A+"),r.a.createElement("option",{value:"A-"},"A-"),r.a.createElement("option",{value:"B+"},"B+"),r.a.createElement("option",{value:"B-"},"B-"),r.a.createElement("option",{value:"O+"},"O+"),r.a.createElement("option",{value:"O-"},"O-"),r.a.createElement("option",{value:"AB+"},"AB+"),r.a.createElement("option",{value:"AB-"},"AB-"),r.a.createElement("option",{value:"N/a"},"N/a"))),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"gender"},"Gender"),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"Male",name:"gender",checked:"Male"===n.gender,onChange:this.onChange})," ","Male",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"Female",name:"gender",checked:"Female"===n.gender,onChange:this.onChange})," ","Female"),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"date_of_birth"},"Date of Birth"),r.a.createElement(ge.a,{value:n.date_of_birth,onChange:function(a){return e.setState({date_of_birth:a})},dateFormat:"DD/MM/YYYY",weekStartsOn:1})),r.a.createElement(re.a,null,r.a.createElement(G.a,null,r.a.createElement(R.a,null,r.a.createElement(le.a,{for:"marital_status"},"Marital Status"),r.a.createElement(oe.a,{type:"select",name:"marital_status",value:n.marital_status,onChange:this.onChange,required:!0},r.a.createElement("option",{value:"Married"},"Married"),r.a.createElement("option",{value:"Unmarried"},"Unmarried"),r.a.createElement("option",{value:"Widow"},"Widow"),r.a.createElement("option",{value:"Divorcee"},"Divorcee"),r.a.createElement("option",{value:"Engaged"},"Engaged"))),["Married","Widow"].includes(n.marital_status)&&r.a.createElement(R.a,null,r.a.createElement(le.a,{for:"marriage_date"},"Marriage Date"),r.a.createElement(ge.a,{value:n.marriage_date,onChange:function(a){return e.setState({marriage_date:a})},dateFormat:"DD/MM/YYYY",weekStartsOn:1})))),["Married","Widow"].includes(n.marital_status)&&r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"father_in_law_name"},"Father in Law"),r.a.createElement(oe.a,{type:"text",name:"father_in_law_name",placeholder:"Middle Name",style:{textTransform:"capitalize"},onChange:this.onChange,value:n.father_in_law_name,invalid:!this.isFieldValid(n.father_in_law_name),required:!0})),r.a.createElement(q,{text:"Communication"}),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"mobile_1"},"Mobile #1"),r.a.createElement(oe.a,{type:"text",name:"mobile_1",placeholder:"Mobile #1",onChange:this.onChange,value:n.mobile_1,required:!0})),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"mobile_2"},"Mobile #2"),r.a.createElement(oe.a,{type:"text",name:"mobile_2",placeholder:"Mobile #2",onChange:this.onChange,value:n.mobile_2})),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"name"},"Email Address"),r.a.createElement(oe.a,{type:"text",name:"email_address",placeholder:"Email",onChange:this.onChange,value:n.email_address,invalid:!this.isEmailValid(n.email_address)}),r.a.createElement(pe.a,null,"Please enter a valid email")),r.a.createElement(q,{text:"Education"}),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"education"},"Education"),r.a.createElement(oe.a,{type:"select",name:"education",value:n.education,onChange:this.onChange,required:!0},r.a.createElement("option",{value:"N/a"},"N/a"),r.a.createElement("option",{value:"School"},"School"),r.a.createElement("option",{value:"Graduate"},"Graduate"),r.a.createElement("option",{value:"High school"},"High school"),r.a.createElement("option",{value:"Post graduate"},"Post graduate"),r.a.createElement("option",{value:"College"},"College"),r.a.createElement("option",{value:"Ph d"},"Ph d"))),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"education_specialisation"},"Education Specialisation"),r.a.createElement(oe.a,{type:"text",name:"education_specialisation",placeholder:"Education Specialisation (eg: BCom, BTech)",onChange:this.onChange,value:n.education_specialisation})),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"stream"},"Stream"),r.a.createElement(oe.a,{type:"text",name:"stream",placeholder:"Stream",onChange:this.onChange,value:n.stream})),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"profession"},"Profession"),r.a.createElement(oe.a,{type:"text",name:"profession",placeholder:"Profession",onChange:this.onChange,value:n.profession})),r.a.createElement(Y,null))),r.a.createElement(D.a,null,r.a.createElement(G.a,null,r.a.createElement(R.a,{className:"mb-2"},r.a.createElement("center",null,r.a.createElement(T.a,{color:"primary",type:"submit"},r.a.createElement("strong",null,"Save"))," ",r.a.createElement(T.a,{color:"danger",onClick:this.toggle},r.a.createElement("strong",null,"Cancel"))))))))}}]),t}(n.Component),ve=Object(i.b)(null,{updateUser:function(e){return function(){var a=Object($.a)(Q.a.mark((function a(t){var n,r;return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={user:e},a.prev=1,a.next=4,fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:if(200===(r=a.sent).status){a.next=9;break}return a.next=8,r.json();case 8:throw a.sent;case 9:t({type:"UPDATE_USER",payload:e}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),alert(a.t0.msg);case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()}})(be),_e=Object(i.b)((function(e){return{familyMembers:e.user.users.filter((function(a){return a.family_no===e.auth.user.family_no}))}}))((function(e){return r.a.createElement(M.a,null,e.familyMembers.map((function(e){return r.a.createElement(M.a,{key:e._id},r.a.createElement(G.a,null,r.a.createElement(R.a,null,r.a.createElement(G.a,null,e.fullname)),r.a.createElement(R.a,null,r.a.createElement("center",null,e.relationship_with_family_head)),r.a.createElement(R.a,{xs:"3"},r.a.createElement(V,{user:e}),r.a.createElement(ve,{user:e}))),r.a.createElement("hr",null))})))})),ye=t(161),Oe=t.n(ye),we=Object(i.b)((function(e){return{users:e.user.users,birthdays:e.user.users.filter((function(e){return Oe()().format("DDMM")===Oe()(e.date_of_birth).format("DDMM")}))}}),{getUsers:Z})((function(e){var a=e.getUsers,t=e.users,l=e.birthdays;Object(n.useEffect)((function(){0===t.length&&a()}),[]);var o=l.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{actions:r.a.createElement(K,{user:e})})}));return r.a.createElement(M.a,null,r.a.createElement(x,{columns:[{name:"fullname",label:"Name",options:{filter:!1,sort:!0,sortThirdClickReset:!0}},{name:"actions",label:"Actions",options:{filter:!1,sort:!1}}],data:o}))})),Ce=t(305),je=t(306),Se=t(428),xe=t(429),Me=Object(i.b)((function(e){return{loggedIn:e.auth.loggedIn}}),{logOut:function(){return{type:"LOGOUT"}}})((function(e){var a=e.loggedIn,t=e.logOut;return r.a.createElement("div",null,r.a.createElement(Ce.a,{light:!0},r.a.createElement(je.a,{tag:c.b,to:"/",style:{textDecoration:"none"}},r.a.createElement("span",{className:"navbar-text"},r.a.createElement(Se.a,null))),a&&r.a.createElement(je.a,{onClick:t,style:{textDecoration:"none",cursor:"pointer"}},r.a.createElement("span",{className:"navbar-text"},r.a.createElement(xe.a,null)))))})),Pe=function(){return r.a.createElement("h1",null,"Not yet built")},Ne=Object(i.b)((function(e){return{username:e.auth.user.person_no.toString()}}),null)((function(e){var a=Object(n.useState)(""),t=Object(k.a)(a,2),l=t[0],o=t[1],c=Object(n.useState)(""),i=Object(k.a)(c,2),u=i[0],s=i[1],m=Object(n.useState)(""),d=Object(k.a)(m,2),E=d[0],p=d[1],h=function(){var a=Object($.a)(Q.a.mark((function a(t){var n,r,c;return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.persist(),t.preventDefault(),n={username:e.username,oldPassword:l,newPassword:u},a.next=5,fetch("/api/auth/changePassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return r=a.sent,a.next=8,r.json();case 8:c=a.sent,alert(c.msg),o(""),s(""),p("");case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),f=function(e){return 0!==e.trim().length};return r.a.createElement(M.a,null,r.a.createElement(ne.a,{onSubmit:h},r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"oldPassword"},"Old Password"),r.a.createElement(oe.a,{type:"password",name:"oldPassword",placeholder:"Old Password",onChange:function(e){return o(e.target.value)},value:l,invalid:!f(l),required:!0}),r.a.createElement(pe.a,null,"Please Enter your old password")),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"newPassword"},"New Password"),r.a.createElement(oe.a,{type:"password",name:"newPassword",placeholder:"New Password",onChange:function(e){return s(e.target.value)},value:u,required:!0})),r.a.createElement(re.a,null,r.a.createElement(le.a,{for:"repeatNewPassword"},"Repeat New Password"),r.a.createElement(oe.a,{type:"password",name:"repeatNewPassword",placeholder:"Repeat New Password",onChange:function(e){return p(e.target.value)},value:E,invalid:u!==E,required:!0}),r.a.createElement(pe.a,null,"Passwords don't match")),r.a.createElement("center",null,r.a.createElement(T.a,{color:"primary",type:"submit",disabled:!f(l)||u!==E},r.a.createElement("strong",null,"Submit")))))}));t(398);var ke=function(){return console.log("You probably shouldn't be here"),r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,null),r.a.createElement(y.d,null,r.a.createElement(y.b,{exact:!0,path:"/",component:ie}),r.a.createElement(y.b,{exact:!0,path:"/home",render:function(e){return r.a.createElement(ae,Object.assign({},e,{Component:te}))}}),r.a.createElement(y.b,{exact:!0,path:"/members",render:function(e){return r.a.createElement(ae,Object.assign({},e,{Component:ee}))}}),r.a.createElement(y.b,{exact:!0,path:"/birthdays",render:function(e){return r.a.createElement(ae,Object.assign({},e,{Component:we}))}}),r.a.createElement(y.b,{exact:!0,path:"/family",render:function(e){return r.a.createElement(ae,Object.assign({},e,{Component:_e}))}}),r.a.createElement(y.b,{exact:!0,path:"/changepassword",render:function(e){return r.a.createElement(ae,Object.assign({},e,{Component:Ne}))}}),r.a.createElement(y.b,{exact:!0,path:"/workinprogress",component:Pe})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:_},r.a.createElement(c.a,null,r.a.createElement(ke,null)))),document.getElementById("root"))}},[[345,1,2]]]);
//# sourceMappingURL=main.2fdd13ae.chunk.js.map